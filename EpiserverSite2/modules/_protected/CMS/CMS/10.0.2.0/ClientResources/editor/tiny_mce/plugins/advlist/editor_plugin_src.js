(function(){var e=tinymce.each;tinymce.create("tinymce.plugins.AdvListPlugin",{init:function(t){function i(t){var i=[];return e(t.split(/,/),function(e){i.push({title:"advlist."+("default"==e?"def":e.replace(/-/g,"_")),styles:{listStyleType:"default"==e?"":e}})}),i}var n=this;n.editor=t,n.numlist=t.getParam("advlist_number_styles")||i("default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"),n.bullist=t.getParam("advlist_bullet_styles")||i("default,circle,disc,square"),tinymce.isIE&&/MSIE [2-7]/.test(navigator.userAgent)&&(n.isIE7=!0)},createControl:function(t,i){function n(t,i){var n=!0;return e(i.styles,function(e,i){return l.dom.getStyle(t,i)!=e?(n=!1,!1):void 0}),n}function o(){var e,i=l.dom,o=l.selection;e=i.getParent(o.getNode(),"ol,ul"),(!e||e.nodeName==("bullist"==t?"OL":"UL")||n(e,r))&&l.execCommand("bullist"==t?"InsertUnorderedList":"InsertOrderedList"),r&&(e=i.getParent(o.getNode(),"ol,ul"),e&&(i.setStyles(e,r.styles),e.removeAttribute("data-mce-style"))),l.focus()}var a,r,s=this,l=s.editor;return"numlist"==t||"bullist"==t?("advlist.def"==s[t][0].title&&(r=s[t][0]),a=i.createSplitButton(t,{title:"advanced."+t+"_desc","class":"mce_"+t,onclick:function(){o()}}),a.onRenderMenu.add(function(i,a){a.onHideMenu.add(function(){s.bookmark&&(l.selection.moveToBookmark(s.bookmark),s.bookmark=0)}),a.onShowMenu.add(function(){var i,o=l.dom,u=o.getParent(l.selection.getNode(),"ol,ul");(u||r)&&(i=s[t],e(a.items,function(t){var o=!0;t.setSelected(0),u&&!t.isDisabled()&&(e(i,function(e){return e.id!=t.id||n(u,e)?void 0:(o=!1,!1)}),o&&t.setSelected(1))}),u||a.items[r.id].setSelected(1)),l.focus(),tinymce.isIE&&(s.bookmark=l.selection.getBookmark(1))}),a.add({id:l.dom.uniqueId(),title:"advlist.types","class":"mceMenuItemTitle",titleItem:!0}).setDisabled(1),e(s[t],function(e){s.isIE7&&"lower-greek"==e.styles.listStyleType||(e.id=l.dom.uniqueId(),a.add({id:e.id,title:e.title,onclick:function(){r=e,o()}}))})}),a):void 0},getInfo:function(){return{longname:"Advanced lists",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advlist",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("advlist",tinymce.plugins.AdvListPlugin)})();