(function(e){e.create("tinymce.plugins.epivisualaid",{init:function(e){var t=this;e.onVisualAid.add(function(e,n,i){i||1===i?e.dom.addClass(e.getBody(),"epi_visualaid"):e.dom.removeClass(e.getBody(),"epi_visualaid"),t._injectBrowserSpecificClass(e)}),e.onSubmit.addToTop(function(e){e.dom.removeClass(e.getBody(),"epi_visualaid")})},getInfo:function(){return{longname:"Enhanced Visual Aid",author:"EPiServer AB",authorurl:"http://www.episerver.com",infourl:"http://www.episerver.com",version:"1.0"}},_injectBrowserSpecificClass:function(e){var t="";window.tinyMCE.isAir&&(t="epi_visualaid_air"),window.tinyMCE.isGecko&&(t="epi_visualaid_gecko"),window.tinyMCE.isIE&&(t="epi_visualaid_ie"),window.tinyMCE.isMac&&(t="epi_visualaid_mac"),window.tinyMCE.isOpera&&(t="epi_visualaid_opera"),window.tinyMCE.isWebKit&&(t="epi_visualaid_webkit"),t&&e.dom.addClass(e.getBody(),t)}}),e.PluginManager.add("epivisualaid",e.plugins.epivisualaid)})(tinymce,epiJQuery);