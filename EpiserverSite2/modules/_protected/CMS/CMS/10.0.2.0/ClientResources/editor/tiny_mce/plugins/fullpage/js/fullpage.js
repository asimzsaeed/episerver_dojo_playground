(function(){function e(e,t){var n=document.getElementById(e);n&&(t=t||"","SELECT"==n.nodeName?selectByValue(document.forms[0],e,t):"checkbox"==n.type?n.checked=!!t:n.value=t)}function t(e){var t=document.getElementById(e);return"SELECT"==t.nodeName?t.options[t.selectedIndex].value:"checkbox"==t.type?t.checked:t.value}function n(){var t,n,l,s=document.forms[0],d=tinyMCEPopup.editor;for(l=d.getParam("fullpage_doctypes",i).split(","),t=0;l.length>t;t++)n=l[t].split("="),n.length>1&&addSelectValue(s,"doctype",n[0],n[1]);for(l=d.getParam("fullpage_fonts",a).split(";"),t=0;l.length>t;t++)n=l[t].split("="),n.length>1&&addSelectValue(s,"fontface",n[0],n[1]);for(l=d.getParam("fullpage_fontsizes",r).split(","),t=0;l.length>t;t++)addSelectValue(s,"fontsize",l[t],l[t]);for(l=d.getParam("fullpage_encodings",o).split(","),t=0;l.length>t;t++)n=l[t].split("="),n.length>1&&addSelectValue(s,"docencoding",n[0],n[1]);document.getElementById("bgcolor_pickcontainer").innerHTML=getColorPickerHTML("bgcolor_pick","bgcolor"),document.getElementById("link_color_pickcontainer").innerHTML=getColorPickerHTML("link_color_pick","link_color"),document.getElementById("visited_color_pickcontainer").innerHTML=getColorPickerHTML("visited_color_pick","visited_color"),document.getElementById("active_color_pickcontainer").innerHTML=getColorPickerHTML("active_color_pick","active_color"),document.getElementById("textcolor_pickcontainer").innerHTML=getColorPickerHTML("textcolor_pick","textcolor"),document.getElementById("stylesheet_browsercontainer").innerHTML=getBrowserHTML("stylesheetbrowser","stylesheet","file","fullpage"),document.getElementById("bgimage_pickcontainer").innerHTML=getBrowserHTML("bgimage_browser","bgimage","image","fullpage"),isVisible("stylesheetbrowser")&&(document.getElementById("stylesheet").style.width="220px"),isVisible("link_href_browser")&&(document.getElementById("element_link_href").style.width="230px"),isVisible("bgimage_browser")&&(document.getElementById("bgimage").style.width="210px"),tinymce.each(tinyMCEPopup.getWindowArg("data"),function(t,n){e(n,t)}),FullPageDialog.changedStyle(),updateColor("textcolor_pick","textcolor"),updateColor("bgcolor_pick","bgcolor"),updateColor("visited_color_pick","visited_color"),updateColor("active_color_pick","active_color"),updateColor("link_color_pick","link_color")}tinyMCEPopup.requireLangPack();var i='XHTML 1.0 Transitional=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">,XHTML 1.0 Frameset=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">,XHTML 1.0 Strict=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">,XHTML 1.1=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">,HTML 4.01 Transitional=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">,HTML 4.01 Strict=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">,HTML 4.01 Frameset=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd">',o="Western european (iso-8859-1)=iso-8859-1,Central European (iso-8859-2)=iso-8859-2,Unicode (UTF-8)=utf-8,Chinese traditional (Big5)=big5,Cyrillic (iso-8859-5)=iso-8859-5,Japanese (iso-2022-jp)=iso-2022-jp,Greek (iso-8859-7)=iso-8859-7,Korean (iso-2022-kr)=iso-2022-kr,ASCII (us-ascii)=us-ascii",a="Arial=arial,helvetica,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,times new roman,times,serif;Tahoma=tahoma,arial,helvetica,sans-serif;Times New Roman=times new roman,times,serif;Verdana=verdana,arial,helvetica,sans-serif;Impact=impact;WingDings=wingdings",r="10px,11px,12px,13px,14px,15px,16px";window.FullPageDialog={changedStyle:function(){var n,i=tinyMCEPopup.editor.dom.parseStyle(t("style"));e("fontface",i["font-face"]),e("fontsize",i["font-size"]),e("textcolor",i.color),(n=i["background-image"])?e("bgimage",n.replace(RegExp("url\\('?([^']*)'?\\)","gi"),"$1")):e("bgimage",""),e("bgcolor",i["background-color"]),e("topmargin",""),e("rightmargin",""),e("bottommargin",""),e("leftmargin",""),(n=i.margin)&&(n=n.split(" "),i["margin-top"]=n[0]||"",i["margin-right"]=n[1]||n[0]||"",i["margin-bottom"]=n[2]||n[0]||"",i["margin-left"]=n[3]||n[0]||""),(n=i["margin-top"])&&e("topmargin",n.replace(/px/,"")),(n=i["margin-right"])&&e("rightmargin",n.replace(/px/,"")),(n=i["margin-bottom"])&&e("bottommargin",n.replace(/px/,"")),(n=i["margin-left"])&&e("leftmargin",n.replace(/px/,"")),updateColor("bgcolor_pick","bgcolor"),updateColor("textcolor_pick","textcolor")},changedStyleProp:function(){var n,i=tinyMCEPopup.editor.dom,o=i.parseStyle(t("style"));o["font-face"]=t("fontface"),o["font-size"]=t("fontsize"),o.color=t("textcolor"),o["background-color"]=t("bgcolor"),o["background-image"]=(n=t("bgimage"))?"url('"+n+"')":"",delete o.margin,o["margin-top"]=(n=t("topmargin"))?n+"px":"",o["margin-right"]=(n=t("rightmargin"))?n+"px":"",o["margin-bottom"]=(n=t("bottommargin"))?n+"px":"",o["margin-left"]=(n=t("leftmargin"))?n+"px":"",e("style",i.serializeStyle(i.parseStyle(i.serializeStyle(o)))),this.changedStyle()},update:function(){var e={};tinymce.each(tinyMCEPopup.dom.select("select,input,textarea"),function(n){e[n.id]=t(n.id)}),tinyMCEPopup.editor.plugins.fullpage._dataToHtml(e),tinyMCEPopup.close()}},tinyMCEPopup.onInit.add(n)})();