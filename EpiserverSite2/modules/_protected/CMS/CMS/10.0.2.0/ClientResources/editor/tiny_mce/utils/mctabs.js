function MCTabs(){this.settings=[],this.onChange=tinyMCEPopup.editor.windowManager.createInstance("tinymce.util.Dispatcher")}MCTabs.prototype.init=function(e){this.settings=e},MCTabs.prototype.getParam=function(e,t){var n=null;return n=this.settings[e]===void 0?t:this.settings[e],"true"==n||"false"==n?"true"==n:n},MCTabs.prototype.showTab=function(e){e.className="current",e.setAttribute("aria-selected",!0),e.setAttribute("aria-expanded",!0),e.tabIndex=0},MCTabs.prototype.hideTab=function(e){e.className="",e.setAttribute("aria-selected",!1),e.setAttribute("aria-expanded",!1),e.tabIndex=-1},MCTabs.prototype.showPanel=function(e){e.className="current",e.setAttribute("aria-hidden",!1)},MCTabs.prototype.hidePanel=function(e){e.className="panel",e.setAttribute("aria-hidden",!0)},MCTabs.prototype.getPanelForTab=function(e){return tinyMCEPopup.dom.getAttrib(e,"aria-controls")},MCTabs.prototype.displayTab=function(e,t,n){var i,o,a,r,s,l,c,d=this;if(a=document.getElementById(e),void 0===t&&(t=d.getPanelForTab(a)),i=document.getElementById(t),o=i?i.parentNode:null,r=a?a.parentNode:null,s=d.getParam("selection_class","current"),a&&r){for(l=r.childNodes,c=0;l.length>c;c++)"LI"==l[c].nodeName&&d.hideTab(l[c]);d.showTab(a)}if(i&&o){for(l=o.childNodes,c=0;l.length>c;c++)"DIV"==l[c].nodeName&&d.hidePanel(l[c]);n||a.focus(),d.showPanel(i)}},MCTabs.prototype.getAnchor=function(){var e,t=document.location.href;return-1!=(e=t.lastIndexOf("#"))?t.substring(e+1):""};var mcTabs=new MCTabs;tinyMCEPopup.onInit.add(function(){var e=tinyMCEPopup.getWin().tinymce,t=tinyMCEPopup.dom,n=e.each;n(t.select("div.tabs"),function(i){var o;t.setAttrib(i,"role","tablist");var a=tinyMCEPopup.dom.select("li",i),r=function(e){mcTabs.displayTab(e,mcTabs.getPanelForTab(e)),mcTabs.onChange.dispatch(e)};n(a,function(e){t.setAttrib(e,"role","tab"),t.bind(e,"click",function(){r(e.id)})}),t.bind(t.getRoot(),"keydown",function(t){9===t.keyCode&&t.ctrlKey&&!t.altKey&&(o.moveFocus(t.shiftKey?-1:1),e.dom.Event.cancel(t))}),n(t.select("a",i),function(e){t.setAttrib(e,"tabindex","-1")}),o=tinyMCEPopup.editor.windowManager.createInstance("tinymce.ui.KeyboardNavigation",{root:i,items:a,onAction:r,actOnFocus:!0,enableLeftRight:!0,enableUpDown:!0},tinyMCEPopup.dom)})});