//>>built
define("epi-cms/_SidePanelsToggleMixin",["dojo/_base/declare","dojo/_base/lang","dojo/promise/all","dojo/when","dojo/topic","epi/dependency"],function(_1,_2,_3,_4,_5,_6){return _1([],{_profile:null,_isNavigationVisible:null,_isToolsVisible:null,constructor:function(){if(!this._profile){this._profile=_6.resolve("epi.shell.Profile");}this._storePanelVisibility();},_restoreSidePanels:function(){_5.publish("/epi/layout/pinnable/navigation/toggle",this._isNavigationVisible);_5.publish("/epi/layout/pinnable/tools/toggle",this._isToolsVisible);},_hideSidePanels:function(){this._storePanelVisibility().then(function(){_5.publish("/epi/layout/pinnable/navigation/toggle",false);_5.publish("/epi/layout/pinnable/tools/toggle",false);});},_storePanelVisibility:function(){return _3([_4(this._profile.get("navigation"),_2.hitch(this,function(_7){this._isNavigationVisible=_7?_7.visible:false;})),_4(this._profile.get("tools"),_2.hitch(this,function(_8){this._isToolsVisible=_8?_8.visible:false;}))]);}});});