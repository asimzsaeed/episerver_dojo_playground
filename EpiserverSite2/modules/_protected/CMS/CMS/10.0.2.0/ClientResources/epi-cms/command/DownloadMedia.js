//>>built
define("epi-cms/command/DownloadMedia",["dojo/_base/declare","dojo/Deferred","dojo/dom-construct","dojo/has","dojo/sniff","dojo/when","epi/shell/Downloader","epi/shell/TypeDescriptorManager","epi/shell/command/_Command","epi/shell/command/_SelectionCommandMixin","epi/i18n!epi/cms/nls/episerver.cms.command"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){return _1([_9,_a],{label:_b.download,tooltip:_b.download,iconClass:"epi-iconDownload",_execute:function(){var _c=this._getContentData();if(!_c){return;}_7.download(_c.downloadUrl,_c.name);},_onModelChange:function(){var _d=this._getContentData(),_e=_d&&_d.downloadUrl,_f=_d&&_d.typeIdentifier,_10=_f&&_8.getValue(_f,"actAsAnAsset");this.set("canExecute",!!(_10&&_e));},_getContentData:function(){var _11=null;if(this.selection&&this.selection.data&&this.selection.data instanceof Array&&this.selection.data.length===1){_11=this.selection.data[0].data;}return _11;}});});