//>>built
define("epi-cms/command/PasteContent",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/promise/all","dojo/when","epi","epi/shell/command/_Command","epi/shell/command/_ClipboardCommandMixin","epi/shell/command/_SelectionCommandMixin"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _2([_7,_8,_9],{label:_6.resources.action.paste,iconClass:"epi-iconPaste",createAsLocalAsset:false,_execute:function(){var _a=this.get("clipboardData"),_b=this.get("selectionData");this.model.set("createAsLocalAsset",this.createAsLocalAsset);if(this.clipboard.copy){return this.model.copy(_a,_b);}else{return _5(this.model.move(_a,_b),_3.hitch(this,function(){this.clipboard.clear();}));}},_onModelChange:function(){var _c=this,_d=_c.model,_e=_c.get("clipboardData"),_f=_c.get("selectionData");_c.set("canExecute",false);if(_d&&_e&&_e.length&&_f){var _10=_1.map(_e,function(_11){return _d.canPaste(_11.data,_f,_c.clipboard.copy);});_5(_4(_10),function(_12){var _13=_1.every(_12,function(_14){return _14;});if(_c.clipboard.copy){_c.set("canExecute",_13);return;}_d.getAncestors(_f,function(_15){var _16=_1.some(_e,function(_17){return _1.indexOf(_15,_17.data)>=0;});_c.set("canExecute",_13&&!_16);});});}}});});