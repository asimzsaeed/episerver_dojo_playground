//>>built
define("epi-cms/command/TranslateContent",["dojo/_base/declare","dojo/topic","epi/i18n!epi/cms/nls/episerver.cms.contentediting.toolbar.buttons.translate","epi/shell/command/_Command"],function(_1,_2,_3,_4){return _1([_4],{label:_3.label,executingLabel:_3.executinglabel,tooltip:_3.title,category:"context",_execute:function(){var _5=this._getNormalizedModel();if(typeof this.executeDelegate==="function"){this.executeDelegate(this.model);}else{var _6={contentData:_5.content,languageBranch:_5.language.preferredLanguage};_2.publish("/epi/shell/action/changeview","epi-cms/contentediting/CreateLanguageBranch",null,_6);}},_onModelChange:function(){var _7=this._getNormalizedModel(),_8=_7&&_7.language,_9=_7&&_7.content.isDeleted,_a=_8&&_8.isTranslationNeeded&&!_9,_b=_a&&_8.hasTranslationAccess&&_8.isPreferredLanguageAvailable;if(_7&&typeof _7.content.canTranslateContent==="function"){var _c=_7.content.canTranslateContent();_a=_a&&_c;_b=_b&&_c;}this.set("isAvailable",!!_a);this.set("canExecute",!!_b);},_getNormalizedModel:function(){var _d=this.model;if(_d){return {content:_d.contentData||_d,language:_d.languageContext||_d.missingLanguageBranch};}}});});