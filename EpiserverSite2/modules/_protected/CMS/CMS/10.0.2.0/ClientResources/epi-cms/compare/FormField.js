//>>built
define("epi-cms/compare/FormField",["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dijit/form/Button","epi/shell/form/Field","epi/shell/form/formFieldRegistry","epi/i18n!epi/cms/nls/episerver.cms.compare"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){var _a=_1([_7],{_copyButton:null,buildRendering:function(){this.inherited(arguments);this.own(this._copyButton=new _6({"class":"epi-form-container__section__row__copy-button epi-chromeless",iconClass:"epi-icon-compare--copy",label:_9.copy.label,title:_9.copy.tooltip}).placeAt(this.domNode,"last"));this._copyButton.on("click",_2.hitch(this,function(){this.model.copy(this.params.name);}));},addChild:function(_b,_c){var _d,_e=_4.create("div",{"class":"epi-form-container__section__row__editor--"+_b._type},this.domNode);if(_b.checkbox){_d=(_b._type==="compare")?_4.create("label",{innerHTML:_b.label},_e):_4.place(this.labelNode,_e);this._addCheckboxChild(_b,_d);}else{_b.placeAt(_e);}},destroy:function(){this.inherited(arguments);if(this._comparisonWatch){this._comparisonWatch.remove();this._comparisonWatch=null;}},_setReadonlyIconDisplayAttr:function(_f){this.inherited(arguments);if(this._copyButton){_5.set(this._copyButton.domNode,"display",_f?"none":"");}},_setModelAttr:function(_10){this._set("model",_10);if(this._comparisonWatch){this._comparisonWatch.remove();}this._updateChangedState();this._comparisonWatch=_10.watch("comparison",_2.hitch(this,"_updateChangedState"));},_updateChangedState:function(){var _11=this.model.comparison,_12=_11&&_11[this.groupName],_13=_12&&_12.indexOf(this.name.toLowerCase())>=0;_3.toggle(this.domNode,"epi-form-container__section__row--has-changes",_13);}});function _14(_15,_16){var _17=new _a({labelTarget:_15.checkbox?_15.checkbox.id:_15.id,label:_15.label,tooltip:_15.tooltip,name:_15.name,groupName:_15.groupName.toLowerCase(),readonlyIconDisplay:_15.readOnly,hasFullWidthValue:_15.useFullWidth});_17.own(_15.watch("readOnly",function(_18,_19,_1a){_17.set("readonlyIconDisplay",_1a);}));return _17;};function _1b(_1c,_1d){var _1e=_1d.getChildren().pop();_1e.set("model",_1c.compareViewModel);return _1e;};_1b.preventAdd=true;_8.add([{type:_8.type.field,hint:"compare",factory:_14},{type:"compare",hint:"",factory:_1b}]);return _a;});