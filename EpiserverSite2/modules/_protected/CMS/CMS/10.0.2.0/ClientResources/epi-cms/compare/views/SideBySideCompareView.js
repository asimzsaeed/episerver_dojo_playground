//>>built
define("epi-cms/compare/views/SideBySideCompareView",["dojo/_base/declare","dojo/_base/lang","dojo/topic","epi/shell/widget/Iframe","epi/shell/widget/_ModelBindingMixin","epi-cms/contentediting/OnPageEditing"],function(_1,_2,_3,_4,_5,_6){return _1([_6,_5],{createOverlays:true,modelBindingMap:{rightVersionUrl:["rightVersionUrl"]},_rightIframe:null,buildRendering:function(){this.inherited(arguments);this._setupComparePanes();},destroy:function(){this._removeAndDestroyComparePanes();this.inherited(arguments);},_setRightVersionUrlAttr:function(_7){if(_7){this._rightIframe.load(_7);}},_setupComparePanes:function(){var _8=this.model.orientation;this._rightIframe=new _4({region:_8==="vertical"?"right":"bottom",layoutPriority:100,style:_8==="vertical"?"width: 50%;":"height: 50%",splitter:true,"class":"epi-iframe--overflow epi-editorViewport"});this.own(this._rightIframe.on("load",_2.hitch(this,this._onRightIframeLoad)));this.mainLayoutContainer.addChild(this._rightIframe);},_onRightIframeLoad:function(_9,_a){if(!!_9&&!_a&&_9!==this.model.rightVersionUrl){_3.publish("/epi/shell/context/request",{url:_9},{sender:this,forceContextChange:true,suppressFailure:true});}},_removeAndDestroyComparePanes:function(){if(this._rightIframe){this.mainLayoutContainer.removeChild(this._rightIframe);this._rightIframe.destroyRecursive();this._rightIframe=null;}}});});