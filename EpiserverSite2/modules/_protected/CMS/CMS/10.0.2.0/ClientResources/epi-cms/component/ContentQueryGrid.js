//>>built
define("epi-cms/component/ContentQueryGrid",["dojo/_base/declare","dojo/_base/lang","dojo/when","dojo/aspect","epi-cms/contentediting/ContentActionSupport","epi-cms/widget/_GridWidgetBase"],function(_1,_2,_3,_4,_5,_6){return _1([_6],{queryName:null,queryParameters:null,dndTypes:["epi.cms.contentreference"],postMixInProperties:function(){this.storeKeyName="epi.cms.content.search";this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);var _7=_2.mixin({columns:{name:{renderCell:_2.hitch(this,this._renderContentItem)},status:{className:"epi-width35",renderCell:function(_8,_9,_a,_b){_a.innerHTML=_5.getVersionStatus(_9);}}},store:this.store,dndSourceType:this.dndTypes},this.defaultGridMixin);this.grid=new this._gridClass(_7,this.domNode);this.grid.set("showHeader",false);this.own(_4.around(this.grid,"insertRow",_2.hitch(this,this._aroundInsertRow)));},fetchData:function(){_3(this._getCurrentItem(),_2.hitch(this,function(_c){this.set("currentItem",_c);}));this.grid.set("queryOptions",{ignore:["query"],sort:[{attribute:"name",descending:true}]});var _d=this.queryParameters||{};_d.query=this.queryName;this.grid.set("query",_d);},_setQueryNameAttr:function(_e){this.queryName=_e;this.fetchData();}});});