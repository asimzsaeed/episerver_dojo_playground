//>>built
define("epi-cms/component/PageNavigationTree",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/when","epi-cms/ApplicationSettings","../command/NewContent","./command/ViewTrash","./ContentNavigationTree","epi/i18n!epi/cms/nls/episerver.cms.components.createpage"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){return _2([_9],{betweenThreshold:5,expandExtraNodeItems:_6.startPage,allowSorting:true,postMixInProperties:function(){this.inherited(arguments);this.checkAcceptance=_3.hitch(this,this.checkAcceptance);this.checkItemAcceptance=_3.hitch(this,this.checkItemAcceptance);},checkAcceptance:function(_b,_c){return _b===this.tree.dndController;},checkItemAcceptance:function(_d,_e,_f){return this.allowSorting||_f==="over";},_startupCommands:function(){this.inherited(arguments);this._createCommand=new _7({order:10,contentType:this.settings.containedTypes[0],iconClass:"epi-iconPlus",label:_a.command.label,resources:_a});this.commands=_1.filter(this.commands,_3.hitch(this,function(_10){return !(_10 instanceof _7);}));this._viewTrashCommand=new _8({typeIdentifiers:this.typeIdentifiers,order:100});this.commands.push(this._createCommand);this.commands.push(this._viewTrashCommand);},_setShowAllLanguagesAttr:function(_11){this.inherited(arguments);this.allowSorting=!!_11;},getIconClass:function(_12,_13){var _14=_1.some(this.model.roots,function(_15){return _15===this.model.getIdentity(_12);},this);if(_14){return "epi-iconObjectRoot";}else{if(_12.isStartPage){return "epi-iconObjectStart";}else{return this.inherited(arguments);}}}});});