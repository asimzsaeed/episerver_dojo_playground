//>>built
require({cache:{"url:epi-cms/component/templates/Tasks.html":"<div>\r\n    <div class=\"epi-gadgetInnerToolbar\" data-dojo-attach-point=\"toolbar\">\r\n        <div data-dojo-type=\"dijit/form/Button\" data-dojo-attach-point=\"reloadButton\" data-dojo-attach-event=\"onClick: _reloadQuery\"\r\n            class=\"epi-chromelessButton epi-iconReload epi-input-margin--left dijitInline dijitReset\">\r\n        </div>\r\n    </div>\r\n    <div data-dojo-type=\"epi-cms/component/ContentQueryGrid\" data-dojo-attach-point=\"contentQuery\">\r\n    </div>\r\n</div>\r\n"}});define("epi-cms/component/Tasks",["dojo","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dojo/dom-geometry","dojo/topic","dijit/form/Select","dijit/_TemplatedMixin","dijit/_Container","dijit/layout/_LayoutWidget","dijit/_WidgetsInTemplateMixin","epi","epi-cms/component/ContentQueryGrid","dojo/text!./templates/Tasks.html","epi/i18n!epi/cms/nls/episerver.cms.components.tasks"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10){return _2([_a,_b,_9,_c],{templateString:_f,resources:_10,querySelection:null,_selectionChangedEventHandler:null,postCreate:function(){this.inherited(arguments);var _11=_3.map(this.queries,function(_12){return {label:_12.displayName,value:_12.name};},this);this.querySelection=new _8({name:"QuerySelection",options:_11});_5.place(this.querySelection.domNode,this.reloadButton.domNode,"before");this.own(this.querySelection.on("change",_4.hitch(this,this._reloadQuery)),_7.subscribe("/epi/cms/action/refreshmytasks",_4.hitch(this,this._reloadQuery)));},startup:function(){this.inherited(arguments);this._reloadQuery();},resize:function(_13){this.inherited(arguments);this.contentQuery.resize(this._caculateContentQuerySize(_13));},_caculateContentQuerySize:function(_14){var _15=_6.getMarginBox(this.toolbar);return {w:_14.w,h:_14.h-_15.h};},_reloadQuery:function(){var _16=this.querySelection.get("value");_3.some(this.queries,function(_17,_18){if(_17.name===_16){this.contentQuery.set("ignoreVersionWhenComparingLinks",!_17.versionSpecific);return true;}},this);this.contentQuery.set("queryName",_16);}});});