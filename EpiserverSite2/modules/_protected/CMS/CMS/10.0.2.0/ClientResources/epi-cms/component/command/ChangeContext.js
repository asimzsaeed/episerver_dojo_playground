//>>built
define("epi-cms/component/command/ChangeContext",["dojo/_base/declare","dojo/topic","epi-cms/contentediting/ContentActionSupport","epi/shell/command/_Command","epi/i18n!epi/cms/nls/episerver.shared.action"],function(_1,_2,_3,_4,_5){return _1([_4],{contentActionSupport:null,forceContextChange:false,forceReload:false,viewType:null,viewName:null,postscript:function(){this.inherited(arguments);this.contentActionSupport=this.contentActionSupport||_3;},_execute:function(){_2.publish("/epi/shell/context/request",{uri:this.model.uri},{sender:null,forceReload:this.forceReload,forceContextChange:this.forceContextChange,viewType:this.viewType,viewName:this.viewName});},_onModelChange:function(){if(!this.model){this.set("canExecute",false);return;}if(this.model.length===1){this.model=this.model[0];}var _6=this.model instanceof Array;var _7=this.contentActionSupport.hasAccess(this.model.accessMask,this.contentActionSupport.accessLevel.Read);this.set("canExecute",!_6&&_7);if(!_6){if(this.contentActionSupport.hasAccess(this.model.accessMask,this.contentActionSupport.accessLevel.Edit)){this.set("label",_5.edit);this.set("iconClass","epi-iconPen");}else{this.set("label",_5.view);this.set("iconClass","epi-iconSearch");}}}});});