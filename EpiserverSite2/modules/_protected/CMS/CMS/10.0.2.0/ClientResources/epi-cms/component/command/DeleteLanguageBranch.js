//>>built
define("epi-cms/component/command/DeleteLanguageBranch",["dojo/_base/declare","dojo/_base/lang","dojo/when","epi/dependency","epi/shell/command/_Command","epi-cms/_MultilingualMixin","epi-cms/ApplicationSettings","epi-cms/core/ContentReference","epi-cms/contentediting/ContentActionSupport"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _1([_5,_6],{label:"",iconClass:"",category:"context",postscript:function(){this.inherited(arguments);this.storeRegistry=this.storeRegistry||_4.resolve("epi.storeregistry");this._versions=this.storeRegistry.get("epi.cms.contentversion");this._structure=this.storeRegistry.get("epi.cms.content.light");},_execute:function(){var _a=_8.toContentReference(this.model.contentLink);return _3(this._versions.remove(_a,{deleteLanguageBranch:true}),_2.hitch(this,function(){return this._structure.refresh(_a.createVersionUnspecificReference().toString());}));},_onModelChange:function(){var _b=this.model,_c=!!(_b&&_b.currentLanguageBranch&&_b.capabilities.deleteLanguageBranch&&!_7.disableVersionDeletion),_d=_c&&!_b.currentLanguageBranch.isMasterLanguage&&_9.isActionAvailable(_b,_9.action.Delete);this.set("canExecute",_d);this.set("isAvailable",_c);}});});