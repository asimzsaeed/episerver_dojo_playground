//>>built
define("epi-cms/component/command/GlobalToolbarCommandProvider",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/topic","dijit/Destroyable","dijit/form/ToggleButton","epi/dependency","epi/shell/command/ToggleCommand","epi/shell/ViewSettings","epi-cms/widget/command/CreateContentFromSelector","epi-cms/component/command/_GlobalToolbarCommandProvider","epi/i18n!epi/cms/nls/episerver.cms.contentediting"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){var _d=_2([_8,_5],{iconClass:"epi-iconTree",tooltip:_c.toolbar.buttons.togglenavigationpane,label:_c.toolbar.buttons.togglenavigationpane,order:-10000,canExecute:true,constructor:function(){this.own(_4.subscribe("/epi/layout/pinnable/navigation/visibilitychanged",_3.hitch(this,function(_e){this.set("active",_e);})));},_execute:function(){_4.publish("/epi/layout/pinnable/navigation/toggle");}});var _f=_2([_8,_5],{iconClass:"epi-iconFolder",tooltip:_c.toolbar.buttons.toggleassetspane,label:_c.toolbar.buttons.toggleassetspane,order:10000,canExecute:true,constructor:function(){this.own(_4.subscribe("/epi/layout/pinnable/tools/visibilitychanged",_3.hitch(this,function(_10){this.set("active",_10);})));},_execute:function(){_4.publish("/epi/layout/pinnable/tools/toggle");}});return _2([_b],{contentRepositoryDescriptors:null,viewName:null,postscript:function(){this.inherited(arguments);this.contentRepositoryDescriptors=this.contentRepositoryDescriptors||_7.resolve("epi.cms.contentRepositoryDescriptors");this.viewName=this.viewName||_9.viewName;this._addLeadingCommands();this._addCreateCommands();this._addTrailingCommands();},_addLeadingCommands:function(){this.addToLeading(new _d(),{widget:_6,"class":"epi-leadingToggleButton epi-mediumButton"});},_addCreateCommands:function(){var _11=this.viewName;var _12=[];var _13=function(_14){return _14===_11;};for(var _15 in this.contentRepositoryDescriptors){var _16=this.contentRepositoryDescriptors[_15];if(_1.some(_16.mainViews,_13)){_12.push(_16);}}_1.forEach(_12,function(_17){_1.forEach(_17.creatableTypes,function(_18){this.addCommand(this._createCommand(_18),{category:"create"});},this);},this);},_createCommand:function(_19){return new _a({creatingTypeIdentifier:_19});},_addTrailingCommands:function(){this.addToTrailing(new _f(),{widget:_6,"class":"epi-trailingToggleButton epi-mediumButton"});}});});