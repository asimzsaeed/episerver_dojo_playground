//>>built
require({cache:{"url:epi-cms/contentediting/templates/NotificationBar.html":"<div class=\"epi-notificationBar\">\r\n    <div data-dojo-attach-point=\"containerNode\"></div>\r\n</div>","url:epi-cms/contentediting/templates/NotificationBarItem.html":"<div class=\"epi-notificationBarItem\">\r\n    <div class=\"epi-notificationBarText\" data-dojo-attach-point=\"contentContainer\">\r\n        <p data-dojo-attach-point=\"textContainer\"></p>\r\n    </div>\r\n    <div class=\"epi-notificationBarButtonContainer\" data-dojo-attach-point=\"buttonContainer\">\r\n        <button data-dojo-type=\"dijit/form/Button\" class=\"epi-chromelessButton\" data-dojo-props=\"iconClass:'epi-iconClose', showLabel:false\" data-dojo-attach-event=\"onClick:_onClose\"></button>\r\n    </div>\r\n</div>"}});define("epi-cms/contentediting/NotificationBar",["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/dom-construct","dojo/_base/array","dojo/on","dijit/_TemplatedMixin","dijit/_Widget","dijit/_Container","dijit/_WidgetsInTemplateMixin","dojo/Evented","dijit/form/Button","dojox/html/ellipsis","dojo/text!./templates/NotificationBar.html","dojo/text!./templates/NotificationBarItem.html"],function(_1,_2,_3,_4,_5,_6,on,_7,_8,_9,_a,_b,_c,_d,_e,_f){var _10=_1([_8,_7,_a,_b],{templateString:_f,item:null,viewModel:null,postCreate:function(){this.inherited(arguments);if(this.item.content){this._addContent(this.item);}this._addCommands(this.item);},_onClose:function(e){e.preventDefault();this.emit("close",this);},_addContent:function(_11){if(_2.isString(_11.content)){this.textContainer.innerHTML=this.item.content;}else{_5.place(this.item.content,this.textContainer);}},_addCommands:function(_12){if(_2.isArray(this.item.commands)){_6.forEach(this.item.commands,_2.hitch(this,function(_13){this._addButtonForCommand(_13);}));}},_addButtonForCommand:function(_14){var _15=new _c({label:_14.label,title:_14.tooltip,iconClass:_14.iconClass});if(_14.cssClass){_3.add(_15.domNode,_14.cssClass);}_15.set("disabled",!_14.canExecute);_15.on("click",function(){_14.execute();});this.own(_14.watch("canExecute",_2.hitch(this,function(){_15.set("disabled",!_14.canExecute);})));if(_14.category==="leftAligned"){_15.placeAt(this.contentContainer,"first");}else{_15.placeAt(this.buttonContainer,"first");}this.own(_15);}});var _16=_1([_8,_9,_7,_a,_b],{templateString:_e,noBorderClass:"epi-notificationBarWithoutBorder",buildRendering:function(){this.inherited(arguments);this._hideIfEmpty();},clear:function(){this._hideIfEmpty();_6.forEach(this.getChildren(),function(_17){this.removeChild(_17);_17.destroy();_17=null;},this);this.emit("notificationsChanged");},destroy:function(){this.destroyDescendants();this.inherited(arguments);},add:function(_18,_19){var _1a=new _10({item:_18});this.own(on(_1a,"close",_2.hitch(this,"_onCloseNotification")));this.addChild(_1a,_19);this._hideIfEmpty();this.emit("notificationsChanged");},remove:function(_1b){_6.forEach(this.getChildren(),_2.hitch(this,function(_1c){if(_1c.item&&_1c.item===_1b){this._onCloseNotification(_1c);}}));this._hideIfEmpty();},_onCloseNotification:function(_1d){this.removeChild(_1d);_1d.destroy();_1d=null;this._hideIfEmpty();this.emit("notificationsChanged");},_hideIfEmpty:function(){var _1e=this.getChildren().length>0;_3.toggle(this.domNode,this.noBorderClass,!_1e);_4.set(this.domNode,"display",_1e?"":"none");}});return _16;});