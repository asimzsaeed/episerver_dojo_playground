//>>built
define("epi-cms/contentediting/PropertyRenderer",["dojo/_base/json","dojo/_base/declare","epi","epi/dependency","epi/shell/XhrWrapper","epi-cms/contentediting/_Renderer","epi-cms/core/ContentReference","epi/routes","dojo/string"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _2([_6],{_routes:_8,_xhrHandler:null,_profile:null,constructor:function(){if(!this._routes){this._routes=_3.routes;}if(!this._xhrHandler){this._xhrHandler=new _5();}this._profile=this._profile||_4.resolve("epi.shell.Profile");},render:function(_a,_b,_c,_d){var _e=_7.toContentReference(_a);var _f=null;if(_d.useMvc){_f=this._routes.getActionPath({moduleArea:"CMS",controller:"PropertyRender",action:"Render",epieditmode:true,visitorgroupsByID:_d.visitorgroup,epslanguage:this._profile?this._profile.contentLanguage:""});}else{_f=this._routes.getActionPath({moduleArea:"LegacyCMS",path:"edit/RenderProperty.aspx",id:_e.toString(),epieditmode:true,visitorgroupsByID:_d.visitorgroup,epslanguage:this._profile?this._profile.contentLanguage:""});}var _10={propertyName:_b,propertyValue:_1.toJson(_c),id:_e.toString(),renderSettings:""};if(_d&&_d.propertyRenderSettings){_10.renderSettings=_d.propertyRenderSettings;}return this._xhrHandler.xhrPost({url:_f,handleAs:"json",content:_10});}});});