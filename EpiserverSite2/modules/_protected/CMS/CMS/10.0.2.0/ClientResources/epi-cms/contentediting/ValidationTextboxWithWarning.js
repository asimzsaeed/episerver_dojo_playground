//>>built
define("epi-cms/contentediting/ValidationTextboxWithWarning",["dojo/_base/declare","dojox/validate/regexp","dijit/form/ValidationTextBox"],function(_1,_2,_3){return _1([_3],{regExpForWarning:null,acceptUrl:false,acceptMailAddress:false,_refreshState:function(){if(!this._created){return;}this.focused?this._validateWhenTyping():this.validate(false);},_isValidWhenTyping:function(){var _4=this.textbox.value;return (this.acceptUrl&&(new RegExp(_2.url({scheme:true}))).test(_4))||(this.acceptMailAddress&&(new RegExp("mailto\\:"+_2.emailAddress())).test(_4))||(this.regExpForWarning&&(new RegExp("^(?:"+this.regExpForWarning+")"+(this.required?"":"?")+"$")).test(_4));},_validateWhenTyping:function(){var _5="";var _6=this.disabled||this.isValid(true);if(_6){this._maskValidSubsetError=true;}var _7=this._isEmpty(this.textbox.value);var _8=!_6&&this._isValidSubset();this._set("state",_6?(this._isValidWhenTyping()?"":"Incomplete"):(((_7||_8)&&this._maskValidSubsetError)?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",_6?"false":"true");if(this.state==="Error"){this._maskValidSubsetError=_8;_5=this.getErrorMessage(true);}else{if(this.state==="Incomplete"){_5=this.getPromptMessage(true);this._maskValidSubsetError=!this._hasBeenBlurred;}else{if(_7){_5=this.getPromptMessage(true);}}}this.set("message",_5);return _6;}});});