//>>built
define("epi-cms/contentediting/_ValidationMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_1,_2,_3){return _2(null,{_watchHandles:null,constructor:function(){this._watchHandles=[];},destroy:function(){this._removeViewModelWatches();this.inherited(arguments);},_removeViewModelWatches:function(){_1.forEach(this._watchHandles,function(_4){_4.remove();});this._watchHandles=[];},_addStateWatch:function(_5){var _6=_5.get("name"),_7=this.viewModel;var _8=function(){var _9=_5.get("state");if(_9!=="Error"){_7.validator.clearPropertyErrors(_6,_7.validator.validationSource.client);}else{if(_9==="Error"){var _a=_5.get("message")||_5.getErrorMessage()||"";_7.validator.setPropertyErrors(_6,[{severity:_7.validator.severity.error,errorMessage:_a}],_7.validator.validationSource.client);}}};this._watchHandles.push(_5.watch("state",_8));this._watchHandles.push(_5.watch("message",_8));}});});