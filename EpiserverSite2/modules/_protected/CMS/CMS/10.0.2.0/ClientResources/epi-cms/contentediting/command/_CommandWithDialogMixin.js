//>>built
define("epi-cms/contentediting/command/_CommandWithDialogMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/when","dijit/Destroyable","epi/shell/widget/dialog/Dialog","epi/i18n!epi/cms/nls/episerver.cms.widget.editlink","epi/i18n!epi/nls/episerver.shared"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _2([_6],{res:_8,title:null,dialogClass:"epi-dialog-portrait",dialogContentClass:null,dialogParams:null,dialogContentParams:null,dialogContent:null,defaultActionsVisible:true,confirmActionText:_9.action.ok,cancelActionText:_9.action.cancel,value:null,_dialog:null,_getTitle:function(){return this.title||_3.replace(this.value?this.res.title.template.edit:this.res.title.template.create,this.res.title.action);},onDialogOpen:function(){},onDialogExecute:function(){},onDialogCancel:function(){},onDialogHideComplete:function(){},showDialog:function(){if(this.dialogContent){this.dialogContent.destroy();this.dialogContent=null;}this.dialogContent=new this.dialogContentClass(this.dialogContentParams);this._dialog=new _7(_3.mixin({title:this._getTitle(),dialogClass:this.dialogClass,content:this.dialogContent,defaultActionsVisible:this.defaultActionsVisible,confirmActionText:this.confirmActionText,cancelActionText:this.cancelActionText},this.dialogParams));this._dialog.startup();this.dialogContent.set("value",this.value);this.own(this.dialogContent,_4.after(this._dialog,"onExecute",_3.hitch(this,this.onDialogExecute),true),_4.after(this._dialog,"onCancel",_3.hitch(this,this.onDialogCancel),true),_4.after(this._dialog,"onHide",_3.hitch(this,this.onDialogHideComplete),true),this._dialog.watch("open",_3.hitch(this,function(_a,_b,_c){if(!_c){return;}this.onDialogOpen();})));this._dialog.show();}});});