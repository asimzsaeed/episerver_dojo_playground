//>>built
define("epi-cms/contentediting/editors/CheckBoxListEditor",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/on","dojox/html/entities","dijit/focus","dijit/_TemplatedMixin","dijit/_Widget","dijit/form/CheckBox","epi/shell/widget/_ValueRequiredMixin"],function(_1,_2,_3,_4,on,_5,_6,_7,_8,_9,_a){return _2([_8,_7,_a],{templateString:"<div class=\"dijit dijitReset dijitInline\"></div>",baseClass:"epi-checkBoxList",valueIsCsv:true,valueIsInclusive:true,value:null,constructor:function(){this._checkboxes=[];this._labelClickHandles=[];},buildRendering:function(){this.inherited(arguments);_1.forEach(this.selections,this._addCheckBoxForItem,this);},destroy:function(){var _b;while((_b=this._checkboxes.pop())){_b.destroyRecursive();}var _c;while((_c=this._labelClickHandles.pop())){_c.remove();}this.inherited(arguments);},focus:function(){try{if(this._checkboxes.length>0){_6.focus(this._checkboxes[0].domNode);}}catch(e){}},onChange:function(){},onBlur:function(){},onFocus:function(){},_calculateValue:function(){var _d=[];var _e=this.valueIsInclusive;_1.forEach(this._checkboxes,function(_f){if(_e===_f.checked){_d.push(_f.value);}});this._set("value",this.valueIsCsv?_d.join(","):_d);},_setValueAttr:function(_10){this._set("value",_10);var _11=[];if(_10){_11=this.valueIsCsv?_10.split(","):_10;}var _12=this.valueIsInclusive;var _13=this._compareCheckboxValue;_1.forEach(this._checkboxes,function(_14){_14.set("checked",_12===_1.some(_11,function(v){return _13(_14,v);}));});},_compareCheckboxValue:function(_15,_16){var _17=_15.value;if(_17===undefined||_17===null){return false;}return _17.toString()===_16.toString();},_onBlur:function(){this.inherited(arguments);this.onBlur();},_addCheckBoxForItem:function(_18){var _19=_4.create("div",{"class":"epi-checkboxContainer"},this.domNode);var _1a=new _9({value:_18.value});_1a.placeAt(_19);this.own(on(_1a,"change",_3.hitch(this,function(){this._calculateValue();this.onChange(this.value);})));_1a.set("readOnly",!!this.readOnly);this._checkboxes.push(_1a);var _1b=_4.create("label",{"for":_1a.id},_19);_1b.textContent=_18.text;this._labelClickHandles.push(on(_1b,"click",_3.hitch(this,function(){_6.focus(_1a.domNode);})));}});});