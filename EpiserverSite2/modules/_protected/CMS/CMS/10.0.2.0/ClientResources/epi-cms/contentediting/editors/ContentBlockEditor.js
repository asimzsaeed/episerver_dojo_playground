//>>built
require({cache:{"url:epi-cms/contentediting/editors/templates/ContentBlockEditor.html":"<div class=\"epi-content-block-editor\">\r\n    <a href=\"#\" data-dojo-attach-point=\"itemNode\" style=\"display: block;\" data-dojo-attach-event=\"onclick:_onClick\">\r\n        <span data-dojo-attach-point=\"contentNode\" class=\"epi-content-block-node\">\r\n            <span data-dojo-attach-point=\"labelNode\" class=\"dojoxEllipsis\"></span>\r\n            <span data-dojo-attach-point=\"extraIconsContainer\" class=\"epi-floatRight\">\r\n                <span data-dojo-attach-point=\"iconNodeMenu\" class=\"epi-iconContextMenu\" style=\"visibility: hidden;\" data-dojo-attach-event=\"onclick:_onContextMenu\"></span>\r\n            </span>\r\n        </span>\r\n    </a>\r\n</div>"}});define("epi-cms/contentediting/editors/ContentBlockEditor",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/html","dojo/NodeList-dom","dojo/query","dijit/_Widget","dijit/_TemplatedMixin","dijit/popup","dojox/html/ellipsis","epi/shell/widget/_ModelBindingMixin","epi-cms/contentediting/editors/ContentBlockEditorViewModel","epi/i18n!epi/cms/nls/episerver.cms.widget.blockcontextmenu","dojo/text!./templates/ContentBlockEditor.html","dojo/NodeList-manipulate"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,pm,_c,_d,_e,_f,_10){return _1([_a,_b,_d],{templateString:_10,model:null,contextMenu:null,isDraggable:true,modelBindingMap:{contentLink:["contentLink"],name:["name"],contentGroup:["contentGroup"],roleIdentities:["roleIdentities"],selected:["selected"]},_setSelectedAttr:function(_11){this.inherited(arguments);_5.toggle(this.itemNode,"epi-content-block-editor-node-selected",_11);_6.set(this.iconNodeMenu,"visibility",_11?"visible":"hidden");},_setNameAttr:function(_12){this.inherited(arguments);_9(this.labelNode).text(_12);_4.set(this.iconNodeMenu,"title",_f.settingstooltip);},postMixInProperties:function(){this.inherited(arguments);this.model=this.model||new _e(this.modelData);},_setIsDraggableAttr:function(_13){this._set("isDraggable",_13);if(this.isDraggable){_5.add(this.domNode,"dojoDndItem");}else{_5.remove(this.domNode,"dojoDndItem");}},_onClick:function(evt){_3.stop(evt);this.contextMenu&&pm.close(this.contextMenu);this.model.set("selected",!this.model.selected);},_onContextMenu:function(evt){_3.stop(evt);this.contextMenu&&this.contextMenu.scheduleOpen(evt.target,null,{x:evt.pageX,y:evt.pageY});}});});