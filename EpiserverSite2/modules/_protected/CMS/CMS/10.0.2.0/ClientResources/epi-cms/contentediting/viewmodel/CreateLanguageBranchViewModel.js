//>>built
define("epi-cms/contentediting/viewmodel/CreateLanguageBranchViewModel",["dojo/_base/declare","dojo/_base/lang","dojo/when","epi/dependency","epi-cms/contentediting/viewmodel/CreateContentViewModel","epi/i18n!epi/cms/nls/episerver.cms.components.createpage.translate"],function(_1,_2,_3,_4,_5,_6){return _1([_5],{languageBranch:null,masterLanguageVersionId:null,contentNameHelpText:_6.namehelptext,postscript:function(){this.wizardStep=1;this.startWizardStep=1;this.inherited(arguments);this._languageStore=this._languageStore||_4.resolve("epi.storeregistry").get("epi.cms.language");},update:function(_7){var _8=_7.contentData;var _9=_7.languageBranch;this.set("contentNameHelpText",_8.publicUrl?_6.namehelptext:"");var _a=this;return _3(this.contentDataStore.get(_8.parentLink)).then(function(_b){var _c=_5.prototype.update.apply(_a,[{requestedType:_8.typeIdentifier,parent:_b,contentTypeId:_8.contentTypeID}]);_a.set("languageBranch",_9);_a.set("masterLanguageVersionId",_8.contentLink);_a.set("contentName",_8.name);return _c;}).then(function(_d){return _3(_a._languageStore.get(_a.languageBranch)).then(function(_e){_a.set("headingText",_2.replace(_6.namelabel,[_e.name]));return _d;});});},_hasRequiredProperties:function(){return true;},_isRequired:function(_f){return this.inherited(arguments)&&(!this.languageBranch||_f.settings.isLanguageSpecific===true);},buildContentObject:function(){var _10=this.inherited(arguments);_2.mixin(_10,{languageBranch:this.languageBranch,masterLanguageVersionId:this.masterLanguageVersionId});return _10;}});});