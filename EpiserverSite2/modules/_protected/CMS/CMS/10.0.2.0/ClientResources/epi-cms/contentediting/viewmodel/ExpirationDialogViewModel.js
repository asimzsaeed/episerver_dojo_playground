//>>built
define("epi-cms/contentediting/viewmodel/ExpirationDialogViewModel",["dojo/_base/declare","dojo/Stateful","dojo/string","epi/epi","epi/datetime","epi/shell/_StatefulGetterSetterMixin","epi/i18n!epi/cms/nls/episerver.cms.widget.expirationeditor","epi/i18n!epi/cms/nls/episerver.cms.contentediting.versionstatus"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _1([_2,_6],{value:null,intermediateValue:null,contentLink:null,contentName:null,enableSaveButton:null,showRemoveButton:null,infoText:null,state:null,postscript:function(){this.inherited(arguments);this.set("intermediateValue",this.value);this.set("minimumExpireDate",this.minimumExpireDate);},_setIntermediateValueAttr:function(_9){this._set("intermediateValue",_9);this.set("enableSaveButton",!_4.areEqual(this.intermediateValue,this.value));if(_9&&_9.stopPublish){var _a=_9.stopPublish instanceof Date?_9.stopPublish:new Date(_9.stopPublish);this.set("showRemoveButton",true);this.set("infoText",_a<_5.serverTime()?_8.expired:_3.substitute(_7.expiretimetext,[_5.timeToGo(_a)]));this.set("state","Expiring");}else{this.set("showRemoveButton",false);this.set("infoText",_7.neverexpiretext);this.set("state","NotExpiring");}},_setValueAttr:function(_b){this._set("value",_b);this.set("enableSaveButton",false);},_setMinimumExpireDateAttr:function(_c){var _d=new Date(_c);this._set("minimumExpireDate",_5.isDateValid(_d)?_d:null);this._set("minimumExpireDateMessage",_7.minimumdatevalidation);},save:function(){this.set("value",this.intermediateValue);},reset:function(){this.set("intermediateValue",this.value);}});});