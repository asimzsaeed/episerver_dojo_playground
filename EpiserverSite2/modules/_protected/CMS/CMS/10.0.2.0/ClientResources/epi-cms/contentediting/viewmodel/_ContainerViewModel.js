//>>built
define("epi-cms/contentediting/viewmodel/_ContainerViewModel",["dojo/_base/array","dojo/_base/declare","./_ViewModelMixin"],function(_1,_2,_3){return _2([_3],{constructor:function(){this._data=[];this._handles={};},addChild:function(_4,_5){_4.set("parent",this);_4.set("readOnly",this.readOnly);if(!_4.id){_4.id=this._hash(_4);}if(typeof _5=="number"){this._data.splice(_5,0,_4);}else{this._data.push(_4);}this._emitChildrenChanged();},getChild:function(_6){var _7=this._data;for(var i=_7.length-1;i>=0;i--){if(_7[i].equals(_6)){return _7[i];}}return null;},getChildById:function(id){var _8=this._data;for(var i=_8.length-1;i>=0;i--){if(_8[i].id===id){return _8[i];}}return null;},getChildByIndex:function(_9){return this._data[_9];},getChildren:function(){return this._data;},removeChild:function(_a,_b){var _c=this.indexOf(_a),_d=this._handles[_a.id];if(_c<0&&_b){_1.forEach(this.getChildren(),function(_e){if(typeof _e.removeChild==="function"){_e.removeChild(_a,_b);}});return;}else{if(_c<0){return;}}if(_d){_1.forEach(_d,function(_f){_f.remove();});delete this._handles[_a.id];}this._data.splice(_c,1);this._emitChildrenChanged();},move:function(_10,_11){var _12=this.indexOf(_10);this._data.splice(_12,1);this._data.splice(_11,0,_10);this._emitChildrenChanged();},indexOf:function(_13){return this._data.indexOf(_13);},_hash:function(_14){},_readOnlySetter:function(_15){this.readOnly=_15;_1.forEach(this.getChildren(),function(_16){_16.set("readOnly",_15);},this);},_emitChildrenChanged:function(_17){var _18=this._data.length;_1.forEach(this._data,function(_19,_1a){_19.set("canMoveNext",_1a<(_18-1));_19.set("canMovePrevious",_1a>0&&_1a<=(_18-1));_19.set("hasSiblings",_18>1);});this.set("count",_18||0);this.emit("childrenChanged",_17?_17:this);}});});