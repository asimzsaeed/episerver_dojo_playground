//>>built
define("epi-cms/dgrid/formatters",["dojo/_base/lang","dojo/dom-class","epi/datetime","epi/username","epi/string","epi/shell/dgrid/Formatter","epi/shell/dgrid/util/misc","epi/shell/TypeDescriptorManager","epi-cms/contentediting/ContentActionSupport","epi/i18n!epi/cms/nls/episerver.cms.components.versions"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){var _b={defaultIconClass:"epi-iconObjectUnknown",thumbnail:function(_c){var _d="<image src=\"{0}?{1}\" class=\"epi-floatLeft epi-thumbnail\"/>";return _c?_1.replace(_d,[_c,new Date().getTime()]):"";},contentIcon:function(_e,_f){var _10=_8.getValue(_e,"iconClass");var _11=_10+" epi-objectIcon";if(_f){_11+=" "+_f;}return _7.icon(_11);},contentTypeDescription:function(_12){return _8.getResourceValue(_12,"name",false);},languageBranch:function(_13){return _13?"<span class=\"epi-missingLanguageIndicator\">"+_13.language+"</span>":"";},menu:function(_14){return _1.replace("<span class=\"dijitInline dijitIcon epi-iconContextMenu epi-floatRight\" title=\"{title}\">&nbsp;</span>",_14);},path:function(_15){if(_15&&_15.length){var _16=_7.attributeEncode(_15.join(" > "));_15=_5.truncateMiddle(_15,40,"â€¦");var _17=_15.map(_7.htmlEncode).join("<span class=\"epi-breadCrumbsSeparator\">&gt;</span>");return _1.replace("<span class=\"dgrid-column-treePath dojoxEllipsis\" title=\"{title}\">{text}</span>",{title:_16,text:_17});}return "";},userName:function(_18){return _4.toUserFriendlyHtml(_18);},localizedDate:function(_19){return _3.toUserFriendlyHtml(_19);},friendlyBoolean:function(_1a){var _1b=_1a?"epi-iconCheckmark":"epi-iconStop";return "<div class=\""+_1b+"\" />";},versionStatus:function(_1c){return _9.getVersionStatus(_1c);},commonDraft:function(_1d,_1e,_1f){if(_1d.isCommonDraft){_1f.innerHTML="<span class=\"dijitReset dijitInline dijitIcon epi-iconPrimary epi-floatRight\" title=\""+_a.primarydraft+"\"></span>";}_1f.innerHTML+=_b.versionStatus(_1e);},visibleLink:function(_20,_21){if(!_20){return "";}var _22=!_21?_7.htmlEncode(_20):_20;return "<span class=\"epi-visibleLink\">"+_22+"</span>";},secondaryText:function(_23,_24){if(!_23){return "";}var _25=!_24?_7.htmlEncode(_23):_23;return "<span class=\"epi-secondaryText\">"+_25+"</span>";},contentItemFactory:function(_26,_27,_28,_29,_2a,_2b,_2c){return function(_2d,_2e,_2f,_30){var _31,_32,_33,_34,_35,_36,_37;function get(_38){if(typeof _2e.get==="function"){return _2e.get(_38);}return _2e[_38];};function _39(_3a){if(_3a){if(typeof _3a==="function"){return _3a(_2e);}else{return get(_3a);}}return _2d;};_36=typeof _2d==="string";_32=_39(_28||(_36?false:"typeIdentifier"));_33=_39(_26||(_36?false:"text"));_34=_39(_27||(_36?false:"title"));_35=(_2b&&_39(_2b))||_2e.missingLanguageBranch;_37=_2a&&_39(_2a);_31=_b.contentItem(_32,_35,_33,_34,_29,_37,_2c);_2f.innerHTML=_31;if(_2f.nodeName!=="TD"&&_35){_2.add(_2f,"epi-ct-missingLanguageRow");}return _31;};},contentItem:function(_3b,_3c,_3d,_3e,_3f,_40,_41){var _42=(_3f&&_3f.hasMenu)?_b.menu(_3f.settings):"",_43=_b.languageBranch(_3c);_41=(_41===null||_41===undefined)?true:_41;_3e=_41?_7.attributeEncode(_3e||_3d):(_3e||_3d);_3d=_41?_7.htmlEncode(_3d):_3d;return (_40?_b.thumbnail(_40):_b.contentIcon(_3b))+_42+_43+_7.ellipsis(_3d,_3e);}};_6.addFormatter("contentIcon",_b.contentIcon);_6.addFormatter("userName",_b.userName);_6.addFormatter("versionStatus",_b.versionStatus);_6.addFormatter("localizedDate",_b.localizedDate);_6.addFormatter("contentItem",_b.contentItemFactory,true);return _b;});