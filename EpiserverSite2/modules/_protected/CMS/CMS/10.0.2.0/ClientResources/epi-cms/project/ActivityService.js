//>>built
define("epi-cms/project/ActivityService",["dojo/_base/declare","dojo/_base/lang","dojo/Evented","dijit/Destroyable","epi/dependency"],function(_1,_2,_3,_4,_5){return _1([_3,_4],{activityStore:null,activityCommentStore:null,constructor:function(_6){_1.safeMixin(this,_6);this.activityStore=this.activityStore||_5.resolve("epi.storeregistry").get("epi.cms.activities");this.activityCommentStore=this.activityCommentStore||_5.resolve("epi.storeregistry").get("epi.cms.activities.comments");this.own(this.activityCommentStore.on("update",this._onActivityCommentUpdated.bind(this)));},addMessage:function(_7,_8,_9){var _a={projectId:_7,contentLink:_8,message:_9};return this.activityStore.add(_a);},saveMessage:function(_b,_c){var _d={id:_b,message:_c};return this.activityStore.put(_d);},addComment:function(_e,_f){var obj={activityId:_e,message:_f};return this.activityCommentStore.add(obj);},saveComment:function(_10,_11){var obj={id:_10,message:_11};return this.activityCommentStore.put(obj);},_onActivityCommentUpdated:function(_12){this.emit("activity-comment-updated",_12.target);}});});