//>>built
require({cache:{"url:dijit/form/templates/Select.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdata-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing='0' cellpadding='0'\n\trole=\"listbox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitInputField dijitButtonText\"  data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitValidationContainer\"\n\t\t\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t/></div\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} data-dojo-attach-point=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td\n\t\t><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\"\n\t\t\tdata-dojo-attach-point=\"titleNode\" role=\"presentation\"\n\t\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n"}});define("epi-cms/project/ProjectSelector",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-construct","dojo/on","dojo/Deferred","dojox/html/entities","epi","dojo/text!dijit/form/templates/Select.html","epi/i18n!epi/shell/ui/nls/episerver.shared.header","epi/i18n!epi/cms/nls/episerver.cms.components.project","./ProjectSelectorList","dijit/form/_FormValueWidget","epi/shell/widget/DeferredDropDownButton","dijit/form/ToggleButton"],function(_1,_2,_3,_4,on,_5,_6,_7,_8,_9,_a,_b,_c,_d){return _1([_d,_c],{"class":"epi-project-selector epi-chromeless epi-chromeless--with-arrow epi-flat",iconClass:"epi-iconProject",value:null,store:null,sort:null,query:null,enableDefaultValue:false,defaultValueText:_a.preview.defaultoption,header:_a.selector.title,buildRendering:function(){this.inherited(arguments);this.own(this.dropDown=new _b({baseClass:"dijitMenu",header:this.header,enableDefaultValue:this.enableDefaultValue,defaultValueText:this.defaultValueText}),on(this.dropDown,"change",_2.hitch(this,function(e){this.set("value",e.value,true);this.closeDropDown(true);}),true));},startup:function(){if(this._started){return;}this.inherited(arguments);this.dropDown.startup();if(this.enableDefaultValue&&!this.value){this.set("value",null);}},compare:function(_e,_f){return _7.areEqual(_e,_f)?0:-1;},loadAndOpenDropDown:function(){var _10=arguments;var _11=this.dropDown.refresh();return _11.then(_2.hitch(this,function(){return this.inherited(_10);}));},isLoaded:function(){if(this.enableDefaultValue){return false;}return this.inherited(arguments);},_getQueryAttr:function(){return this.query||{};},_setQueryAttr:function(_12){this._set("query",_12);if(this.dropDown){this.dropDown.set("query",_12);}},_setStoreAttr:function(_13){this._set("store",_13);if(this.dropDown){this.dropDown.set("store",_13);}},_setLabelAttr:function(_14){this.inherited(arguments,[_6.encode(_14||"")]);},_setValueAttr:function(_15,_16){this.set("label",_15&&_15.name);if(this.enableDefaultValue&&!_15){this.set("label",this.defaultValueText);}!_16&&this.dropDown&&this.dropDown.set("selectedProject",_15);this.inherited(arguments);}});});