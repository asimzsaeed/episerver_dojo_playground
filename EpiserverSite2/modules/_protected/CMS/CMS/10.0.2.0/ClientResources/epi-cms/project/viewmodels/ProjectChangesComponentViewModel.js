//>>built
define("epi-cms/project/viewmodels/ProjectChangesComponentViewModel",["dojo/_base/declare","dojo/_base/lang","./_ProjectViewModel"],function(_1,_2,_3){return _1([_3],{_sortOrderProfileKey:"epi.project-changes-sort-order",postscript:function(){this.inherited(arguments);this.own(this.projectService.on("currentProjectChanged",_2.hitch(this,this._projectChanged)));},refreshProject:function(){if(!this.selectedProject){this._updateHasProject();}this.inherited(arguments);},_createProjectCommands:function(){return {};},_createProjectItemCommands:function(){var _4=this.inherited(arguments),_5={};Object.keys(_4).forEach(function(_6){var _7=_4[_6];switch(_6){case "refreshProjectItems":break;case "sortProjectItems":_7.set({category:"projectButton",iconClass:"epi-iconSort"});break;case "readyToPublishProjectItem":_5.primaryReadyToPublishProjectItem=_2.delegate(_7,{iconClass:"epi-iconCheckmark",category:null});break;default:_5[_6+"_context"]=_2.delegate(_7,{category:"context"});}});return _2.mixin(_4,_5);},_projectChanged:function(_8){this.set("selectedProject",_8);},_updateSelectedProjectDependencies:function(_9){var _a=false,_b=null,_c=this.isProjectModeEnabled();if(_9){_a=(_c&&_9.status!=="publishing")||_9.status==="active"||_9.status==="publishfailed";_b={projectId:_9.id};}this.set({dndEnabled:_a,projectItemQuery:_b});}});});