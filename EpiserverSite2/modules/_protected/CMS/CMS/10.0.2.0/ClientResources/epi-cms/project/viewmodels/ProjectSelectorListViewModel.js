//>>built
define("epi-cms/project/viewmodels/ProjectSelectorListViewModel",["dojo/_base/declare","dojo/_base/lang","dojo/Evented","dojo/Stateful","dojo/when","dijit/Destroyable","epi/dependency","epi/shell/command/OptionCommand","epi/i18n!epi/cms/nls/episerver.cms.components.project.command.sort"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _1([_4,_6,_3],{namedCommands:null,profile:null,projectSortOrder:null,_commands:null,_sortOrderProfileKey:"epi.project-sort-order",constructor:function(){this.projectSortOrder=[{attribute:"name",descending:false}];},postscript:function(){this.inherited(arguments);this.profile=this.profile||_7.resolve("epi.shell.Profile");this._createCommands();},initialize:function(){return _5(this.profile.get(this._sortOrderProfileKey),_2.hitch(this,function(_a){var _b=this._findSortOption("key",_a)||this.namedCommands.sortProject.options[0];this._changeAttrValue("projectSortOrder",_b.value);}));},getCommands:function(){return this._commands;},_projectSortOrderSetter:function(_c){var _d,_e;if(_c===null||(_c&&_c===this.projectSortOrder)){return;}this.projectSortOrder=_c;_d=this._findSortOption("value",_c);_e=_d&&_d.key||null;this.profile.set(this._sortOrderProfileKey,_e,{location:"server"});},_findSortOption:function(_f,_10){var _11=this.namedCommands.sortProject.options,_12=null;_10&&_11.some(function(_13){if(_10===_13[_f]){_12=_13;return true;}});return _12;},_createCommands:function(){var _14=new _8({model:this,category:"context",label:"label",property:"projectSortOrder",options:[{label:_9.nameascending,key:"+Name",value:[{attribute:"name",descending:false}]},{label:_9.namedescending,key:"-Name",value:[{attribute:"name",descending:true}]},{label:_9.createddescending,key:"-DateCreated",value:[{attribute:"created",descending:true},{attribute:"name",descending:false}]},{label:_9.createdascending,key:"+DateCreated",value:[{attribute:"created",descending:false},{attribute:"name",descending:false}]}]});this.set("_commands",[_14]);this.set("namedCommands",{sortProject:_14});}});});