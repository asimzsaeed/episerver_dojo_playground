//>>built
define("epi-cms/widget/DisplayOptionSelector",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/when","dijit/MenuSeparator","epi-cms/widget/SelectorMenuBase","epi/i18n!epi/cms/nls/episerver.cms.contentediting.editors.contentarea.displayoptions","epi/shell/widget/RadioMenuItem"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _2([_6],{model:null,headingText:_7.title,_rdAutomatic:null,_separator:null,postCreate:function(){this.inherited(arguments);this.own(this._rdAutomatic=new _8({label:_7.automatic,value:""}));this.addChild(this._rdAutomatic);this._rdAutomatic.on("change",_3.hitch(this,this._restoreDefault));this.own(this._separator=new _5({baseClass:"epi-menuSeparator"}));this.addChild(this._separator);},_restoreDefault:function(){this.model.modify(function(){this.model.set("displayOption",null);},this);},_setModelAttr:function(_9){this._set("model",_9);this._setup();},_setDisplayOptionsAttr:function(_a){this._set("displayOptions",_a);this._setup();},_setup:function(){if(!this.model||!this.displayOptions){return;}this._removeMenuItems();var _b=this.model.get("displayOption");_1.forEach(this.displayOptions,function(_c){var _d=new _8({label:_c.name,iconClass:_c.iconClass,displayOptionId:_c.id,checked:_b===_c.id,title:_c.description});this.own(_d.watch("checked",_3.hitch(this,function(_e,_f,_10){if(!_10){return;}this.model.modify(function(){this.model.set("displayOption",_c.id);},this);})));this.addChild(_d);},this);this._rdAutomatic.set("checked",!_b);},_removeMenuItems:function(){var _11=this.getChildren();_11.forEach(function(_12){if(_12===this._rdAutomatic||_12===this._separator){return;}this.removeChild(_12);_12.destroy();},this);}});});