//>>built
define("epi-cms/widget/PropertiesForm",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/when","dijit/layout/_LayoutWidget","epi/shell/widget/FormContainer"],function(_1,_2,_3,_4,_5,_6){return _2([_5],{metadata:null,showAllProperties:false,propertyFilter:null,_setMetadataAttr:function(_7){this._set("metadata",_7);setTimeout(_3.hitch(this,function(){this._setupForm();}),0);},_setupForm:function(){if(this._form){this._form.destroy();}this._form=new _6({metadata:this.metadata,doLayout:false,propertyFilter:_3.hitch(this,this.propertyFilter)});this.connect(this._form,"onFieldCreated",function(_8,_9){this.own(_9.watch("state",_3.hitch(this,function(_a,_b,_c){if(_b==="Error"&&_c!=="Error"){this.onPropertyValidStateChange(_8);}else{if(_b!=="Error"&&_c==="Error"){this.onPropertyValidStateChange(_8,_9.getErrorMessage());}}})));});this._form.placeAt(this.domNode);this.domNode.scrollTop=0;this.own(this._form);},validate:function(){return this._form.validate();},onPropertyValidStateChange:function(_d,_e){},_getValueAttr:function(){return this._form.get("value");}});});