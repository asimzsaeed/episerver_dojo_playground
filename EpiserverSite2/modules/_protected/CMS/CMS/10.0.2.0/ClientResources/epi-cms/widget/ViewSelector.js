//>>built
define("epi-cms/widget/ViewSelector",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/when","dijit/MenuSeparator","epi/i18n!epi/cms/nls/episerver.cms.widget.viewselector","epi-cms/widget/SelectorMenuBase","epi/shell/widget/CheckedMenuItem"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _2([_8],{viewConfigurations:null,headingText:_7.title,_setViewConfigurationsAttr:function(_a){this._set("viewConfigurations",_a);this._setup();},onExecute:function(){},onCancel:function(){},_setup:function(){if(!this.viewConfigurations){return;}_1.forEach(this.getChildren(),_3.hitch(this,this.removeChild));var _b=this.viewConfigurations.viewName,_c=this.viewConfigurations.availableViews;var _d="";_1.forEach(_c,function(_e){if(_e.hideFromViewMenu){return;}var _f=_e.category||"";if(_f!==_d){this.addChild(new _6({baseClass:"epi-menuSeparator"}));}_d=_f;var _10=new _9({label:_e.name,title:_e.description,iconClass:_e.iconClass,checked:_e.key===_b,onClick:_3.hitch(this,function(){this.onExecute();_10.set("checked",!_10.checked);if(_b==="view"){_4.publish("/epi/cms/action/disablepreview");}_4.publish("/epi/shell/action/changeview",_e.key,null,null);})});this.addChild(_10);},this);}});});