//>>built
define("epi-cms/widget/_HasChildDialogMixin",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom","dijit/_FocusMixin","dijit/popup"],function(_1,_2,_3,_4,_5,_6){return _1([_5],{isShowingChildDialog:false,_openedChildDialog:null,_waitingForFocus:false,startup:function(){if(!this._started){this.own(_3.before(_6,"open",_2.hitch(this,"_onPopupOpen"),true),_3.after(_6,"close",_2.hitch(this,"_onPopupClosed"),true));}this.inherited(arguments);},_onPopupOpen:function(_7){var _8=_7.popup;if(_8&&_8.popupParent){return;}var _9=_8&&_8.currentTarget;if(_9&&_4.isDescendant(_9,this.domNode)){this._openedChildDialog=_8;this.isShowingChildDialog=true;}},_onPopupClosed:function(_a){if(this._openedChildDialog===_a){this._openedChildDialog=null;this.isShowingChildDialog=false;this._waitingForFocus=true;setTimeout(_2.hitch(this,"_waitForFocus"),0);}},_waitForFocus:function(){if(this._waitingForFocus){this._waitingForFocus=false;this._onBlur();}},_onBlur:function(){if(this.isShowingChildDialog){return;}this.inherited(arguments);},_onFocus:function(){this._waitingForFocus=false;if(this.isShowingChildDialog){return;}this.inherited(arguments);}});});