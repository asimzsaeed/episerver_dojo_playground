//>>built
require({cache:{"url:epi-cms/widget/templates/_LegacySelectorBase.html":"<div class='dijitReset dijitInputField dijitInputContainer dijitInline epi-resourceInputContainer' id='widget_${id}' data-dojo-attach-point='dropAreaNode'>\r\n    <input type='text' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-event=\"onChange:_onTextboxChange, onBlur:_onTextboxBlur\" data-dojo-attach-point='textbox'/>\r\n    <div data-dojo-type=\"dijit/form/Button\" data-dojo-attach-point=\"button\" data-dojo-attach-event=\"onClick:_showDialog\"></div>\r\n</div>"}});define("epi-cms/widget/_LegacySelectorBase",["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/Button","dijit/form/TextBox","epi/dependency","epi-cms/legacy/LegacyDialogPopup","epi-cms/widget/_HasChildDialogMixin","epi-cms/widget/_Droppable","epi/shell/widget/_ValueRequiredMixin","dojo/text!./templates/_LegacySelectorBase.html"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e){return _1([_4,_5,_6,_b,_d,_c],{_legacyDialogUrl:null,contentLink:"",templateString:_e,value:null,postMixInProperties:function(){this.inherited(arguments);if(!this._legacyDialogUrl){this._legacyDialogUrl=this.getLegacyDialogUrl();}},destroy:function(){if(this._dialog){this._dialog.destroyRecursive();delete this._dialog;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.button.set("label","...");},_setStateAttr:function(_f){this._set("state",_f);this.textbox.set("state",_f);},onDrop:function(){this.focus();this.onChange(this.value);},onChange:function(){},getLegacyDialogUrl:function(){return "";},getLegacyDialogParameters:function(){return {};},getValueFromCallbackResult:function(_10){return null;},isCancelOnCallback:function(_11){return false;},_showDialog:function(){if(!this._dialog){var _12=this.getLegacyDialogParameters();this._dialog=new _a(_2.mixin(_12,{url:this._legacyDialogUrl}));this.connect(this._dialog,"onCallback",this._onCallback);this.connect(this._dialog,"onHide",this._onHide);}this.isShowingChildDialog=true;this._dialog.show();},_onHide:function(){this.isShowingChildDialog=false;this._dialog.destroyRecursive();delete this._dialog;},_onCallback:function(_13){if(!_13||this.isCancelOnCallback(_13)){return;}else{var val=this.getValueFromCallbackResult(_13);if(this.value!==val){this.set("value",val);this.onChange(this.value);}}},_onTextboxChange:function(_14){var _15=_14!==this.value;if(_15){this._set("value",_14);this.onChange(this.value);}},_onTextboxBlur:function(){this._set("value",this.textbox.value);},_setValueAttr:function(_16){this._set("value",_16);this.textbox.set("value",this.value||"");this._legacyDialogUrl=this.getLegacyDialogUrl();this._started&&this.validate();},_setReadOnlyAttr:function(_17){this._set("readOnly",_17);this.button.set("disabled",_17);this.textbox.set("disabled",_17);},focus:function(){this.button.focus();}});});