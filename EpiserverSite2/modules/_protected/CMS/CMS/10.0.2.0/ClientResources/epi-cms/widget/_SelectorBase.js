//>>built
require({cache:{"url:epi-cms/widget/templates/_SelectorBase.html":"<div data-dojo-attach-point=\"inputContainer\" class=\"dijitReset dijitInputField dijitInputContainer dijitInline epi-resourceInputContainer\" id=\"widget_${id}\">\r\n    <div data-dojo-attach-point=\"displayNode, dropAreaNode, stateNode\" class=\"dijit dijitReset dijitInline dijitInlineTable dijitLeft dijitTextBox displayNode\">\r\n        <div class=\"dijitReset dijitLeft dijitInputField dijitInputContainer\">\r\n            <div data-dojo-attach-point=\"clearButton\" class=\"epi-clearButton\">&nbsp;</div>\r\n            <div data-dojo-attach-point=\"resourceName\" class=\"dijitInline epi-resourceName dojoxEllipsis\" >\r\n                <span data-dojo-attach-point=\"selectedContentNameNode\"></span> <span data-dojo-attach-point=\"selectedContentLinkNode\"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div data-dojo-type=\"dijit/form/Button\" data-dojo-attach-event=\"onClick: _onButtonClick\" data-dojo-attach-point=\"button\" data-dojo-props=\"label:'...'\"></div>\r\n</div>"}});define("epi-cms/widget/_SelectorBase",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/Deferred","dojo/dom-class","dojo/dom-style","dojo/dom-prop","dojo/query","dojo/when","dijit/_CssStateMixin","dijit/_TemplatedMixin","dijit/_Widget","dijit/_WidgetsInTemplateMixin","epi/dependency","epi/i18n","epi/shell/widget/_ValueRequiredMixin","epi-cms/widget/_Droppable","epi-cms/widget/_HasClearButton","epi-cms/widget/_HasChildDialogMixin","dojo/text!./templates/_SelectorBase.html"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14){return _1([_c,_b,_d,_a,_12,_13,_11,_10],{templateString:_14,roots:null,value:null,required:false,missingMessage:"",tooltipPosition:[],canSelectOwnerContent:false,contentRepositoryDescriptors:null,allowedDndTypes:[],_valueChangedPromise:null,_setSelectedContentNameAttr:function(_15){_7.set(this.selectedContentNameNode,"textContent",_15);this._updateDisplayNodeTitle();},_setSelectedContentLinkAttr:function(_16){_7.set(this.selectedContentLinkNode,"innerHtml",_16);this._updateDisplayNodeTitle();},_updateDisplayNodeTitle:function(){this.resourceName.title=this.resourceName.textContent.trim();},postCreate:function(){this.inherited(arguments);this.own(_3.after(this,"onDrop",_2.hitch(this,this.focus)));},postMixInProperties:function(){this.inherited(arguments);if(!this.contentRepositoryDescriptors){this.contentRepositoryDescriptors=_e.resolve("epi.cms.contentRepositoryDescriptors");}if(!this.roots&&this.repositoryKey){var _17=this.contentRepositoryDescriptors[this.repositoryKey];this.roots=_17.roots;}},destroy:function(_18){this.inherited(arguments);if(this._valueChangedPromise){this._valueChangedPromise.cancel();this._valueChangedPromise=null;}},_setReadOnlyAttr:function(_19){this._set("readOnly",_19);_6.set(this.button.domNode,"display",_19?"none":"");_6.set(this.clearButton,"display",_19?"none":"");_5.toggle(this.domNode,"dijitReadOnly",_19);},_getDialog:function(){},_onButtonClick:function(){if(!this.dialog){this.dialog=this._getDialog();this.dialog.startup();this.own(_3.after(this.dialog,"onExecute",_2.hitch(this,this._onDialogExecute)));this.own(_3.after(this.dialog,"onShow",_2.hitch(this,this._onDialogShow)));this.own(_3.after(this.dialog,"onHide",_2.hitch(this,this._onDialogHide)));this.own(this.dialog);}this.dialog.show();},_onDialogShow:function(){this.isShowingChildDialog=true;},_onDialogExecute:function(){},_onDialogHide:function(){this.isShowingChildDialog=false;this.focus();},_onBlur:function(){this.inherited(arguments);this.validate();},focus:function(){this.button.focus();},onChange:function(_1a){},_updateDisplayNode:function(_1b){if(_1b){_5.remove(this.domNode,"epi-noValue");_5.remove(this.resourceName,"dijitPlaceHolder");this.set("selectedContentName",_1b.name);}else{_5.add(this.domNode,"epi-noValue");_5.add(this.resourceName,"dijitPlaceHolder");this.set("selectedContentName","");}},_setDialogButtonState:function(_1c){}});});