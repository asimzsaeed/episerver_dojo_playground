(function(){var e=tinymce.each;tinymce.create("tinymce.plugins.AdvListPlugin",{init:function(t){function i(t){var i=[];return e(t.split(/,/),function(e){i.push({title:"advlist."+("default"==e?"def":e.replace(/-/g,"_")),styles:{listStyleType:"default"==e?"":e}})}),i}var n=this;n.editor=t,n.numlist=t.getParam("advlist_number_styles")||i("default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"),n.bullist=t.getParam("advlist_bullet_styles")||i("default,circle,disc,square")},createControl:function(t,i){function n(t,i){var n=!0;return e(i.styles,function(e,i){return s.editor.dom.getStyle(t,i)!=e?(n=!1,!1):void 0}),n}function o(){var e,i=s.editor,o=i.dom,a=i.selection;e=o.getParent(a.getNode(),"ol,ul"),(!e||e.nodeName==("bullist"==t?"OL":"UL")||n(e,r))&&i.execCommand("bullist"==t?"InsertUnorderedList":"InsertOrderedList"),r&&(e=o.getParent(a.getNode(),"ol,ul"),e&&(o.setStyles(e,r.styles),e.removeAttribute("_mce_style")))}var a,r,s=this;return"numlist"==t||"bullist"==t?("advlist.def"==s[t][0].title&&(r=s[t][0]),a=i.createSplitButton(t,{title:"advanced."+t+"_desc","class":"mce_"+t,onclick:function(){o()}}),a.onRenderMenu.add(function(i,a){a.onShowMenu.add(function(){var i,o=s.editor.dom,l=o.getParent(s.editor.selection.getNode(),"ol,ul");(l||r)&&(i=s[t],e(a.items,function(t){var o=!0;t.setSelected(0),l&&!t.isDisabled()&&(e(i,function(e){return e.id!=t.id||n(l,e)?void 0:(o=!1,!1)}),o&&t.setSelected(1))}),l||a.items[r.id].setSelected(1))}),a.add({id:s.editor.dom.uniqueId(),title:"advlist.types","class":"mceMenuItemTitle"}).setDisabled(1),e(s[t],function(e){e.id=s.editor.dom.uniqueId(),a.add({id:e.id,title:e.title,onclick:function(){r=e,o()}})})}),a):void 0},getInfo:function(){return{longname:"Advanced lists",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/advlist",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("advlist",tinymce.plugins.AdvListPlugin)})();