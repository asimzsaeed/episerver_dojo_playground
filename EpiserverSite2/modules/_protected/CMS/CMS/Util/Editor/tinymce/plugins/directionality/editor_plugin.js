(function(){tinymce.create("tinymce.plugins.Directionality",{init:function(e){var t=this;t.editor=e,e.addCommand("mceDirectionLTR",function(){var t=e.dom.getParent(e.selection.getNode(),e.dom.isBlock);t&&("ltr"!=e.dom.getAttrib(t,"dir")?e.dom.setAttrib(t,"dir","ltr"):e.dom.setAttrib(t,"dir","")),e.nodeChanged()}),e.addCommand("mceDirectionRTL",function(){var t=e.dom.getParent(e.selection.getNode(),e.dom.isBlock);t&&("rtl"!=e.dom.getAttrib(t,"dir")?e.dom.setAttrib(t,"dir","rtl"):e.dom.setAttrib(t,"dir","")),e.nodeChanged()}),e.addButton("ltr",{title:"directionality.ltr_desc",cmd:"mceDirectionLTR"}),e.addButton("rtl",{title:"directionality.rtl_desc",cmd:"mceDirectionRTL"}),e.onNodeChange.add(t._nodeChange,t)},getInfo:function(){return{longname:"Directionality",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/directionality",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_nodeChange:function(e,t,n){var i,o=e.dom;return(n=o.getParent(n,o.isBlock))?(i=o.getAttrib(n,"dir"),t.setActive("ltr","ltr"==i),t.setDisabled("ltr",0),t.setActive("rtl","rtl"==i),t.setDisabled("rtl",0),void 0):(t.setDisabled("ltr",1),t.setDisabled("rtl",1),void 0)}}),tinymce.PluginManager.add("directionality",tinymce.plugins.Directionality)})();