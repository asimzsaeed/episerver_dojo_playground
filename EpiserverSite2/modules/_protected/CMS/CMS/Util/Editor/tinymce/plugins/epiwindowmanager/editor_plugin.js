(function(e,t){e.create("tinymce.plugins.epiWindowManager",{init:function(t){t.onBeforeRenderUI.add(function(){t.windowManager=new e.epiWindowManager(t)})},getInfo:function(){return{longname:"EPiServer Window Manager",author:"EPiServer AB",authorurl:"http://www.episerver.com",infourl:"http://www.episerver.com",version:"1.0"}}}),e.create("tinymce.epiWindowManager:tinymce.WindowManager",{epiWindowManager:function(e){this.parent(e)},open:function(t,n){var i,o=this,r=o.editor;t=t||{},n=n||{},t.type||(o.bookmark=r.selection.getBookmark(1)),t.width=parseInt(t.width||320)+(e.isIE?18:0),t.height=parseInt(t.height||240)+(e.isIE?8:0),n.mce_inline=!0,n.mce_auto_focus=t.auto_focus,i=t.url||t.file,o.features=t,o.params=n,o.onOpen.dispatch(o,t,n);var a=this,s=function(){a.onClose.dispatch(this),r.windowManager.onClose.dispatch()};r.windowManager.onOpen.dispatch(),EPi.CreateDialog(i,s,null,null,t,window)},close:function(e){EPi.GetDialog(e).Close()},resizeBy:function(n,i,o){o.setTimeout(function(){var n=o.document;if(null!=n&&null!=n.body){var i=0!==n.documentElement.clientHeight?n.documentElement.clientHeight:n.documentElement.offsetHeight,r=t(n.body),a=e.isIE?15:20,s=r.outerHeight()+r.offset().top+a-i;o.resizeBy(0,s>0?s:0)}},10)},setTitle:function(){},focus:function(){}}),e.PluginManager.add("epiwindowmanager",e.plugins.epiWindowManager)})(tinymce,epiJQuery);