function init(){tinyMCEPopup.resizeToInnerSize();var e=tinyMCEPopup.editor,t=e.dom,n=e.selection.getNode(),i=document.forms[0],o=t.getAttrib(n,"onclick");setFormValue("title",t.getAttrib(n,"title")),setFormValue("id",t.getAttrib(n,"id")),setFormValue("style",t.getAttrib(n,"style")),setFormValue("dir",t.getAttrib(n,"dir")),setFormValue("lang",t.getAttrib(n,"lang")),setFormValue("tabindex",t.getAttrib(n,"tabindex",n.tabindex!==void 0?n.tabindex:"")),setFormValue("accesskey",t.getAttrib(n,"accesskey",n.accesskey!==void 0?n.accesskey:"")),setFormValue("onfocus",t.getAttrib(n,"onfocus")),setFormValue("onblur",t.getAttrib(n,"onblur")),setFormValue("onclick",o),setFormValue("ondblclick",t.getAttrib(n,"ondblclick")),setFormValue("onmousedown",t.getAttrib(n,"onmousedown")),setFormValue("onmouseup",t.getAttrib(n,"onmouseup")),setFormValue("onmouseover",t.getAttrib(n,"onmouseover")),setFormValue("onmousemove",t.getAttrib(n,"onmousemove")),setFormValue("onmouseout",t.getAttrib(n,"onmouseout")),setFormValue("onkeypress",t.getAttrib(n,"onkeypress")),setFormValue("onkeydown",t.getAttrib(n,"onkeydown")),setFormValue("onkeyup",t.getAttrib(n,"onkeyup")),className=t.getAttrib(n,"class"),addClassesToList("classlist",tinyMCEPopup.getParam("style_formats",!1)?{tag:n.nodeName}:"advlink_styles"),selectByValue(i,"classlist",className,!0),TinyMCE_EditableSelects.init()}function setFormValue(e,t){t&&document.forms[0].elements[e]&&(document.forms[0].elements[e].value=t)}function insertAction(){var e=tinyMCEPopup.editor,t=e.selection.getNode();tinyMCEPopup.execCommand("mceBeginUndoLevel"),setAllAttribs(t),tinyMCEPopup.execCommand("mceEndUndoLevel"),tinyMCEPopup.close()}function setAttrib(e,t,n){var i=document.forms[0],o=i.elements[t.toLowerCase()],a=tinyMCEPopup.editor,r=a.dom;(n===void 0||null==n)&&(n="",o&&(n=o.value)),""!=n?(r.setAttrib(e,t.toLowerCase(),n),"style"==t&&(t="style.cssText"),"on"==t.substring(0,2)&&(n="return true;"+n),"class"==t&&(t="className"),e[t]=n):e.removeAttribute(t)}function setAllAttribs(e){var t=document.forms[0];setAttrib(e,"title"),setAttrib(e,"id"),setAttrib(e,"style"),setAttrib(e,"class",getSelectValue(t,"classlist")),setAttrib(e,"dir"),setAttrib(e,"lang"),setAttrib(e,"tabindex"),setAttrib(e,"accesskey"),setAttrib(e,"onfocus"),setAttrib(e,"onblur"),setAttrib(e,"onclick"),setAttrib(e,"ondblclick"),setAttrib(e,"onmousedown"),setAttrib(e,"onmouseup"),setAttrib(e,"onmouseover"),setAttrib(e,"onmousemove"),setAttrib(e,"onmouseout"),setAttrib(e,"onkeypress"),setAttrib(e,"onkeydown"),setAttrib(e,"onkeyup")}function insertAttribute(){tinyMCEPopup.close()}tinyMCEPopup.onInit.add(init),tinyMCEPopup.requireLangPack();