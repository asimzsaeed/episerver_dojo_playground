//>>built
define("epi/dependency",["dojo/_base/declare","epi"],function(_1,_2){var _3=_1([],{_dependencies:null,constructor:function(){this._dependencies={};},register:function(_4,_5,_6){var _7=(typeof _5=="function");var _8=(_7&&"superclass" in _5);var _9=(!_7&&!_8);var _a;if(_8){var _b=_5;_a=function(){return new _b();};}else{if(_7){_a=_5;}}this.unregister(_4);this._dependencies[_4]={value:_9?_5:undefined,initFunction:_a,initialized:_9,unregisterFunction:_6};},unregister:function(_c){if(!(_c in this._dependencies)){return;}var _d=this._dependencies[_c];if(_d.initialized&&typeof _d.unregisterFunction=="function"){_d.unregisterFunction(_d.value);}delete this._dependencies[_c];},resolve:function(_e){if(!(_e in this._dependencies)){throw new Error("Could not resolve dependency \""+_e+"\" (epi.dependency)");}var _f=this._dependencies[_e];if(!_f.initialized){_f.value=_f.initFunction();_f.initialized=true;}return _f.value;},exists:function(_10){return (_10 in this._dependencies);},list:function(){var _11=[];for(var _12 in this._dependencies){_11.push(_12);}return _11;},clear:function(){for(var _13 in this._dependencies){this.unregister(_13);}this._dependencies={};}});return _2.dependency=new _3();});