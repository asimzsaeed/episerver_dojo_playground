//>>built
(function(){var _1={registeredRoutes:{},defaultModuleArea:null,init:function(_2){this.defaultModuleArea=_2;},registerRoute:function(_3,_4){this.registeredRoutes[_4.moduleArea.toLowerCase()]={url:_3,defaults:_4};},getActionPath:function(_5,_6){var _7=null;if(typeof _6=="string"){_7={url:_6,defaults:{}};}else{if(_5==null||typeof _5["moduleArea"]!="string"){_7=this.registeredRoutes[this.defaultModuleArea.toLowerCase()];}else{_7=this.registeredRoutes[_5["moduleArea"].toLowerCase()];}}if(!_7){throw new Error("Failed to resolve a route from parameters or default settings");}var _8=function(_9,_a,_b){var _c="{"+_a+"}";var _d=_9.indexOf(_c,0);if(_d>=0){return _9.substring(0,_d)+_b+_9.substring(_d+_c.length);}var _e=_9.indexOf("?");return _9+(_e>=0?"&":"?")+_a+"="+_b;};var _f=(typeof dojo==="object"?dojo.mixin:$.extend);var _10=_f({},_7.defaults,_5);var _11=_7.url;for(var key in _10){_11=_8(_11,key,_10[key]);}var _12=/\/+[?]/;_11=_11.replace(_12,"?");return _11;},getRestPath:function(_13,_14){var _15=_13.storeName;delete _13.storeName;return this.getActionPath(dojo.mixin(_13,{action:_15,controller:"Stores"}),_14);},getRouteParams:function(_16,url){var _17=/[\/|?]/g;var _18=this.parseUrl(url);var _19=_18.path.split(_17);var _1a=_16.split(_17);var _1b={};for(var i=0;i<_1a.length;i++){if(_1a[i].charAt(0)==="{"){var _1c=_1a[i].substring(1,_1a[i].length-1);var _1d=_19.length>i?_19[i]:"";_1b[_1c]=_1d;}}return $.extend(_1b,_18.queryParams);},parseUrl:function(_1e){var url={};var _1f=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(_1e);var _20=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];var i=_20.length;while(i--){url[_20[i]]=_1f[i]||"";}url.queryParams={};url.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function($0,$1,$2){if($1){url.queryParams[$1]=$2;}});return url;}};if(typeof define!="undefined"){define("epi/routes",["epi"],function(epi){return epi.routes=_1;});}else{var e=window.epi||{};e.routes=_1;}})();