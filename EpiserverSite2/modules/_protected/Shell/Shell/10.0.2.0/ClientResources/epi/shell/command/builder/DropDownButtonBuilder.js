//>>built
define("epi/shell/command/builder/DropDownButtonBuilder",["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dijit/Menu","dijit/form/DropDownButton","epi/shell/command/builder/MenuBuilder","epi/shell/DestroyableByKey"],function(_1,_2,_3,_4,_5,_6,_7){return _1([_6,_7],{hideEmptyButton:false,_button:null,remove:function(_8,_9){var _a=this._button,_b=_a.dropDown?_a.dropDown.getChildren():[];_b.forEach(function(_c){if(_c._command===_8){this.destroyByKey(_8);_a.removeChild(_c);_c.destroy();return true;}},this);return false;},_addToContainer:function(_d,_e){if(!this._button){this._button=new _5(_2.mixin({dropDown:new _4()},this.settings));this._button._commandCategory=_d._commandCategory;}if(_e.addChild){_e.addChild(this._button);}else{this._button.placeAt(_e);this._button.startup();}this.inherited(arguments,[_d,this._button.dropDown]);this._toggleButton();this.ownByKey(_d._command,_d._command.watch("isAvailable",_2.hitch(this,this._toggleButton)));},_toggleButton:function(){var _f=this._button.dropDown.getChildren(),len=_f.length,i=0,_10=true,_11;for(i;i<len;i++){_11=_f[i];if(_11._command.isAvailable){_10=false;break;}}if(this.hideEmptyButton){_3.toggle(this._button.domNode,"dijitHidden",_10);}else{this._button.set("disabled",_10);}}});});