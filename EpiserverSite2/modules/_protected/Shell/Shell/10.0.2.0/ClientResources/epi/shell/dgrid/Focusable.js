//>>built
define("epi/shell/dgrid/Focusable",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dijit/focus"],function(_1,_2,_3,_4){return _1([],{postCreate:function(){this.inherited(arguments);this._listeners.push(_3.around(this,"_restoreFocus",function(_5){return function(_6){var _7=this._removedFocus;_5.apply(this,arguments);if(!this._focusedNode){_6=_6&&this.row(_6);var _8=_6&&_6.element&&_6.id===_7.rowId?_6:typeof _7.siblingId!=="undefined"&&this.row(_7.siblingId);if(_8){this._focusedNode=_8.element;}}};}));},hasFocus:function(){return this._focusedNode&&this._focusedNode===_4.curNode;},isFocusable:function(){return !!this._focusedNode;},focus:function(_9){if(typeof _9=="string"){_9=null;}this.inherited(arguments,[_9]);},refresh:function(_a){var _b=_a&&_a.refocus,_c=function(_d){if(this._refocusNode){this.focus(this.row(this._refocusNode).element);this._refocusNode=null;}return _d;};if(typeof _b==="undefined"){_b=this.refocusOnRefresh;}if(_b&&this.hasFocus()){this._refocusNode=this.row(this._focusedNode).id;}var _e=this.inherited(arguments);if(_e){return _e.then(_c.bind(this));}}});});