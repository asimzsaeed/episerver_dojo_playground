//>>built
define("epi/shell/dgrid/_EditorMetadataMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/promise/all","dgrid/editor","epi/string","./_MetadataMixin"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _2([_8],{editableProperties:null,_editorWidgetsReady:null,editorSettings:{editOn:"click",autoSave:"true"},editorArgs:null,editorType:null,postMixInProperties:function(){this.inherited(arguments);this.metadata.gridEditable=this.metadata.gridEditable||[];this.editorType=this.editorType||_6;this._editorWidgetPromises=[];},_metadataPropertiesToColumnsDefinition:function(_9,_a){var _b=this.inherited(arguments),_c=this._filterProperties(_9,this.metadata.gridEditable),_d=[];for(var i=0,j=_c.length;i<j;i+=1){var _e=_c[i].uiType;if(_e){_d.push(_e);}}this._editorWidgetsReady=new _4();require(_d,_3.hitch(this,function(){for(var i=0,j=_c.length;i<j;i+=1){var _f=_c[i],_10=arguments[_1.indexOf(_d,_f.uiType)],_11=_7.pascalToCamel(_f.name),_12=_f.selections&&_f.selections.length>0?{selections:_f.selections}:{};_b[_11]=this.editorType(_3.mixin(_b[_11],this.editorSettings,{editor:_10,editorArgs:_3.mixin(_b[_11].editorArgs,this.editorArgs,_f.settings,_12)}));}this._editorWidgetsReady.resolve();}));return _b;},startup:function(){var _13=this.getInherited(arguments),_14=arguments;return this._editorWidgetsReady.then(_3.hitch(this,function(){this.set("columns",this.columns);return _13.apply(this,_14);}));}});});