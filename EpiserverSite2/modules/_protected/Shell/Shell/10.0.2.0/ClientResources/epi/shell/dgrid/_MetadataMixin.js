//>>built
define("epi/shell/dgrid/_MetadataMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","epi/string"],function(_1,_2,_3,_4){return _2([],{metadata:null,postMixInProperties:function(){this.inherited(arguments);this.metadata=this.metadata||{};this.metadata.gridIncluded=this.metadata.gridIncluded||[];this.metadata.placeColumns=this.metadata.placeColumns||"prepending";this.columns=this.columns&&this.columns instanceof Array?this._columnsArrayToObject(this.columns):this.columns||{};},postCreate:function(){this.inherited(arguments);if(this.metadata.placeColumns==="appending"){_3.mixin(this.columns,this._metadataPropertiesToColumnsDefinition(this.metadata.properties,this.metadata.gridIncluded));}else{this.columns=_3.mixin(this._metadataPropertiesToColumnsDefinition(this.metadata.properties,this.metadata.gridIncluded),this.columns);}},_columnsArrayToObject:function(_5){var _6={};for(var i=0,j=_5.length;i<j;i+=1){_6[_5[i].field]=_5[i];}return _6;},_metadataPropertiesToColumnsDefinition:function(_7,_8){var _9={},_a=this._filterProperties(_7,_8);for(var i=0,j=_a.length;i<j;i+=1){var _b=this.getColumnDefinition(_a[i]);_9[_b.field]=_b;}return _9;},_filterProperties:function(_c,_d){if(_d.length>0){return _1.filter(_c,function(_e){return _1.indexOf(_d,_e.name)>-1;});}return [];},getColumnDefinition:function(_f){return {label:_f.displayName,field:_4.pascalToCamel(_f.name),sortable:false};}});});