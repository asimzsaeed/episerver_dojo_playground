//>>built
define("epi/shell/gesture/ScrollPullDown",["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/mouse","dojo/on","dijit/Destroyable"],function(_1,_2,_3,_4,on,_5){return _1([_5],{_delegate:null,_scrollTarget:null,_isScrolling:false,_pullDownInertia:100,_ts:null,_tb:null,destroy:function(){this._delegate=null;},constructor:function(_6,_7){this._delegate=_7;this._scrollTarget=_6;this.addMouseWheelListener(_6);},addMouseWheelListener:function(_8){if(_8){return this.own(on(_8,_4.wheel,_3.hitch(this,this._onMouseWheel)))[0];}},_blockShowEvent:function(){if(this._scrollTarget.scrollTop>0){this._isScrolling=true;}this._ts&&clearTimeout(this._ts);this._ts=setTimeout(_3.hitch(this,function(){this._isScrolling=false;}),this._pullDownInertia);return this._isScrolling;},_initiateScrollBlock:function(){this._scrollBlock=true;},_blockScrollEvent:function(){this._tb&&clearTimeout(this._tb);this._tb=setTimeout(_3.hitch(this,function(){this._scrollBlock=false;}),this._pullDownInertia);return (this._delegate.isShown==null)||this._scrollBlock;},_raiseShow:function(_9){if(this._delegate.isShown===false){_2.stop(_9);this._delegate.show();this._initiateScrollBlock();}},_raiseHide:function(_a){if(this._delegate.isShown===true){_2.stop(_a);this._delegate.hide();this._initiateScrollBlock();}},_onMouseWheel:function(_b){if(!_b.wheelDelta){this._blockScrollEvent();return;}if(this._blockScrollEvent()){_2.stop(_b);return;}if(_b.wheelDelta<0||(this._delegate.isShown&&this._scrollTarget.scrollTop>0)){this._raiseHide(_b);}else{if(!this._blockShowEvent()){this._raiseShow(_b);}}}});});