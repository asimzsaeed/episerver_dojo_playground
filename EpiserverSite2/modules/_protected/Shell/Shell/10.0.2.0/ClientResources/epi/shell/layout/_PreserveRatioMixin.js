//>>built
define("epi/shell/layout/_PreserveRatioMixin",["dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry","dojo/aspect","dijit/Destroyable"],function(_1,_2,_3,_4,_5){return _1([_5],{postCreate:function(){this.inherited(arguments);this.own(_4.before(this,"resize",_2.hitch(this,this._adjustSplitter)));},_adjustSplitter:function(){if(typeof (this.getChildren==="function")){var _6=this.getChildren();if(_6.length===0){return;}var _7=_6.filter(function(_8){return (_8.splitter===true);});var _9=_6.filter(function(_a){return (_a.splitter!==true);});var _b=_7.length;var _c=0;for(var _d in _7){_c=this._calcTrueMax(_9,_7[_d],_b);_7[_d].set("style",this._getStyle(_7[_d],_c));}}},_getStyle:function(_e,_f){var _10=null;switch(_e.region){case "top":case "bottom":_10="height: "+this._calcRatio(_e.get("h"),_f)+"%;";break;case "left":case "right":_10="width: "+this._calcRatio(_e.get("w"),_f)+"%;";break;}return _10;},_calcRatio:function(_11,max){return (_11/max)*100;},_calcTrueMax:function(_12,_13,_14){var _15="w";if(_13.region==="bottom"||_13.region==="top"){_15="h";}var max=_13.get(_15);var _16=_12.filter(function(_17){return _17.region==="center";})[0].get(_15);var _18=_13._splitterWidget.get(_15);for(var _19 in _12){if(_15==="w"&&(_12[_19].region==="right"||_12[_19].region==="left")){max+=_12[_19].get("w");}else{if(_15==="h"&&(_12[_19].region==="bottom"||_12[_19].region==="top")){max+=_12[_19].get("h");}}}return max+_16+(_18*_14);}});});