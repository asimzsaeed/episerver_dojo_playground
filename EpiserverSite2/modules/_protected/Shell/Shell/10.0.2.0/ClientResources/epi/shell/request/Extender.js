//>>built
define("epi/shell/request/Extender",["dojo/_base/declare","dojo/_base/lang","dojo/Deferred"],function(_1,_2,_3){return _1([],{_mutators:null,_request:null,constructor:function(_4,_5){this._request=_4;this._mutators=_5;},xhr:function(_6,_7,_8){var _9=new _3(),_a=this._mutators;_7=_7||{};_7.headers=_7.headers||{};_a.execute("beforeSend",{url:_6,options:_7}).then(_2.hitch(this,function(_b){var _c=this._sendRequest(_b);_9.response=_c.response||this._response(_c.ioArgs);_9.ioArgs=_c.ioArgs;return _c.promise;})).then(function(_d){return _a.execute("afterReceive",{response:_9.response,data:_d});}).then(function(_e){_9.resolve(_e.data);}).otherwise(_9.reject);return _8?_9:_9.promise;},_sendRequest:function(_f){var _10=_f.options;_10.url=_f.url;return this._request(_10.method,_10);},_response:function(_11){return {getHeader:function getHeader(_12){return this.xhr.getResponseHeader(_12);},options:_11.args,url:_11.url,xhr:_11.xhr};}});});