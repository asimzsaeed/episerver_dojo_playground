//>>built
define("epi/shell/widget/_ActionConsumer",["dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel","dojo/_base/array","dojo/aspect","epi/shell/widget/_ActionProviderBase"],function(_1,_2,_3,_4,_5,_6){return _1(_6,{_actionProviders:null,constructor:function(_7){_3.deprecated("epi/shell/widget/_ActionConsumer","use the command pattern with epi/shell/command/_CommandConsumerMixin instead");this._actionProviders=[];if(_7&&_2.isArray(_7.actionProviders)){_7.actionProviders.forEach(function(_8){this.addProvider(_8);},this);}},isProviderRegistered:function(_9){if(!_9){return false;}return this._actionProviders.some(function(_a){return _a.provider===_9;});},addProvider:function(_b){if(!_b||this.isProviderRegistered(_b)){return;}this._actionProviders.push({provider:_b,connects:[_5.after(_b,"onActionAdded",_2.hitch(this,"onActionAdded"),true),_5.after(_b,"onActionRemoved",_2.hitch(this,"onActionRemoved"),true),_5.after(_b,"onActionPropertyChanged",_2.hitch(this,"onActionPropertyChanged"),this)]});},removeProvider:function(_c){if(!_c||!this.isProviderRegistered(_c)){return;}for(var i=0;i<this._actionProviders.length;i++){if(this._actionProviders[i].provider===_c){var _d=this._actionProviders.splice(i,1);_4.forEach(_d.connects,function(_e){_e.remove();});break;}}},getActions:function(){var _f=[];this._actionProviders.forEach(function(_10,_11){_f=_f.concat(this._getProviderActions(_10.provider));},this);return _f;},_getProviderActions:function(_12){if(_12&&typeof (_12.getActions)=="function"){return _12.getActions();}else{return [];}}});});