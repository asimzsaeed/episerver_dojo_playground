//>>built
require({cache:{"url:epi/shell/widget/templates/_TabButton.htm":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\r\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"/>\r\n    <span class=\"tabLabel\" data-dojo-attach-point=\"tabName,containerNode,focusNode\"></span>\r\n    <input type=\"text\" style=\"display:none;\" class=\"tabLabel\" data-dojo-attach-point=\"editBox\" data-dojo-attach-event=\"onblur: _editBoxBlur, onkeypress: _editBoxKeyDown\" maxlength=\"50\" />\r\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point=\"closeNode\" role=\"presentation\">\r\n\t\t<span data-dojo-attach-point=\"closeText\" class=\"dijitTabCloseText\">[x]</span>\r\n    </span>\r\n    <span class=\"dijitInline\" role=\"presentation\">\r\n        <div data-dojo-type=\"dijit/form/DropDownButton\" data-dojo-attach-point=\"nodeOptions\" showLabel=\"false\" title=\"\" iconClass=\"epi-iconSettingsMenu\" class=\"epi-mediumButton epi-chromelessButton\" style=\"display: none\" data-dojo-attach-event=\"onMouseDown: onMenuButton\">\r\n            <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"dropDown\">\r\n                <div data-dojo-type=\"dijit/MenuItem\" data-dojo-attach-event=\"onClick: onRenameMenuItem\">${res.menuitemrename}</div>\r\n                <div data-dojo-type=\"dijit/PopupMenuItem\">\r\n                    <span>${res.menuitemlayout}</span>\r\n                    <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"menuLayout\">\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout1}\" data-dojo-props=\"column: 1\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout1}</div>\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout2}\" data-dojo-props=\"column: 2\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout2}</div>\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout3}\" data-dojo-props=\"column: 3\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout3}</div>\r\n                    </div>\r\n                </div>\r\n                <div data-dojo-type=\"dijit/MenuSeparator\"></div>\r\n                <div data-dojo-type=\"dijit/MenuItem\" data-dojo-attach-point=\"closeTabMenuItem\" data-dojo-attach-event=\"onClick: onCloseMenuItem\">${res.menuitemclose}</div>\r\n            </div>\r\n        </div>\r\n    </span>\r\n</div>"}});define("epi/shell/widget/_TabButton",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-style","dojo/has","dojo/keys","dijit/focus","dijit/_WidgetsInTemplateMixin","dijit/form/_TextBoxMixin","dijit/layout/TabController","dojox/html/entities","dojo/text!./templates/_TabButton.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.TabContainer"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d){return _2([_a.TabButton,_8],{res:_d,editing:false,tabCurrentName:"",templateString:_c,buildRendering:function(){this.inherited(arguments);this.label=this.page.personalizableHeading||this.page.heading||this.page.title||this.title||this.res.newtabname;_1.forEach(this.menuLayout.getChildren(),function(_e){_e.connect(_e,"onChange",this.onChangeLayout);},this);if(!this.closeButton){this.closeTabMenuItem.set("disabled",true);}},onChangeLayout:function(_f){if(_f){_1.forEach(this.getParent().getChildren(),function(_10){_10.set("checked",false);});}this.set("checked",true);},onLayoutClick:function(evt){},onTabTitleChanged:function(_11){},onMenuButton:function(evt){evt.stopPropagation();},onRenameMenuItem:function(evt){var _12=_b.decode(this.tabName.innerHTML);if(_12){this._lastNonEmptyValue=_12;}this._setTabTitleEditable(true);evt.stopPropagation();},onCloseMenuItem:function(evt){evt.stopPropagation();},onClick:function(evt){},toggleMenu:function(_13){_4.set(this.nodeOptions.domNode,"display",_13?"":"none");},_editBoxBlur:function(evt){if(this.editing){this._saveTabTitleChanges();}else{this._setTabTitleEditable(false);}},_lastNonEmptyValue:null,_editBoxKeyDown:function(evt){if(!this.editing){return;}var k=_6;switch(evt.keyCode){case k.LEFT_ARROW:case k.RIGHT_ARROW:case k.DELETE:evt.stopPropagation();break;case k.ESCAPE:this._saveTabTitleChanges(true);break;case k.ENTER:this._saveTabTitleChanges(false);break;}},_setTabTitleEditable:function(_14,_15){this.editing=_14;_3.setSelectable(this.focusNode,_14);if(_14){_4.set(this.tabName,"display","none");_4.set(this.editBox,"display","");if(_15){this.editBox.value=_15;}else{this.editBox.value=_b.decode(this.tabName.innerHTML);}_9.selectInputText(this.editBox);_7.focus(this.editBox);}else{_4.set(this.editBox,"display","none");_4.set(this.tabName,"display","");this.editBox.value="";if(_5("ie")){_4.set(this.domNode,"zoom","1");_4.set(this.domNode,"zoom","");}_7.focus(this.focusNode);}},_saveTabTitleChanges:function(_16){var _17=this.editBox.value;if(_16){_17=this._lastNonEmptyValue;}this.tabName.innerHTML=_b.encode(_17);this.onTabTitleChanged(_17);this._setTabTitleEditable(false);},revertTabTitleChanges:function(_18,_19,_1a){this.tabName.innerHTML=_b.encode(_19);},_setCloseButtonAttr:function(_1b){_4.set(this.closeNode,"display","none");},_setLabelAttr:function(_1c){this.tabName.innerHTML=_b.encode(_1c);}});});