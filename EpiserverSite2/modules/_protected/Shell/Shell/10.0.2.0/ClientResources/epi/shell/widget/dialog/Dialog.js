//>>built
define("epi/shell/widget/dialog/Dialog",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/promise/all","epi","epi/shell/widget/dialog/_DialogBase","epi/shell/widget/_ActionConsumerWidget","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarSet"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){return _2([_8,_9],{confirmActionText:_7.resources.action.ok,cancelActionText:_7.resources.action.cancel,contentClass:"",dialogClass:"epi-dialog-landscape",defaultActionsVisible:true,setFocusOnConfirmButton:true,_preferredHeight:0,_validators:null,_okButtonName:"ok",_cancelButtonName:"cancel",postMixInProperties:function(){this.inherited(arguments);this._validators=[];if(this.content&&this.content.onSubmit){this.connect(this.content,"onSubmit",this._onSubmit);}},postCreate:function(){this.inherited(arguments);this.set("definitionConsumer",new _b({baseClass:"dijitDialogPaneActionBar",layoutContainerClass:_a},this.actionContainerNode));},_size:function(){var _c=this.get("_preferredHeight");if(_c){_5.set(this.containerNode,{minHeight:_c+"px",maxHeight:_c+"px"});}this.inherited(arguments);_5.set(this.containerNode,{minHeight:"",maxHeight:""});_1.forEach(["height","width"],function(_d){if(this[_d]==="auto"){this[_d]="";}},this.containerNode.style);},addValidator:function(_e){this._validators.push(_e);},getActions:function(){var _f=this.inherited(arguments);if(this.defaultActionsVisible){var _10={name:this._okButtonName,label:this.confirmActionText,title:null,settings:{type:"submit"}},_11={name:this._cancelButtonName,label:this.cancelActionText,title:null,action:_3.hitch(this,this._onCancel)};if(this.setFocusOnConfirmButton){_10.settings["class"]="Salt";}else{_11.settings={"class":"Salt",firstFocusable:true};}_f.push(_10,_11);}return _f;},_onCancel:function(){this.onCancel();},_onSubmit:function(){if(!this.validate()){return;}if(this._validators.length===0){this.inherited(arguments);return;}var _12=_1.map(this._validators,function(_13){return _13();});var _14=arguments;var _15=new _6(_12);_15.then(_3.hitch(this,function(_16){if(_1.some(_16,function(_17){return !_17[0];})){return;}this.inherited(_14);}));},_setContentClassAttr:function(_18){_4.remove(this.containerNode,this.contentClass);this._set("contentClass",_18);_4.add(this.containerNode,this.contentClass);},_get_preferredHeightAttr:function(){if(!!this.dialogClass&&this._preferredHeight<25){this._preferredHeight=_5.get(this.containerNode,"height");}return this._preferredHeight;}});});