//>>built
require({cache:{"epi/layers/epi-widgets":function(){define("epi/layers/epi-widgets",["epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources","dijit/layout/AccordionPane","dijit/TooltipDialog","dijit/form/Textarea","dojo/dnd/AutoSource","dojo/dnd/Target","dojo/fx/Toggler","dojo/parser","dojox/form/Uploader","dojox/form/uploader/plugins/HTML5","epi/shell/component/IFrameContextComponent","epi/shell/ContextService","epi/shell/conversion/ObjectConverterRegistry","epi/shell/dnd/Target","epi/shell/form/AutoCompleteSelectionEditor","epi/shell/form/SuggestionSelectionEditor","epi/shell/HashWrapper","epi/shell/layout/GroupContainer","epi/shell/layout/ParentContainer","epi/shell/layout/PinnablePane","epi/shell/layout/PinnablePaneSplitter","epi/shell/layout/PositioningUtility","epi/shell/layout/SimpleContainer","epi/shell/layout/ToolbarContainer","epi/shell/MessageService","epi/shell/MetadataManager","epi/shell/Profile","epi/shell/ShellModule","epi/shell/store/JsonRest","epi/shell/store/Patchable","epi/shell/store/Registry","epi/shell/store/Throttle","epi/shell/UndoManager","epi/shell/widget/_ActionConsumer","epi/shell/widget/_ActionProvider","epi/shell/widget/_ActionProviderBase","epi/shell/widget/_ActionProviderWidget","epi/shell/widget/_TabButton","epi/shell/widget/Application","epi/shell/widget/ApplicationContentPane","epi/shell/widget/CheckBox","epi/shell/widget/layout/ComponentContainer","epi/shell/widget/layout/ComponentPaneContainer","epi/shell/widget/ComponentController","epi/shell/widget/ComponentSelector","epi/shell/widget/ComponentSelectorDialog","epi/shell/widget/DateRange","epi/shell/widget/DateRangePicker","epi/shell/widget/DateTimeSelector","epi/shell/widget/DateTimeSelectorDropDown","epi/shell/widget/FormContainer","epi/shell/widget/GadgetWrapper","epi/shell/widget/GlobalMenu","epi/shell/widget/HelpButton","epi/shell/widget/Iframe","epi/shell/widget/IframeWithOverlay","epi/shell/widget/LabeledInput","epi/shell/widget/LicenseInformation","epi/shell/widget/LoginForm","epi/shell/widget/MenuGroup","epi/shell/widget/overlay/_Base","epi/shell/widget/overlay/Item","epi/shell/widget/PropagatingContainer","epi/shell/widget/SpaceToolbarSeparator","epi/shell/widget/TabContainer","epi/shell/widget/TabController","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarLabel","epi/shell/widget/ToolbarSet","epi/shell/widget/ValidationTextarea","epi/shell/widget/WidgetFactory","epi/shell/widget/WidgetSwitcher","xstyle/core/load-css"],1);},"dijit/layout/AccordionPane":function(){define("dijit/layout/AccordionPane",["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(_1,_2,_3){return _1("dijit.layout.AccordionPane",_3,{constructor:function(){_2.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0");},onSelected:function(){}});});},"dijit/layout/ContentPane":function(){define("dijit/layout/ContentPane",["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,xhr,_12,_13){return _d("dijit.layout.ContentPane",[_6,_7,_8],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_4._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,create:function(_14,_15){if((!_14||!_14.template)&&_15&&!("href" in _14)&&!("content" in _14)){_15=_f.byId(_15);var df=_15.ownerDocument.createDocumentFragment();while(_15.firstChild){df.appendChild(_15.firstChild);}_14=_5.delegate(_14,{content:df});}this.inherited(arguments,[_14,_15]);},postMixInProperties:function(){this.inherited(arguments);var _16=_12.getLocalization("dijit","loading",this.lang);this.loadingMessage=_9.substitute(this.loadingMessage,_16);this.errorMessage=_9.substitute(this.errorMessage,_16);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){_c.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){_c.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){_c.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(_17){_4.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",_17);},_setHrefAttr:function(_18){this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));this.onLoadDeferred.then(_5.hitch(this,"onLoad"));this._set("href",_18);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(_19){_4.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",_19);},_setContentAttr:function(_1a){this._set("href","");this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(_5.hitch(this,"onLoad"));}this._setContent(_1a||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_1b){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));this.onLoadDeferred.then(_5.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var _1c=this;var _1d={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(_5.isObject(this.ioArgs)){_5.mixin(_1d,this.ioArgs);}var _1e=(this._xhrDfd=(this.ioMethod||xhr.get)(_1d)),_1f;_1e.then(function(_20){_1f=_20;try{_1c._isDownloaded=true;return _1c._setContent(_20,false);}catch(err){_1c._onError("Content",err);}},function(err){if(!_1e.canceled){_1c._onError("Download",err);}delete _1c._xhrDfd;return err;}).then(function(){_1c.onDownloadEnd();delete _1c._xhrDfd;return _1f;});delete this._hrefChanged;},_onLoadHandler:function(_21){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(_21);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_22){if(this.isLoaded){this._onUnloadHandler();}var _23=this._contentSetter;_c.forEach(this.getChildren(),function(_24){if(_24.destroyRecursive){_24.destroyRecursive(_22);}else{if(_24.destroy){_24.destroy(_22);}}_24._destroyed=true;});if(_23){_c.forEach(_23.parseResults,function(_25){if(!_25._destroyed){if(_25.destroyRecursive){_25.destroyRecursive(_22);}else{if(_25.destroy){_25.destroy(_22);}}_25._destroyed=true;}});delete _23.parseResults;}if(!_22){_11.empty(this.containerNode);}delete this._singleChild;},_setContent:function(_26,_27){this.destroyDescendants();var _28=this._contentSetter;if(!(_28&&_28 instanceof _a._ContentSetter)){_28=this._contentSetter=new _a._ContentSetter({node:this.containerNode,_onError:_5.hitch(this,this._onError),onContentError:_5.hitch(this,function(e){var _29=this.onContentError(e);try{this.containerNode.innerHTML=_29;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _2a=_5.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!_26.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_28.set((_5.isObject(_26)&&_26.domNode)?_26.domNode:_26,_2a);var _2b=this;return _13(p&&p.then?p:_28.parseDeferred,function(){delete _2b._contentSetterParams;if(!_27){if(_2b._started){_2b._startChildren();_2b._scheduleLayout();}_2b._onLoadHandler(_26);}});},_onError:function(_2c,err,_2d){this.onLoadDeferred.reject(err);var _2e=this["on"+_2c+"Error"].call(this,err);if(_2d){console.error(_2d,err);}else{if(_2e){this._setContent(_2e,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/_Widget":function(){define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_2f,_30,_31,_32,has,_33,_34,_35,_36,_37,_38,_39,_3a){function _3b(){};function _3c(_3d){return function(obj,_3e,_3f,_40){if(obj&&typeof _3e=="string"&&obj[_3e]==_3b){return obj.on(_3e.substring(2).toLowerCase(),_34.hitch(_3f,_40));}return _3d.apply(_31,arguments);};};_2f.around(_31,"connect",_3c);if(_33.connect){_2f.around(_33,"connect",_3c);}var _41=_32("dijit._Widget",[_38,_39,_3a],{onClick:_3b,onDblClick:_3b,onKeyDown:_3b,onKeyPress:_3b,onKeyUp:_3b,onMouseDown:_3b,onMouseMove:_3b,onMouseOut:_3b,onMouseOver:_3b,onMouseLeave:_3b,onMouseEnter:_3b,onMouseUp:_3b,constructor:function(_42){this._toConnect={};for(var _43 in _42){if(this[_43]===_3b){this._toConnect[_43.replace(/^on/,"").toLowerCase()]=_42[_43];delete _42[_43];}}},postCreate:function(){this.inherited(arguments);for(var _44 in this._toConnect){this.on(_44,this._toConnect[_44]);}delete this._toConnect;},on:function(_45,_46){if(this[this._onMap(_45)]===_3b){return _31.connect(this.domNode,_45.toLowerCase(),this,_46);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(_47,_48){_33.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(_47,_48);},attr:function(_49,_4a){if(_30.isDebug){var _4b=arguments.callee._ach||(arguments.callee._ach={}),_4c=(arguments.callee.caller||"unknown caller").toString();if(!_4b[_4c]){_33.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_4c,"","2.0");_4b[_4c]=true;}}var _4d=arguments.length;if(_4d>=2||typeof _49==="object"){return this.set.apply(this,arguments);}else{return this.get(_49);}},getDescendants:function(){_33.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_35("[widgetId]",this.containerNode).map(_37.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_36(0,function(){var _4e=["dijit/_base"];require(_4e);});}return _41;});},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(_4f,has,_50,win,_51){var _52={},_53={};var _54={length:0,add:function(_55){if(_53[_55.id]){throw new Error("Tried to register widget with id=="+_55.id+" but that id is already registered");}_53[_55.id]=_55;this.length++;},remove:function(id){if(_53[id]){delete _53[id];this.length--;}},byId:function(id){return typeof id=="string"?_53[id]:id;},byNode:function(_56){return _53[_56.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in _53){ar.push(_53[id]);}return ar;},getUniqueId:function(_57){var id;do{id=_57+"_"+(_57 in _52?++_52[_57]:_52[_57]=0);}while(_53[id]);return _51._scopeName=="dijit"?id:_51._scopeName+"_"+id;},findWidgets:function(_58,_59){var _5a=[];function _5b(_5c){for(var _5d=_5c.firstChild;_5d;_5d=_5d.nextSibling){if(_5d.nodeType==1){var _5e=_5d.getAttribute("widgetId");if(_5e){var _5f=_53[_5e];if(_5f){_5a.push(_5f);}}else{if(_5d!==_59){_5b(_5d);}}}}};_5b(_58);return _5a;},_destroyAll:function(){_51._curFocus=null;_51._prevFocus=null;_51._activeStack=[];_4f.forEach(_54.findWidgets(win.body()),function(_60){if(!_60._destroyed){if(_60.destroyRecursive){_60.destroyRecursive();}else{if(_60.destroy){_60.destroy();}}}});},getEnclosingWidget:function(_61){while(_61){var id=_61.nodeType==1&&_61.getAttribute("widgetId");if(id){return _53[id];}_61=_61.parentNode;}return null;},_hash:_53};_51.registry=_54;return _54;});},"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(_62){return _62.dijit;});},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","./registry"],function(_63,_64,_65,_66,_67,_68,dom,_69,_6a,_6b,_6c,_6d,has,_6e,_6f,on,_70,_71,_72,win,_73,_74){has.add("dijit-legacy-requires",!_6e.isAsync);if(has("dijit-legacy-requires")){_70(0,function(){var _75=["dijit/_base/manager"];_63(_75);});}var _76={};function _77(obj){var ret={};for(var _78 in obj){ret[_78.toLowerCase()]=true;}return ret;};function _79(_7a){return function(val){_69[val?"set":"remove"](this.domNode,_7a,val);this._set(_7a,val);};};function _7b(a,b){return a===b||(a!==a&&b!==b);};return _68("dijit._WidgetBase",[_71,_73],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_79("lang"),dir:"",_setDirAttr:_79("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_66.blankGif||_63.toUrl("dojo/resources/blank.gif"),postscript:function(_7c,_7d){this.create(_7c,_7d);},create:function(_7e,_7f){this.srcNodeRef=dom.byId(_7f);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_7e){this.params=_7e;_6f.mixin(this,_7e);}this.postMixInProperties();if(!this.id){this.id=_74.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:win.doc);this.ownerDocumentBody=win.body(this.ownerDocument);_74.add(this);this.buildRendering();var _80;if(this.domNode){this._applyAttributes();var _81=this.srcNodeRef;if(_81&&_81.parentNode&&this.domNode!==_81){_81.parentNode.replaceChild(this.domNode,_81);_80=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_80){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _82=this.constructor,_83=_82._setterAttrs;if(!_83){_83=(_82._setterAttrs=[]);for(var _84 in this.attributeMap){_83.push(_84);}var _85=_82.prototype;for(var _86 in _85){if(_86 in this.attributeMap){continue;}var _87="_set"+_86.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();})+"Attr";if(_87 in _85){_83.push(_86);}}}var _88={};for(var key in this.params||{}){_88[key]=this[key];}_64.forEach(_83,function(_89){if(_89 in _88){}else{if(this[_89]){this.set(_89,this[_89]);}}},this);for(key in _88){this.set(key,_88[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _8a=this.baseClass.split(" ");if(!this.isLeftToRight()){_8a=_8a.concat(_64.map(_8a,function(_8b){return _8b+"Rtl";}));}_6a.add(this.domNode,_8a);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_64.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_6f.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_8c){this._beingDestroyed=true;this.destroyDescendants(_8c);this.destroy(_8c);},destroy:function(_8d){this._beingDestroyed=true;this.uninitialize();function _8e(w){if(w.destroyRecursive){w.destroyRecursive(_8d);}else{if(w.destroy){w.destroy(_8d);}}};_64.forEach(this._connects,_6f.hitch(this,"disconnect"));_64.forEach(this._supportingWidgets,_8e);if(this.domNode){_64.forEach(_74.findWidgets(this.domNode,this.containerNode),_8e);}this.destroyRendering(_8d);_74.remove(this.id);this._destroyed=true;},destroyRendering:function(_8f){if(this.bgIframe){this.bgIframe.destroy(_8f);delete this.bgIframe;}if(this.domNode){if(_8f){_69.remove(this.domNode,"widgetId");}else{_6b.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_8f){_6b.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_90){_64.forEach(this.getChildren(),function(_91){if(_91.destroyRecursive){_91.destroyRecursive(_90);}});},uninitialize:function(){return false;},_setStyleAttr:function(_92){var _93=this.domNode;if(_6f.isObject(_92)){_6d.set(_93,_92);}else{if(_93.style.cssText){_93.style.cssText+="; "+_92;}else{_93.style.cssText=_92;}}this._set("style",_92);},_attrToDom:function(_94,_95,_96){_96=arguments.length>=3?_96:this.attributeMap[_94];_64.forEach(_6f.isArray(_96)?_96:[_96],function(_97){var _98=this[_97.node||_97||"domNode"];var _99=_97.type||"attribute";switch(_99){case "attribute":if(_6f.isFunction(_95)){_95=_6f.hitch(this,_95);}var _9a=_97.attribute?_97.attribute:(/^on[A-Z][a-zA-Z]*$/.test(_94)?_94.toLowerCase():_94);if(_98.tagName){_69.set(_98,_9a,_95);}else{_98.set(_9a,_95);}break;case "innerText":_98.innerHTML="";_98.appendChild(this.ownerDocument.createTextNode(_95));break;case "innerHTML":_98.innerHTML=_95;break;case "class":_6a.replace(_98,_95,this[_94]);break;}},this);},get:function(_9b){var _9c=this._getAttrNames(_9b);return this[_9c.g]?this[_9c.g]():this[_9b];},set:function(_9d,_9e){if(typeof _9d==="object"){for(var x in _9d){this.set(x,_9d[x]);}return this;}var _9f=this._getAttrNames(_9d),_a0=this[_9f.s];if(_6f.isFunction(_a0)){var _a1=_a0.apply(this,Array.prototype.slice.call(arguments,1));}else{var _a2=this.focusNode&&!_6f.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_a2].tagName,_a3=_76[tag]||(_76[tag]=_77(this[_a2])),map=_9d in this.attributeMap?this.attributeMap[_9d]:_9f.s in this?this[_9f.s]:((_9f.l in _a3&&typeof _9e!="function")||/^aria-|^data-|^role$/.test(_9d))?_a2:null;if(map!=null){this._attrToDom(_9d,_9e,map);}this._set(_9d,_9e);}return _a1||this;},_attrPairNames:{},_getAttrNames:function(_a4){var apn=this._attrPairNames;if(apn[_a4]){return apn[_a4];}var uc=_a4.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[_a4]={n:_a4+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(_a5,_a6){var _a7=this[_a5];this[_a5]=_a6;if(this._created&&!_7b(_a6,_a7)){if(this._watchCallbacks){this._watchCallbacks(_a5,_a7,_a6);}this.emit("attrmodified-"+_a5,{detail:{prevValue:_a7,newValue:_a6}});}},emit:function(_a8,_a9,_aa){_a9=_a9||{};if(_a9.bubbles===undefined){_a9.bubbles=true;}if(_a9.cancelable===undefined){_a9.cancelable=true;}if(!_a9.detail){_a9.detail={};}_a9.detail.widget=this;var ret,_ab=this["on"+_a8];if(_ab){ret=_ab.apply(this,_aa?_aa:[_a9]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,_a8.toLowerCase(),_a9);}return ret;},on:function(_ac,_ad){var _ae=this._onMap(_ac);if(_ae){return _65.after(this,_ae,_ad,true);}return this.own(on(this.domNode,_ac,_ad))[0];},_onMap:function(_af){var _b0=this.constructor,map=_b0._onMap;if(!map){map=(_b0._onMap={});for(var _b1 in _b0.prototype){if(/^on/.test(_b1)){map[_b1.replace(/^on/,"").toLowerCase()]=_b1;}}}return map[typeof _af=="string"&&_af.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_74.findWidgets(this.containerNode):[];},getParent:function(){return _74.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_b2,_b3){return this.own(_67.connect(obj,_b2,this,_b3))[0];},disconnect:function(_b4){_b4.remove();},subscribe:function(t,_b5){return this.own(_72.subscribe(t,_6f.hitch(this,_b5)))[0];},unsubscribe:function(_b6){_b6.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_6c.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_6d.get(this.domNode,"display")!="none");},placeAt:function(_b7,_b8){var _b9=!_b7.tagName&&_74.byId(_b7);if(_b9&&_b9.addChild&&(!_b8||typeof _b8==="number")){_b9.addChild(this,_b8);}else{var ref=_b9?(_b9.containerNode&&!/after|before|replace/.test(_b8||"")?_b9.containerNode:_b9.domNode):dom.byId(_b7,this.ownerDocument);_6b.place(this.domNode,ref,_b8);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},getTextDir:function(_ba,_bb){return _bb;},applyTextDir:function(){},defer:function(fcn,_bc){var _bd=setTimeout(_6f.hitch(this,function(){if(!_bd){return;}_bd=null;if(!this._destroyed){_6f.hitch(this,fcn)();}}),_bc||0);return {remove:function(){if(_bd){clearTimeout(_bd);_bd=null;}return null;}};}});});},"dijit/Destroyable":function(){define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_be,_bf,_c0){return _c0("dijit.Destroyable",null,{destroy:function(_c1){this._destroyed=true;},own:function(){_be.forEach(arguments,function(_c2){var _c3="destroyRecursive" in _c2?"destroyRecursive":"destroy" in _c2?"destroy":"remove";var odh=_bf.before(this,"destroy",function(_c4){_c2[_c3](_c4);});var hdh=_bf.after(_c2,_c3,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","dojo/_base/unload","dojo/_base/window","./a11yclick"],function(on,_c5,_c6,_c7,has,_c8,win,_c9){var ret=_c7("dijit._OnDijitClickMixin",null,{connect:function(obj,_ca,_cb){return this.inherited(arguments,[obj,_ca=="ondijitclick"?_c9:_ca,_cb]);}});ret.a11yclick=_c9;return ret;});},"dijit/a11yclick":function(){define("dijit/a11yclick",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","dojo/_base/unload","dojo/_base/window"],function(on,_cc,_cd,_ce,has,_cf,win){var _d0=null;if(has("dom-addeventlistener")){win.doc.addEventListener("keydown",function(evt){_d0=evt.target;},true);}else{(function(){var _d1=function(evt){_d0=evt.srcElement;};win.doc.attachEvent("onkeydown",_d1);_cf.addOnWindowUnload(function(){win.doc.detachEvent("onkeydown",_d1);});})();}function _d2(e){return (e.keyCode===_cd.ENTER||e.keyCode===_cd.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey;};return function(_d3,_d4){if(/input|button/i.test(_d3.nodeName)){return on(_d3,"click",_d4);}else{var _d5=[on(_d3,"keydown",function(e){if(_d2(e)){_d0=e.target;e.preventDefault();}}),on(_d3,"keyup",function(e){if(_d2(e)&&e.target==_d0){_d0=null;on.emit(e.target,"click",{cancelable:true,bubbles:true});}}),on(_d3,"click",function(e){_d4.call(this,e);})];if(has("touch")){var _d6;_d5.push(on(_d3,"touchend",function(e){var _d7=e.target;_d6=setTimeout(function(){_d6=null;on.emit(_d7,"click",{cancelable:true,bubbles:true});},600);}),on(_d3,"click",function(e){if(_d6){clearTimeout(_d6);}}));}return {remove:function(){_cc.forEach(_d5,function(h){h.remove();});if(_d6){clearTimeout(_d6);_d6=null;}}};}};return ret;});},"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_d8,_d9,_da,_db){_db.extend(_d9,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _da("dijit._FocusMixin",null,{_focusManager:_d8});});},"dijit/focus":function(){define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_dc,_dd,dom,_de,_df,_e0,_e1,on,_e2,has,_e3,_e4,win,_e5,_e6,_e7,_e8){var _e9;var _ea=_dd([_e3,_e0],{curNode:null,activeStack:[],constructor:function(){var _eb=_e1.hitch(this,function(_ec){if(dom.isDescendant(this.curNode,_ec)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,_ec)){this.set("prevNode",null);}});_dc.before(_df,"empty",_eb);_dc.before(_df,"destroy",_eb);},registerIframe:function(_ed){return this.registerWin(_ed.contentWindow,_ed);},registerWin:function(_ee,_ef){var _f0=this,_f1=_ee.document&&_ee.document.body;if(_f1){var mdh=on(_f1,"mousedown",function(evt){_f0._justMouseDowned=true;setTimeout(function(){_f0._justMouseDowned=false;},13);if(evt&&evt.target&&evt.target.parentNode==null){return;}_f0._onTouchNode(_ef||evt.target,"mouse");});var fih=on(_f1,"focusin",function(evt){_e9=(new Date()).getTime();if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(_e6.isFocusable(evt.target)){_f0._onFocusNode(_ef||evt.target);}else{_f0._onTouchNode(_ef||evt.target);}});var foh=on(_f1,"focusout",function(evt){if((new Date()).getTime()<_e9+100){return;}_f0._onBlurNode(_ef||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;_f1=null;}};}},_onBlurNode:function(_f2){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(_e1.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(_e1.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(_f3,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _f4=[];try{while(_f3){var _f5=_de.get(_f3,"dijitPopupParent");if(_f5){_f3=_e7.byId(_f5).domNode;}else{if(_f3.tagName&&_f3.tagName.toLowerCase()=="body"){if(_f3===win.body()){break;}_f3=_e5.get(_f3.ownerDocument).frameElement;}else{var id=_f3.getAttribute&&_f3.getAttribute("widgetId"),_f6=id&&_e7.byId(id);if(_f6&&!(by=="mouse"&&_f6.get("disabled"))){_f4.unshift(id);}_f3=_f3.parentNode;}}}}catch(e){}this._setStack(_f4,by);},_onFocusNode:function(_f7){if(!_f7){return;}if(_f7.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(_f7);if(_f7==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",_f7);},_setStack:function(_f8,by){var _f9=this.activeStack;this.set("activeStack",_f8);for(var _fa=0;_fa<Math.min(_f9.length,_f8.length);_fa++){if(_f9[_fa]!=_f8[_fa]){break;}}var _fb;for(var i=_f9.length-1;i>=_fa;i--){_fb=_e7.byId(_f9[i]);if(_fb){_fb._hasBeenBlurred=true;_fb.set("focused",false);if(_fb._focusManager==this){_fb._onBlur(by);}this.emit("widget-blur",_fb,by);}}for(i=_fa;i<_f8.length;i++){_fb=_e7.byId(_f8[i]);if(_fb){_fb.set("focused",true);if(_fb._focusManager==this){_fb._onFocus(by);}this.emit("widget-focus",_fb,by);}}},focus:function(_fc){if(_fc){try{_fc.focus();}catch(e){}}}});var _fd=new _ea();_e2(function(){var _fe=_fd.registerWin(_e5.get(win.doc));if(has("ie")){_e4.addOnWindowUnload(function(){if(_fe){_fe.remove();_fe=null;}});}});_e8.focus=function(_ff){_fd.focus(_ff);};for(var attr in _fd){if(!/^_/.test(attr)){_e8.focus[attr]=typeof _fd[attr]=="function"?_e1.hitch(_fd,attr):_fd[attr];}}_fd.watch(function(attr,_100,_101){_e8.focus[attr]=_101;});return _fd;});},"dojo/window":function(){define("dojo/window",["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_102,dom,geom,_103,_104){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_102.body(doc),_105=_104.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_104.create("div",{style:{overflow:"hidden",direction:"ltr"}},_105,"last"),ret=geom.position(div).x!=0;_105.removeChild(div);body.removeChild(_105);return ret;});has.add("position-fixed-support",function(win,doc){var body=_102.body(doc),_106=_104.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_107=_104.create("span",{style:{position:"fixed",left:"0",top:"0"}},_106,"last"),ret=geom.position(_107).x!=geom.position(_106).x;_106.removeChild(_107);body.removeChild(_106);return ret;});var _108={getBox:function(doc){doc=doc||_102.doc;var _109=(doc.compatMode=="BackCompat")?_102.body(doc):doc.documentElement,_10a=geom.docScroll(doc),w,h;if(has("touch")){var _10b=_108.get(doc);w=_10b.innerWidth||_109.clientWidth;h=_10b.innerHeight||_109.clientHeight;}else{w=_109.clientWidth;h=_109.clientHeight;}return {l:_10a.x,t:_10a.y,w:w,h:h};},get:function(doc){if(has("ie")&&_108!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_102.doc,body=_102.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera")||has("trident"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _10c=doc.compatMode=="BackCompat",_10d=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_10e=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_10f=(isWK||_10c)?body:html,_110=pos||geom.position(node),el=node.parentNode,_111=function(el){return (isIE<=6||(isIE==7&&_10c))?false:(has("position-fixed-support")&&(_103.get(el,"position").toLowerCase()=="fixed"));},self=this,_112=function(el,x,y){if(el.tagName=="BODY"||el.tagName=="HTML"){self.get(el.ownerDocument).scrollBy(x,y);}else{x&&(el.scrollLeft+=x);y&&(el.scrollTop+=y);}};if(_111(node)){return;}while(el){if(el==body){el=_10f;}var _113=geom.position(el),_114=_111(el),rtl=_103.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_10f){_113.w=_10d;_113.h=_10e;if(_10f==html&&(isIE||has("trident"))&&rtl){_113.x+=_10f.offsetWidth-_113.w;}if(_113.x<0||!isIE||isIE>=9||has("trident")){_113.x=0;}if(_113.y<0||!isIE||isIE>=9||has("trident")){_113.y=0;}}else{var pb=geom.getPadBorderExtents(el);_113.w-=pb.w;_113.h-=pb.h;_113.x+=pb.l;_113.y+=pb.t;var _115=el.clientWidth,_116=_113.w-_115;if(_115>0&&_116>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_113.x+=_116;}_113.w=_115;}_115=el.clientHeight;_116=_113.h-_115;if(_115>0&&_116>0){_113.h=_115;}}if(_114){if(_113.y<0){_113.h+=_113.y;_113.y=0;}if(_113.x<0){_113.w+=_113.x;_113.x=0;}if(_113.y+_113.h>_10e){_113.h=_10e-_113.y;}if(_113.x+_113.w>_10d){_113.w=_10d-_113.x;}}var l=_110.x-_113.x,t=_110.y-_113.y,r=l+_110.w-_113.w,bot=t+_110.h-_113.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_10f||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_10c)||isIE>=9||has("trident"))){s=-s;}old=el.scrollLeft;_112(el,s,0);s=el.scrollLeft-old;_110.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_10f||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;_112(el,0,s);s=el.scrollTop-old;_110.y-=s;}el=(el!=_10f)&&!_114&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_108);return _108;});},"dijit/a11y":function(){define("dijit/a11y",["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_117,dom,_118,_119,lang,has,_11a){var _11b;var a11y={_isElementShown:function(elem){var s=_119.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_118.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _118.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _11c=elem.contentDocument;if("designMode" in _11c&&_11c.designMode=="on"){return true;}body=_11c.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_118.get(elem,"disabled")){return _11b;}else{if(_118.has(elem,"tabIndex")){return +_118.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_11b;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _11d,last,_11e,_11f,_120,_121,_122={};function _123(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _124=a11y._isElementShown,_125=a11y.effectiveTabIndex;var _126=function(_127){for(var _128=_127.firstChild;_128;_128=_128.nextSibling){if(_128.nodeType!=1||(has("ie")<=9&&_128.scopeName!=="HTML")||!_124(_128)){continue;}var _129=_125(_128);if(_129>=0){if(_129==0){if(!_11d){_11d=_128;}last=_128;}else{if(_129>0){if(!_11e||_129<_11f){_11f=_129;_11e=_128;}if(!_120||_129>=_121){_121=_129;_120=_128;}}}var rn=_123(_128);if(_118.get(_128,"checked")&&rn){_122[rn]=_128;}}if(_128.nodeName.toUpperCase()!="SELECT"){_126(_128);}}};if(_124(root)){_126(root);}function rs(node){return _122[_123(node)]||node;};return {first:rs(_11d),last:rs(last),lowest:rs(_11e),highest:rs(_120)};},getFirstInTabbingOrder:function(root,doc){var _12a=a11y._getTabNavigable(dom.byId(root,doc));return _12a.lowest?_12a.lowest:_12a.first;},getLastInTabbingOrder:function(root,doc){var _12b=a11y._getTabNavigable(dom.byId(root,doc));return _12b.last?_12b.last:_12b.highest;}};1&&lang.mixin(_11a,a11y);return a11y;});},"dojo/uacss":function(){define("dojo/uacss",["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(_12c,lang,_12d,has,_12e){var html=_12e.doc.documentElement,ie=has("ie"),_12f=has("opera"),maj=Math.floor,ff=has("ff"),_130=_12c.boxModel.replace(/-/,""),_131={"dj_quirks":has("quirks"),"dj_opera":_12f,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla")};if(ie){_131["dj_ie"]=true;_131["dj_ie"+maj(ie)]=true;_131["dj_iequirks"]=has("quirks");}if(ff){_131["dj_ff"+maj(ff)]=true;}_131["dj_"+_130]=true;var _132="";for(var clz in _131){if(_131[clz]){_132+=clz+" ";}}html.className=lang.trim(html.className+" "+_132);_12d(90,function(){if(!_12c.isBodyLtr()){var _133="dj_rtl dijitRtl "+_132.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_133+"dj_rtl dijitRtl "+_132.replace(/ /g,"-rtl "));}});return has;});},"dijit/hccss":function(){define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/ready","dojo/_base/window"],function(_134,has,_135,win){_135(90,function(){if(has("highcontrast")){_134.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define("dojo/hccss",["require","./_base/config","./dom-class","./dom-style","./has","./ready","./_base/window"],function(_136,_137,_138,_139,has,_13a,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url("+(_137.blankGif||_136.toUrl("./resources/blank.gif"))+");";win.body().appendChild(div);var cs=_139.getComputedStyle(div),_13b=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_13b&&(_13b=="none"||_13b=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_13a(90,function(){if(has("highcontrast")){_138.add(win.body(),"dj_a11y");}});return has;});},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(_13c,_13d,_13e){return _13d("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_13f,_140){var _141=this.containerNode;if(_140&&typeof _140=="number"){var _142=this.getChildren();if(_142&&_142.length>=_140){_141=_142[_140-1].domNode;_140="after";}}_13e.place(_13f.domNode,_141,_140);if(this._started&&!_13f._started){_13f.startup();}},removeChild:function(_143){if(typeof _143=="number"){_143=this.getChildren()[_143];}if(_143){var node=_143.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_144,dir){var _145=this.getChildren(),idx=_13c.indexOf(this.getChildren(),_144);return _145[idx+dir];},getIndexOfChild:function(_146){return _13c.indexOf(this.getChildren(),_146);}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(_147,_148,_149,_14a,_14b,lang,_14c,has,_14d,_14e,_14f){return _148("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _150=this.getParent();this._childOfLayoutWidget=_150&&_150.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_14e.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){var _151=[],_152=false;_14c("> *",this.containerNode).some(function(node){var _153=_14d.byNode(node);if(_153&&_153.resize){_151.push(_153);}else{if(node.offsetHeight){_152=true;}}});this._singleChild=_151.length==1&&!_152?_151[0]:null;_149.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_154,_155){this._resizeCalled=true;this._scheduleLayout(_154,_155);},_scheduleLayout:function(_156,_157){if(this._isShown()){this._layout(_156,_157);}else{this._needLayout=true;this._changeSize=_156;this._resultSize=_157;}},_layout:function(_158,_159){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_158){_14a.setMarginBox(this.domNode,_158);}var cn=this.containerNode;if(cn===this.domNode){var mb=_159||{};lang.mixin(mb,_158||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_14a.getMarginBox(cn),mb);}this._contentBox=_14f.marginBox2contentBox(cn,mb);}else{this._contentBox=_14a.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_14a.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{_147.forEach(this.getChildren(),function(_15a){if(_15a.resize){_15a.resize();}});}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_15b=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_149.contains(node,"dijitHidden")&&_15b&&_15b.style&&(_15b.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dijit/Viewport":function(){define("dijit/Viewport",["dojo/Evented","dojo/on","dojo/ready","dojo/sniff","dojo/_base/window","dojo/window"],function(_15c,on,_15d,has,win,_15e){var _15f=new _15c();var _160;_15d(200,function(){var _161=_15e.getBox();_15f._rlh=on(win.global,"resize",function(){var _162=_15e.getBox();if(_161.h==_162.h&&_161.w==_162.w){return;}_161=_162;_15f.emit("resize");});if(has("ie")==8){var _163=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_163){_163=screen.deviceXDPI;_15f.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_160=evt.target;});on(document,"focusout",function(evt){_160=null;});}});_15f.getEffectiveBox=function(doc){var box=_15e.getBox(doc);var tag=_160&&_160.tagName&&_160.tagName.toLowerCase();if(has("ios")&&_160&&!_160.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_160.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_160.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _15f;});},"dijit/layout/utils":function(){define("dijit/layout/utils",["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","../main"],function(_164,_165,_166,_167,lang,_168){var _169=lang.getObject("layout",true,_168);_169.marginBox2contentBox=function(node,mb){var cs=_167.getComputedStyle(node);var me=_166.getMarginExtents(node,cs);var pb=_166.getPadBorderExtents(node,cs);return {l:_167.toPixelValue(node,cs.paddingLeft),t:_167.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};function _16a(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_16b,dim){var _16c=_16b.resize?_16b.resize(dim):_166.setMarginBox(_16b.domNode,dim);if(_16c){lang.mixin(_16b,_16c);}else{lang.mixin(_16b,_166.getMarginBox(_16b.domNode));lang.mixin(_16b,dim);}};_169.layoutChildren=function(_16d,dim,_16e,_16f,_170){dim=lang.mixin({},dim);_165.add(_16d,"dijitLayoutContainer");_16e=_164.filter(_16e,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_164.filter(_16e,function(item){return item.region=="center"||item.layoutAlign=="client";}));_164.forEach(_16e,function(_171){var elm=_171.domNode,pos=(_171.region||_171.layoutAlign);if(!pos){throw new Error("No region setting for "+_171.id);}var _172=elm.style;_172.left=dim.l+"px";_172.top=dim.t+"px";_172.position="absolute";_165.add(elm,"dijitAlign"+_16a(pos));var _173={};if(_16f&&_16f==_171.id){_173[_171.region=="top"||_171.region=="bottom"?"h":"w"]=_170;}if(pos=="top"||pos=="bottom"){_173.w=dim.w;size(_171,_173);dim.h-=_171.h;if(pos=="top"){dim.t+=_171.h;}else{_172.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_173.h=dim.h;size(_171,_173);dim.w-=_171.w;if(pos=="left"){dim.l+=_171.w;}else{_172.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_171,dim);}}}});};return {marginBox2contentBox:_169.marginBox2contentBox,layoutChildren:_169.layoutChildren};});},"dojo/html":function(){define("dojo/html",["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_174,lang,_175,_176,dom,_177,_178){var html={};lang.setObject("dojo.html",html);var _179=0;html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};html._emptyNode=_177.empty;html._setNodeContent=function(node,cont){_177.empty(node);if(cont){if(typeof cont=="string"){cont=_177.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _17a=cont.length,i=0;i<cont.length;i=_17a==cont.length?i+1:0){_177.place(cont[i],node,"last");}}else{_177.place(cont,node,"last");}}return node;};html._ContentSetter=_176("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_174._scopeName,startup:true,constructor:function(_17b,node){lang.mixin(this,_17b||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_179++].join("_");}},set:function(cont,_17c){if(undefined!==cont){this.content=cont;}if(_17c){this._mixin(_17c);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _17d=this.onContentError(e);try{node.innerHTML=_17d;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_175.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_177.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var _17e=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_17e){cont=_17e[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_17f){var _180={},key;for(key in _17f){if(key in _180){continue;}this[key]=_17f[key];}},_parse:function(){var _181=this.node;try{var _182={};_175.forEach(["dir","lang","textDir"],function(name){if(this[name]){_182[name]=this[name];}},this);var self=this;this.parseDeferred=_178.parse({rootNode:_181,noStart:!this.startup,inherited:_182,scope:this.parserScope}).then(function(_183){return self.parseResults=_183;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_184){var _185=this["on"+type+"Error"].call(this,err);if(_184){console.error(_184,err);}else{if(_185){html._setNodeContent(this.node,_185,true);}}}});html.set=function(node,cont,_186){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_186){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_186,{content:cont,node:node}));return op.set();}};return html;});},"dojo/parser":function(){define("dojo/parser",["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./_base/html","./_base/window","./_base/url","./_base/json","./aspect","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_187,dojo,_188,_189,_18a,_18b,_18c,_18d,_18e,_18f,_190,_191,has,_192,don,_193){new Date("X");var _194=0;_18f.after(_188,"extend",function(){_194++;},true);function _195(ctor){var map=ctor._nameCaseMap,_196=ctor.prototype;if(!map||map._extendCnt<_194){map=ctor._nameCaseMap={};for(var name in _196){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_194;}return map;};var _197={};function _198(_199){var ts=_199.join();if(!_197[ts]){var _19a=[];for(var i=0,l=_199.length;i<l;i++){var t=_199[i];_19a[_19a.length]=(_197[t]=_197[t]||(_188.getObject(t)||(~t.indexOf("/")&&_187(t))));}var ctor=_19a.shift();_197[ts]=_19a.length?(ctor.createSubclass?ctor.createSubclass(_19a):ctor.extend.apply(ctor,_19a)):ctor;}return _197[ts];};var _19b={_clearCache:function(){_194++;_197={};},_functionFromScript:function(_19c,_19d){var _19e="",_19f="",_1a0=(_19c.getAttribute(_19d+"args")||_19c.getAttribute("args")),_1a1=_19c.getAttribute("with");var _1a2=(_1a0||"").split(/\s*,\s*/);if(_1a1&&_1a1.length){_189.forEach(_1a1.split(/\s*,\s*/),function(part){_19e+="with("+part+"){";_19f+="}";});}return new Function(_1a2,_19e+_19c.innerHTML+_19f);},instantiate:function(_1a3,_1a4,_1a5){_1a4=_1a4||{};_1a5=_1a5||{};var _1a6=(_1a5.scope||dojo._scopeName)+"Type",_1a7="data-"+(_1a5.scope||dojo._scopeName)+"-",_1a8=_1a7+"type",_1a9=_1a7+"mixins";var list=[];_189.forEach(_1a3,function(node){var type=_1a6 in _1a4?_1a4[_1a6]:node.getAttribute(_1a8)||node.getAttribute(_1a6);if(type){var _1aa=node.getAttribute(_1a9),_1ab=_1aa?[type].concat(_1aa.split(/\s*,\s*/)):[type];list.push({node:node,types:_1ab});}});return this._instantiate(list,_1a4,_1a5);},_instantiate:function(_1ac,_1ad,_1ae){var _1af=_189.map(_1ac,function(obj){var ctor=obj.ctor||_198(obj.types);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,_1ad,_1ae,obj.scripts,obj.inherited);},this);if(!_1ad._started&&!_1ae.noStart){_189.forEach(_1af,function(_1b0){if(typeof _1b0.startup==="function"&&!_1b0._started){_1b0.startup();}});}return _1af;},construct:function(ctor,node,_1b1,_1b2,_1b3,_1b4){var _1b5=ctor&&ctor.prototype;_1b2=_1b2||{};var _1b6={};if(_1b2.defaults){_188.mixin(_1b6,_1b2.defaults);}if(_1b4){_188.mixin(_1b6,_1b4);}var _1b7;if(has("dom-attributes-explicit")){_1b7=node.attributes;}else{if(has("dom-attributes-specified-flag")){_1b7=_189.filter(node.attributes,function(a){return a.specified;});}else{var _1b8=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_1b9=_1b8.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_1b7=_189.map(_1b9.split(/\s+/),function(name){var _1ba=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_1ba=="enctype"?node.getAttribute(_1ba):node.getAttributeNode(_1ba).value};});}}var _1bb=_1b2.scope||dojo._scopeName,_1bc="data-"+_1bb+"-",hash={};if(_1bb!=="dojo"){hash[_1bc+"props"]="data-dojo-props";hash[_1bc+"type"]="data-dojo-type";hash[_1bc+"mixins"]="data-dojo-mixins";hash[_1bb+"type"]="dojoType";hash[_1bc+"id"]="data-dojo-id";}var i=0,item,_1bd=[],_1be,_1bf;while(item=_1b7[i++]){var name=item.name,_1c0=name.toLowerCase(),_1c1=item.value;switch(hash[_1c0]||_1c0){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":_1bf=_1c1;break;case "data-dojo-id":case "jsid":_1be=_1c1;break;case "data-dojo-attach-point":case "dojoattachpoint":_1b6.dojoAttachPoint=_1c1;break;case "data-dojo-attach-event":case "dojoattachevent":_1b6.dojoAttachEvent=_1c1;break;case "class":_1b6["class"]=node.className;break;case "style":_1b6["style"]=node.style&&node.style.cssText;break;default:if(!(name in _1b5)){var map=_195(ctor);name=map[_1c0]||name;}if(name in _1b5){switch(typeof _1b5[name]){case "string":_1b6[name]=_1c1;break;case "number":_1b6[name]=_1c1.length?Number(_1c1):NaN;break;case "boolean":_1b6[name]=_1c1.toLowerCase()!="false";break;case "function":if(_1c1===""||_1c1.search(/[^\w\.]+/i)!=-1){_1b6[name]=new Function(_1c1);}else{_1b6[name]=_188.getObject(_1c1,false)||new Function(_1c1);}_1bd.push(name);break;default:var pVal=_1b5[name];_1b6[name]=(pVal&&"length" in pVal)?(_1c1?_1c1.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_1c1==""?new Date(""):_1c1=="now"?new Date():_190.fromISOString(_1c1)):(pVal instanceof _18d)?(dojo.baseUrl+_1c1):_18e.fromJson(_1c1);}}else{_1b6[name]=_1c1;}}}for(var j=0;j<_1bd.length;j++){var _1c2=_1bd[j].toLowerCase();node.removeAttribute(_1c2);node[_1c2]=null;}if(_1bf){try{_1bf=_18e.fromJson.call(_1b2.propsThis,"{"+_1bf+"}");_188.mixin(_1b6,_1bf);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_1bf+"'");}}_188.mixin(_1b6,_1b1);if(!_1b3){_1b3=(ctor&&(ctor._noScript||_1b5._noScript)?[]:_192("> script[type^='dojo/']",node));}var _1c3=[],_1c4=[],_1c5=[],ons=[];if(_1b3){for(i=0;i<_1b3.length;i++){var _1c6=_1b3[i];node.removeChild(_1c6);var _1c7=(_1c6.getAttribute(_1bc+"event")||_1c6.getAttribute("event")),prop=_1c6.getAttribute(_1bc+"prop"),_1c8=_1c6.getAttribute(_1bc+"method"),_1c9=_1c6.getAttribute(_1bc+"advice"),_1ca=_1c6.getAttribute("type"),nf=this._functionFromScript(_1c6,_1bc);if(_1c7){if(_1ca=="dojo/connect"){_1c3.push({method:_1c7,func:nf});}else{if(_1ca=="dojo/on"){ons.push({event:_1c7,func:nf});}else{_1b6[_1c7]=nf;}}}else{if(_1ca=="dojo/aspect"){_1c3.push({method:_1c8,advice:_1c9,func:nf});}else{if(_1ca=="dojo/watch"){_1c5.push({prop:prop,func:nf});}else{_1c4.push(nf);}}}}}var _1cb=ctor.markupFactory||_1b5.markupFactory;var _1cc=_1cb?_1cb(_1b6,node,ctor):new ctor(_1b6,node);if(_1be){_188.setObject(_1be,_1cc);}for(i=0;i<_1c3.length;i++){_18f[_1c3[i].advice||"after"](_1cc,_1c3[i].method,_188.hitch(_1cc,_1c3[i].func),true);}for(i=0;i<_1c4.length;i++){_1c4[i].call(_1cc);}for(i=0;i<_1c5.length;i++){_1cc.watch(_1c5[i].prop,_1c5[i].func);}for(i=0;i<ons.length;i++){don(_1cc,ons[i].event,ons[i].func);}return _1cc;},scan:function(root,_1cd){var list=[],mids=[],_1ce={};var _1cf=(_1cd.scope||dojo._scopeName)+"Type",_1d0="data-"+(_1cd.scope||dojo._scopeName)+"-",_1d1=_1d0+"type",_1d2=_1d0+"textdir",_1d3=_1d0+"mixins";var node=root.firstChild;var _1d4=_1cd.inherited;if(!_1d4){function _1d5(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_1d5(node.parentNode,attr));};_1d4={dir:_1d5(root,"dir"),lang:_1d5(root,"lang"),textDir:_1d5(root,_1d2)};for(var key in _1d4){if(!_1d4[key]){delete _1d4[key];}}}var _1d6={inherited:_1d4};var _1d7;var _1d8;function _1d9(_1da){if(!_1da.inherited){_1da.inherited={};var node=_1da.node,_1db=_1d9(_1da.parent);var _1dc={dir:node.getAttribute("dir")||_1db.dir,lang:node.getAttribute("lang")||_1db.lang,textDir:node.getAttribute(_1d2)||_1db.textDir};for(var key in _1dc){if(_1dc[key]){_1da.inherited[key]=_1dc[key];}}}return _1da.inherited;};while(true){if(!node){if(!_1d6||!_1d6.node){break;}node=_1d6.node.nextSibling;_1d8=false;_1d6=_1d6.parent;_1d7=_1d6.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_1d7&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_1d7.push(node);}node=node.nextSibling;continue;}if(_1d8){node=node.nextSibling;continue;}var type=node.getAttribute(_1d1)||node.getAttribute(_1cf);var _1dd=node.firstChild;if(!type&&(!_1dd||(_1dd.nodeType==3&&!_1dd.nextSibling))){node=node.nextSibling;continue;}var _1de;var ctor=null;if(type){var _1df=node.getAttribute(_1d3),_1e0=_1df?[type].concat(_1df.split(/\s*,\s*/)):[type];try{ctor=_198(_1e0);}catch(e){}if(!ctor){_189.forEach(_1e0,function(t){if(~t.indexOf("/")&&!_1ce[t]){_1ce[t]=true;mids[mids.length]=t;}});}var _1e1=ctor&&!ctor.prototype._noScript?[]:null;_1de={types:_1e0,ctor:ctor,parent:_1d6,node:node,scripts:_1e1};_1de.inherited=_1d9(_1de);list.push(_1de);}else{_1de={node:node,scripts:_1d7,parent:_1d6};}node=_1dd;_1d7=_1e1;_1d8=ctor&&ctor.prototype.stopParser&&!(_1cd.template);_1d6=_1de;}var d=new _191();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}_187(mids,function(){d.resolve(_189.filter(list,function(_1e2){if(!_1e2.ctor){try{_1e2.ctor=_198(_1e2.types);}catch(e){}}var _1e3=_1e2.parent;while(_1e3&&!_1e3.types){_1e3=_1e3.parent;}var _1e4=_1e2.ctor&&_1e2.ctor.prototype;_1e2.instantiateChildren=!(_1e4&&_1e4.stopParser&&!(_1cd.template));_1e2.instantiate=!_1e3||(_1e3.instantiate&&_1e3.instantiateChildren);return _1e2.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_1e5){var hash=_18e.fromJson("{"+_1e5.innerHTML+"}"),vars=[],mids=[],d=new _191();for(var name in hash){vars.push(name);mids.push(hash[name]);}_187(mids,function(){for(var i=0;i<vars.length;i++){_188.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root){var _1e6=new _191(),_1e7=_1e6.promise;_1e6.resolve(true);var self=this;_192("script[type='dojo/require']",root).forEach(function(node){_1e7=_1e7.then(function(){return self._require(node);});node.parentNode.removeChild(node);});return _1e7;},parse:function(_1e8,_1e9){var root;if(!_1e9&&_1e8&&_1e8.rootNode){_1e9=_1e8;root=_1e9.rootNode;}else{if(_1e8&&_188.isObject(_1e8)&&!("nodeType" in _1e8)){_1e9=_1e8;}else{root=_1e8;}}root=root?_18b.byId(root):_18c.body();_1e9=_1e9||{};var _1ea=_1e9.template?{template:true}:{},_1eb=[],self=this;var p=this._scanAmd(root,_1e9).then(function(){return self.scan(root,_1e9);}).then(function(_1ec){return _1eb=_1eb.concat(self._instantiate(_1ec,_1ea,_1e9));}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});_188.mixin(_1eb,p);return _1eb;}};if(1){dojo.parser=_19b;}if(_18a.parseOnLoad){_193(100,_19b,"parse");}return _19b;});},"dojo/_base/url":function(){define("dojo/_base/url",["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_1ed=function(){var n=null,_1ee=arguments,uri=[_1ee[0]];for(var i=1;i<_1ee.length;i++){if(!_1ee[i]){continue;}var _1ef=new _1ed(_1ee[i]+""),_1f0=new _1ed(uri[0]+"");if(_1ef.path==""&&!_1ef.scheme&&!_1ef.authority&&!_1ef.query){if(_1ef.fragment!=n){_1f0.fragment=_1ef.fragment;}_1ef=_1f0;}else{if(!_1ef.scheme){_1ef.scheme=_1f0.scheme;if(!_1ef.authority){_1ef.authority=_1f0.authority;if(_1ef.path.charAt(0)!="/"){var path=_1f0.path.substring(0,_1f0.path.lastIndexOf("/")+1)+_1ef.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_1ef.path=segs.join("/");}}}}uri=[];if(_1ef.scheme){uri.push(_1ef.scheme,":");}if(_1ef.authority){uri.push("//",_1ef.authority);}uri.push(_1ef.path);if(_1ef.query){uri.push("?",_1ef.query);}if(_1ef.fragment){uri.push("#",_1ef.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_1ed.prototype.toString=function(){return this.uri;};return dojo._Url=_1ed;});},"dijit/TooltipDialog":function(){require({cache:{"url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class=\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n"}});define("dijit/TooltipDialog",["dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_1f1,_1f2,_1f3,keys,lang,_1f4,_1f5,_1f6,_1f7,_1f8,_1f9,_1fa){return _1f1("dijit.TooltipDialog",[_1f5,_1f8,_1f7,_1f6],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_1f9,_setTitleAttr:function(_1fb){this.containerNode.title=_1fb;this._set("title",_1fb);},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");},orient:function(node,_1fc,_1fd){var newC={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_1fc+"-"+_1fd];_1f2.replace(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems(this.containerNode);_1f4.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);var _1fe=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_1fe.y+((_1fe.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_1fe.x+((_1fe.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.containerNode);}var _1ff=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==keys.ESCAPE){this.defer("onCancel");_1f3.stop(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_1ff){_1f4.focus(this._lastFocusItem);}_1f3.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_1ff){_1f4.focus(this._firstFocusItem);}_1f3.stop(evt);}else{if(evt.charOrCode===keys.TAB){evt.stopPropagation();}}}}}});});},"dijit/_DialogMixin":function(){define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(_200,a11y){return _200("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _201=a11y._getTabNavigable(this.containerNode);this._firstFocusItem=_201.lowest||_201.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_201.last||_201.highest||this._firstFocusItem;}});});},"dijit/form/_FormMixin":function(){define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_202,_203,_204,lang,on,_205){return _203("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_206){var res=[];_202.forEach(_206||this.getChildren(),function(_207){if("value" in _207){res.push(_207);}else{res=res.concat(this._getDescendantFormWidgets(_207.getChildren()));}},this);return res;},reset:function(){_202.forEach(this._getDescendantFormWidgets(),function(_208){if(_208.reset){_208.reset();}});},validate:function(){var _209=false;return _202.every(_202.map(this._getDescendantFormWidgets(),function(_20a){_20a._hasBeenBlurred=true;var _20b=_20a.disabled||!_20a.validate||_20a.validate();if(!_20b&&!_209){_205.scrollIntoView(_20a.containerNode||_20a.domNode);_20a.focus();_209=true;}return _20b;}),function(item){return item;});},setValues:function(val){_204.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_202.forEach(this._getDescendantFormWidgets(),function(_20c){if(!_20c.name){return;}var _20d=map[_20c.name]||(map[_20c.name]=[]);_20d.push(_20c);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _20e=map[name],_20f=lang.getObject(name,false,obj);if(_20f===undefined){continue;}if(!lang.isArray(_20f)){_20f=[_20f];}if(typeof _20e[0].checked=="boolean"){_202.forEach(_20e,function(w){w.set("value",_202.indexOf(_20f,w.value)!=-1);});}else{if(_20e[0].multiple){_20e[0].set("value",_20f);}else{_202.forEach(_20e,function(w,i){w.set("value",_20f[i]);});}}}},getValues:function(){_204.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_202.forEach(this._getDescendantFormWidgets(),function(_210){var name=_210.name;if(!name||_210.disabled){return;}var _211=_210.get("value");if(typeof _210.checked=="boolean"){if(/Radio/.test(_210.declaredClass)){if(_211!==false){lang.setObject(name,_211,obj);}else{_211=lang.getObject(name,false,obj);if(_211===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_211!==false){ary.push(_211);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_211);}else{lang.setObject(name,[prev,_211],obj);}}else{lang.setObject(name,_211,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _212=_202.map(this._descendants,function(w){return w.get("state")||"";});return _202.indexOf(_212,"Error")>=0?"Error":_202.indexOf(_212,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_213){this._descendants=this._getDescendantFormWidgets();_202.forEach(this._descendants,function(_214){if(!_214._started){_214.startup();}});if(!_213){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_215,_216){this.onValidStateChange(_216=="");});},destroy:function(){this.inherited(arguments);}});});},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin",["dojo/_base/lang","dojo/touch","./_WidgetBase","dojo/string","dojo/cache","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/sniff","dojo/_base/unload"],function(lang,_217,_218,_219,_21a,_21b,_21c,_21d,has,_21e){var _21f=_21c("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _220=this.declaredClass,_221=this;return _219.substitute(tmpl,this,function(_222,key){if(key.charAt(0)=="!"){_222=lang.getObject(key.substr(1),false,_221);}if(typeof _222=="undefined"){throw new Error(_220+" template:"+key);}if(_222==null){return "";}return key.charAt(0)=="!"?_222:_222.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){if(!this.templateString){this.templateString=_21a(this.templatePath,{sanitize:true});}var _223=_21f.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_223)){node=_21d.toDom(this._stringRepl(_223),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_223);}}else{node=_223.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node,function(n,p){return n.getAttribute(p);});this._beforeFillContent();this._fillContent(this.srcNodeRef);},_beforeFillContent:function(){},_fillContent:function(_224){var dest=this.containerNode;if(_224&&dest){while(_224.hasChildNodes()){dest.appendChild(_224.firstChild);}}},_attachTemplateNodes:function(_225,_226){var _227=lang.isArray(_225)?_225:(_225.all||_225.getElementsByTagName("*"));var x=lang.isArray(_225)?0:-1;for(;x<0||_227[x];x++){var _228=(x==-1)?_225:_227[x];if(this.widgetsInTemplate&&(_226(_228,"dojoType")||_226(_228,"data-dojo-type"))){continue;}var _229=_226(_228,"dojoAttachPoint")||_226(_228,"data-dojo-attach-point");if(_229){var _22a,_22b=_229.split(/\s*,\s*/);while((_22a=_22b.shift())){if(lang.isArray(this[_22a])){this[_22a].push(_228);}else{this[_22a]=_228;}this._attachPoints.push(_22a);}}var _22c=_226(_228,"dojoAttachEvent")||_226(_228,"data-dojo-attach-event");if(_22c){var _22d,_22e=_22c.split(/\s*,\s*/);var trim=lang.trim;while((_22d=_22e.shift())){if(_22d){var _22f=null;if(_22d.indexOf(":")!=-1){var _230=_22d.split(":");_22d=trim(_230[0]);_22f=trim(_230[1]);}else{_22d=trim(_22d);}if(!_22f){_22f=_22d;}this._attachEvents.push(this.connect(_228,_217[_22d]||_22d,_22f));}}}}},destroyRendering:function(){_21b.forEach(this._attachPoints,function(_231){delete this[_231];},this);this._attachPoints=[];_21b.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});_21f._templateCache={};_21f.getCachedTemplate=function(_232,_233,doc){var _234=_21f._templateCache;var key=_232;var _235=_234[key];if(_235){try{if(!_235.ownerDocument||_235.ownerDocument==(doc||document)){return _235;}}catch(e){}_21d.destroy(_235);}_232=_219.trim(_232);if(_233||_232.match(/\$\{([^\}]+)\}/g)){return (_234[key]=_232);}else{var node=_21d.toDom(_232,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_232);}return (_234[key]=node);}};if(has("ie")){_21e.addOnWindowUnload(function(){var _236=_21f._templateCache;for(var key in _236){var _237=_236[key];if(typeof _237=="object"){_21d.destroy(_237);}delete _236[key];}});}lang.extend(_218,{dojoAttachEvent:"",dojoAttachPoint:""});return _21f;});},"dojo/touch":function(){define("dojo/touch",["./_base/kernel","./aspect","./dom","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_238,dom,on,has,_239,_23a,win){var _23b=has("touch");var ios4=false;if(has("ios")){var ua=navigator.userAgent;var v=ua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));ios4=os<5;}var _23c;function _23d(_23e,_23f){if(_23b){return function(node,_240){var _241=on(node,_23f,_240),_242=on(node,_23e,function(evt){if(!_23c||(new Date()).getTime()>_23c+1000){_240.call(this,evt);}});return {remove:function(){_241.remove();_242.remove();}};};}else{return function(node,_243){return on(node,_23e,_243);};}};var _244,_245;if(_23b){_23a(function(){_245=win.body();win.doc.addEventListener("touchstart",function(evt){_23c=(new Date()).getTime();var _246=_245;_245=evt.target;on.emit(_246,"dojotouchout",{target:_246,relatedTarget:_245,bubbles:true});on.emit(_245,"dojotouchover",{target:_245,relatedTarget:_246,bubbles:true});},true);on(win.doc,"touchmove",function(evt){_23c=(new Date()).getTime();var _247=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_247&&_245!==_247){on.emit(_245,"dojotouchout",{target:_245,relatedTarget:_247,bubbles:true});on.emit(_247,"dojotouchover",{target:_247,relatedTarget:_245,bubbles:true});_245=_247;}});});_244=function(node,_248){return on(win.doc,"touchmove",function(evt){if(node===win.doc||dom.isDescendant(_245,node)){evt.target=_245;_248.call(this,evt);}});};}var _249={press:_23d("mousedown","touchstart"),move:_23d("mousemove",_244),release:_23d("mouseup","touchend"),cancel:_23d(_239.leave,"touchcancel"),over:_23d("mouseover","dojotouchover"),out:_23d("mouseout","dojotouchout"),enter:_239._eventHandler(_23d("mouseover","dojotouchover")),leave:_239._eventHandler(_23d("mouseout","dojotouchout"))};1&&(dojo.touch=_249);return _249;});},"dojo/cache":function(){define("dojo/cache",["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define("dojo/text",["./_base/kernel","require","./has","./_base/xhr"],function(dojo,_24a,has,xhr){var _24b;if(1){_24b=function(url,sync,load){xhr("GET",{url:url,sync:!!sync,load:load,headers:dojo.config.textPluginHeaders||{}});};}else{if(_24a.getText){_24b=_24a.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _24c={},_24d=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _24e=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_24e){text=_24e[1];}}else{text="";}return text;},_24f={},_250={};dojo.cache=function(_251,url,_252){var key;if(typeof _251=="string"){if(/\//.test(_251)){key=_251;_252=url;}else{key=_24a.toUrl(_251.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_251+"";_252=url;}var val=(_252!=undefined&&typeof _252!="string")?_252.value:_252,_253=_252&&_252.sanitize;if(typeof val=="string"){_24c[key]=val;return _253?_24d(val):val;}else{if(val===null){delete _24c[key];return null;}else{if(!(key in _24c)){_24b(key,true,function(text){_24c[key]=text;});}return _253?_24d(_24c[key]):_24c[key];}}};return {dynamic:true,normalize:function(id,_254){var _255=id.split("!"),url=_255[0];return (/^\./.test(url)?_254(url):url)+(_255[1]?"!"+_255[1]:"");},load:function(id,_256,load){var _257=id.split("!"),_258=_257.length>1,_259=_257[0],url=_256.toUrl(_257[0]),_25a="url:"+url,text=_24f,_25b=function(text){load(_258?_24d(text):text);};if(_259 in _24c){text=_24c[_259];}else{if(_25a in _256.cache){text=_256.cache[_25a];}else{if(url in _24c){text=_24c[url];}}}if(text===_24f){if(_250[url]){_250[url].push(_25b);}else{var _25c=_250[url]=[_25b];_24b(url,!_256.async,function(text){_24c[_259]=_24c[url]=text;for(var i=0;i<_25c.length;){_25c[i++](text);}delete _250[url];});}}else{_25b(text);}}};});},"url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class=\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n","dijit/form/Textarea":function(){define("dijit/form/Textarea",["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(_25d,_25e,_25f,_260){return _25d("dijit.form.Textarea",[_260,_25f],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);_25e.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});}});});},"dijit/form/_ExpandingTextAreaMixin":function(){define("dijit/form/_ExpandingTextAreaMixin",["dojo/_base/declare","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/_base/window","../Viewport"],function(_261,_262,has,lang,on,win,_263){has.add("textarea-needs-help-shrinking",function(){var body=win.body(),te=_262.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},body,"last");var _264=te.scrollHeight>=te.clientHeight;body.removeChild(te);return _264;});return _261("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize();},postCreate:function(){this.inherited(arguments);var _265=this.textbox;_265.style.overflowY="hidden";this.own(on(_265,"focus, resize",lang.hitch(this,"_resizeLater")));},startup:function(){this.inherited(arguments);this.own(_263.on("resize",lang.hitch(this,"_resizeLater")));this._resizeLater();},_onInput:function(e){this.inherited(arguments);this.resize();},_estimateHeight:function(){var _266=this.textbox;_266.rows=(_266.value.match(/\n/g)||[]).length+1;},_resizeLater:function(){this.defer("resize");},resize:function(){var _267=this.textbox;function _268(){var _269=false;if(_267.value===""){_267.value=" ";_269=true;}var sh=_267.scrollHeight;if(_269){_267.value="";}return sh;};if(_267.style.overflowY=="hidden"){_267.scrollTop=0;}if(this.busyResizing){return;}this.busyResizing=true;if(_268()||_267.offsetHeight){var newH=_268()+Math.max(_267.offsetHeight-_267.clientHeight,0);var _26a=newH+"px";if(_26a!=_267.style.height){_267.style.height=_26a;_267.rows=1;}if(has("textarea-needs-help-shrinking")){var _26b=_268(),_26c=_26b,_26d=_267.style.minHeight,_26e=4,_26f,_270=_267.scrollTop;_267.style.minHeight=_26a;_267.style.height="auto";while(newH>0){_267.style.minHeight=Math.max(newH-_26e,4)+"px";_26f=_268();var _271=_26c-_26f;newH-=_271;if(_271<_26e){break;}_26c=_26f;_26e<<=1;}_267.style.height=newH+"px";_267.style.minHeight=_26d;_267.scrollTop=_270;}_267.style.overflowY=_268()>_267.clientHeight?"auto":"hidden";if(_267.style.overflowY=="hidden"){_267.scrollTop=0;}}else{this._estimateHeight();}this.busyResizing=false;}});});},"dijit/form/SimpleTextarea":function(){define("dijit/form/SimpleTextarea",["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(_272,_273,has,_274){return _272("dijit.form.SimpleTextarea",_274,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(has("ie")&&this.cols){_273.add(this.textbox,"dijitTextAreaCols");}},filter:function(_275){if(_275){_275=_275.replace(/\r/g,"");}return this.inherited(arguments);},_onInput:function(e){if(this.maxLength){var _276=parseInt(this.maxLength);var _277=this.textbox.value.replace(/\r/g,"");var _278=_277.length-_276;if(_278>0){var _279=this.textbox;if(_279.selectionStart){var pos=_279.selectionStart;var cr=0;if(has("opera")){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_277.substring(0,pos-_278-cr)+_277.substring(pos-cr);_279.setSelectionRange(pos-_278,pos-_278);}else{if(this.ownerDocument.selection){_279.focus();var _27a=this.ownerDocument.selection.createRange();_27a.moveStart("character",-_278);_27a.text="";_27a.select();}}}}this.inherited(arguments);}});});},"dijit/form/TextBox":function(){require({cache:{"url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"}});define("dijit/form/TextBox",["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_27b,_27c,_27d,_27e,lang,has,_27f,_280,_281,_282){var _283=_27b("dijit.form.TextBox",[_27f,_280],{templateString:_281,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<9){this.defer(function(){try{var s=_27d.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _284=this.domNode.getElementsByTagName("INPUT");if(_284){for(var i=0;i<_284.length;i++){_284[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_27c.create("span",{onmousedown:function(e){e.preventDefault();},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_onInput:function(evt){this.inherited(arguments);this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_285,_286,_287){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_27e.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_288){_27e.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_288);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();if(has("mozilla")){if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(has("ie")<9){_283.prototype._isTextSelected=function(){var _289=this.ownerDocument.selection.createRange();var _28a=_289.parentElement();return _28a==this.textbox&&_289.text.length>0;};_282._setSelectionRange=_280._setSelectionRange=function(_28b,_28c,stop){if(_28b.createTextRange){var r=_28b.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_28c);r.moveEnd("character",stop-_28c);r.select();}};}return _283;});},"dijit/form/_FormValueWidget":function(){define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_28d,has,_28e,_28f){return _28d("dijit.form._FormValueWidget",[_28e,_28f],{_layoutHackIE7:function(){if(has("ie")==7){var _290=this.domNode;var _291=_290.parentNode;var _292=_290.firstChild||_290;var _293=_292.style.filter;var _294=this;while(_291&&_291.clientHeight==0){(function ping(){var _295=_294.connect(_291,"onscroll",function(){_294.disconnect(_295);_292.style.filter=(new Date()).getMilliseconds();_294.defer(function(){_292.style.filter=_293;});});})();_291=_291.parentNode;}}}});});},"dijit/form/_FormWidget":function(){define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_296,has,_297,_298,_299,_29a,_29b,_29c){if(has("dijit-legacy-requires")){_298(0,function(){var _29d=["dijit/form/_FormValueWidget"];require(_29d);});}return _296("dijit.form._FormWidget",[_299,_29b,_29a,_29c],{setDisabled:function(_29e){_297.deprecated("setDisabled("+_29e+") is deprecated. Use set('disabled',"+_29e+") instead.","","2.0");this.set("disabled",_29e);},setValue:function(_29f){_297.deprecated("dijit.form._FormWidget:setValue("+_29f+") is deprecated.  Use set('value',"+_29f+") instead.","","2.0");this.set("value",_29f);},getValue:function(){_297.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);},_setTypeAttr:null});});},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/window","./registry"],function(_2a0,_2a1,dom,_2a2,has,lang,on,_2a3,win,_2a4){var _2a5=_2a1("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_2a0.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_2a6){if(!this.disabled){switch(_2a6.type){case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":this._set("active",true);break;case "mouseup":case "touchend":this._set("active",false);break;}}},_setStateClass:function(){var _2a7=this.baseClass.split(" ");function _2a8(_2a9){_2a7=_2a7.concat(_2a0.map(_2a7,function(c){return c+_2a9;}),"dijit"+_2a9);};if(!this.isLeftToRight()){_2a8("Rtl");}var _2aa=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_2a8(_2aa);}if(this.state){_2a8(this.state);}if(this.selected){_2a8("Selected");}if(this._opened){_2a8("Opened");}if(this.disabled){_2a8("Disabled");}else{if(this.readOnly){_2a8("ReadOnly");}else{if(this.active){_2a8("Active");}else{if(this.hovering){_2a8("Hover");}}}}if(this.focused){_2a8("Focused");}var tn=this.stateNode||this.domNode,_2ab={};_2a0.forEach(tn.className.split(" "),function(c){_2ab[c]=true;});if("_stateClasses" in this){_2a0.forEach(this._stateClasses,function(c){delete _2ab[c];});}_2a0.forEach(_2a7,function(c){_2ab[c]=true;});var _2ac=[];for(var c in _2ab){_2ac.push(c);}tn.className=_2ac.join(" ");this._stateClasses=_2a7;},_subnodeCssMouseEvent:function(node,_2ad,evt){if(this.disabled||this.readOnly){return;}function _2ae(_2af){_2a2.toggle(node,_2ad+"Hover",_2af);};function _2b0(_2b1){_2a2.toggle(node,_2ad+"Active",_2b1);};function _2b2(_2b3){_2a2.toggle(node,_2ad+"Focused",_2b3);};switch(evt.type){case "mouseover":_2ae(true);break;case "mouseout":_2ae(false);_2b0(false);break;case "mousedown":case "touchstart":_2b0(true);break;case "mouseup":case "touchend":_2b0(false);break;case "focus":case "focusin":_2b2(true);break;case "blur":case "focusout":_2b2(false);break;}},_trackMouseState:function(node,_2b4){node._cssState=_2b4;}});_2a3(function(){function _2b5(evt){if(!dom.isDescendant(evt.relatedTarget,evt.target)){for(var node=evt.target;node&&node!=evt.relatedTarget;node=node.parentNode){if(node._cssState){var _2b6=_2a4.getEnclosingWidget(node);if(_2b6){if(node==_2b6.domNode){_2b6._cssMouseEvent(evt);}else{_2b6._subnodeCssMouseEvent(node,node._cssState,evt);}}}}}};function _2b7(evt){evt.target=evt.srcElement;_2b5(evt);};var body=win.body(),_2b8=(has("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);_2a0.forEach(_2b8,function(type){if(body.addEventListener){body.addEventListener(type,_2b5,true);}else{body.attachEvent("on"+type,_2b7);}});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _2b9=_2a4.getEnclosingWidget(node);_2b9._subnodeCssMouseEvent(node,node._cssState,evt);}});});return _2a5;});},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/sniff","dojo/window","../a11y"],function(_2ba,_2bb,_2bc,_2bd,lang,_2be,has,_2bf,a11y){return _2bb("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_2c0){this._set("disabled",_2c0);_2bc.set(this.focusNode,"disabled",_2c0);if(this.valueNode){_2bc.set(this.valueNode,"disabled",_2c0);}this.focusNode.setAttribute("aria-disabled",_2c0?"true":"false");if(_2c0){this._set("hovering",false);this._set("active",false);var _2c1="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_2ba.forEach(lang.isArray(_2c1)?_2c1:[_2c1],function(_2c2){var node=this[_2c2];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _2c3=this.connect(this.focusNode,"onfocus",function(){this.disconnect(_2c4);this.disconnect(_2c3);});var _2c4=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(_2c4);this.disconnect(_2c3);if(this.focused){this.focus();}});}if(this.scrollOnFocus){this.defer(function(){_2bf.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_2bd.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_2c5,_2c6){if(this._lastValueReported==undefined&&(_2c6===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_2c5;}this._pendingOnChange=this._pendingOnChange||(typeof _2c5!=typeof this._lastValueReported)||(this.compare(_2c5,this._lastValueReported)!=0);if((this.intermediateChanges||_2c6||_2c6===undefined)&&this._pendingOnChange){this._lastValueReported=_2c5;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_2c5);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(_2c7,_2c8,keys,has,_2c9){return _2c7("dijit.form._FormValueMixin",_2c9,{readOnly:false,_setReadOnlyAttr:function(_2ca){_2c8.set(this.focusNode,"readOnly",_2ca);this._set("readOnly",_2ca);},postCreate:function(){this.inherited(arguments);if(has("ie")){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_2cb,_2cc){this._handleOnChange(_2cb,_2cc);},_handleOnChange:function(_2cd,_2ce){this._set("value",_2cd);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){if(has("ie")<9||(has("ie")&&has("quirks"))){e.preventDefault();var node=e.srcElement,te=node.ownerDocument.createEventObject();te.keyCode=keys.ESCAPE;te.shiftKey=e.shiftKey;node.fireEvent("onkeypress",te);}}}});});},"dijit/form/_TextBoxMixin":function(){define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_2cf,_2d0,dom,_2d1,keys,lang,on,_2d2){var _2d3=_2d0("dijit.form._TextBoxMixin",null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_2d4,_2d5,_2d6){var _2d7;if(_2d4!==undefined){_2d7=this.filter(_2d4);if(typeof _2d6!="string"){if(_2d7!==null&&((typeof _2d7!="number")||!isNaN(_2d7))){_2d6=this.filter(this.format(_2d7,this.constraints));}else{_2d6="";}}}if(_2d6!=null&&((typeof _2d6)!="number"||!isNaN(_2d6))&&this.textbox.value!=_2d6){this.textbox.value=_2d6;this._set("displayedValue",this.get("displayedValue"));}if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_2d6);}this.inherited(arguments,[_2d7,_2d5]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_2d8){if(_2d8==null){_2d8="";}else{if(typeof _2d8!="string"){_2d8=String(_2d8);}}this.textbox.value=_2d8;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_2d8);}},format:function(_2d9){return _2d9==null?"":(_2d9.toString?_2d9.toString():_2d9);},parse:function(_2da){return _2da;},_refreshState:function(){},onInput:function(){},__skipInputEvent:false,_onInput:function(evt){if(this.textDir=="auto"){this.applyTextDir(this.focusNode,this.focusNode.value);}this._processInput(evt);if(this.intermediateChanges){this.defer(function(){this._handleOnChange(this.get("value"),false);});}},_processInput:function(evt){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);var _2db=function(e){var _2dc;if(e.type=="keydown"){_2dc=e.keyCode;switch(_2dc){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_2dc){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_2dc>=65&&_2dc<=90)||(_2dc>=48&&_2dc<=57)||_2dc==keys.SPACE){return;}var _2dd=false;for(var i in keys){if(keys[i]===e.keyCode){_2dd=true;break;}}if(!_2dd){return;}}}_2dc=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_2dc){_2dc=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_2dc){_2dc=229;}if(e.type=="keypress"){if(typeof _2dc!="string"){return;}if((_2dc>="a"&&_2dc<="z")||(_2dc>="A"&&_2dc<="Z")||(_2dc>="0"&&_2dc<="9")||(_2dc===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}if(e.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=false;return;}}else{this.__skipInputEvent=true;}var faux={faux:true},attr;for(attr in e){if(attr!="layerX"&&attr!="layerY"){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_2dc,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}this.defer(function(){this._onInput(faux);});};this.own(on(this.textbox,"keydown, keypress, paste, cut, input, compositionend",lang.hitch(this,_2db)));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;if(!this._isTextSelected()){_2d3.selectInputText(this.textbox);}});this.defer(function(){if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);},_setTextDirAttr:function(_2de){if(!this._created||this.textDir!=_2de){this._set("textDir",_2de);this.applyTextDir(this.focusNode,this.focusNode.value);}}});_2d3._setSelectionRange=_2d2._setSelectionRange=function(_2df,_2e0,stop){if(_2df.setSelectionRange){_2df.setSelectionRange(_2e0,stop);}};_2d3.selectInputText=_2d2.selectInputText=function(_2e1,_2e2,stop){_2e1=dom.byId(_2e1);if(isNaN(_2e2)){_2e2=0;}if(isNaN(stop)){stop=_2e1.value?_2e1.value.length:0;}try{_2e1.focus();_2d3._setSelectionRange(_2e1,_2e2,stop);}catch(e){}};return _2d3;});},"url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","dojo/dnd/AutoSource":function(){define("dojo/dnd/AutoSource",["../_base/declare","./Source"],function(_2e3,_2e4){return _2e3("dojo.dnd.AutoSource",_2e4,{constructor:function(){this.autoSync=true;}});});},"dojo/dnd/Source":function(){define("dojo/dnd/Source",["../_base/array","../_base/connect","../_base/declare","../_base/kernel","../_base/lang","../dom-class","../dom-geometry","../mouse","../ready","../topic","./common","./Selector","./Manager"],function(_2e5,_2e6,_2e7,_2e8,lang,_2e9,_2ea,_2eb,_2ec,_2ed,dnd,_2ee,_2ef){if(!_2e8.isAsync){_2ec(0,function(){var _2f0=["dojo/dnd/AutoSource","dojo/dnd/Target"];require(_2f0);});}var _2f1=_2e7("dojo.dnd.Source",_2ee,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_2f2){lang.mixin(this,lang.mixin({},_2f2));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){_2e9.add(this.node,"dojoDndSource");}this.targetState="";if(this.accept){_2e9.add(this.node,"dojoDndTarget");}if(this.horizontal){_2e9.add(this.node,"dojoDndHorizontal");}this.topics=[_2ed.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),_2ed.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),_2ed.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),_2ed.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];},checkAcceptance:function(_2f3,_2f4){if(this==_2f3){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_2f4.length;++i){var type=_2f3.getItem(_2f4[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_2f5,self){if(_2f5){return true;}if(arguments.length<2){self=this==_2ef.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){_2f1.superclass.destroy.call(this);_2e5.forEach(this.topics,function(t){t.remove();});this.targetAnchor=null;},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}_2f1.superclass.onMouseMove.call(this,e);var m=_2ef.manager();if(!this.isDragging){if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _2f6=this.getSelectedNodes();if(_2f6.length){m.startDrag(this,_2f6,this.copyState(dnd.getCopyKeyState(e),true));}}}if(this.isDragging){var _2f7=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox=_2ea.position(this.current,true);}if(this.horizontal){_2f7=(e.pageX-this.targetBox.x<this.targetBox.w/2)==_2ea.isBodyLtr(this.current.ownerDocument);}else{_2f7=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_2f7!=this.before){this._markTargetAnchor(_2f7);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;_2f1.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;_2f1.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_2f8){if(this!==_2f8){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=_2ef.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_2f9,_2fa,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_2f9?(copy?"Copied":"Moved"):"");}var _2fb=this.accept&&this.checkAcceptance(_2f9,_2fa);this._changeState("Target",_2fb?"":"Disabled");if(this==_2f9){_2ef.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_2fc,_2fd,copy,_2fe){if(this==_2fe){this.onDrop(_2fc,_2fd,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_2ff,_300,copy){if(this!=_2ff){this.onDropExternal(_2ff,_300,copy);}else{this.onDropInternal(_300,copy);}},onDropExternal:function(_301,_302,copy){var _303=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _303.call(this,_301.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node){var t=_301.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node){var t=_301.getItem(node.id);_301.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_301.selectNone();}this.insertNodes(true,_302,this.before,this.current);if(!copy&&this.creator){_301.deleteSelectedNodes();}this._normalizedCreator=_303;},onDropInternal:function(_304,copy){var _305=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _305.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_304,this.before,this.current);this._normalizedCreator=_305;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){_2f1.superclass.onOverEvent.call(this);_2ef.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){_2f1.superclass.onOutEvent.call(this);_2ef.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_306){if(this.current==this.targetAnchor&&this.before==_306){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_306;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(e.type!="touchstart"&&!_2eb.isLeft(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(_2e9.contains(node,"dojoDndHandle")){return true;}if(_2e9.contains(node,"dojoDndItem")||_2e9.contains(node,"dojoDndIgnore")){break;}}return false;}});return _2f1;});},"dojo/dnd/common":function(){define("dojo/dnd/common",["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(_307,_308,lang,dom){var _309=lang.getObject("dojo.dnd",true);_309.getCopyKeyState=_307.isCopyKey;_309._uniqueId=0;_309.getUniqueId=function(){var id;do{id=_308._scopeName+"Unique"+(++_309._uniqueId);}while(dom.byId(id));return id;};_309._empty={};_309.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};return _309;});},"dojo/dnd/Selector":function(){define("dojo/dnd/Selector",["../_base/array","../_base/declare","../_base/event","../_base/kernel","../_base/lang","../dom","../dom-construct","../mouse","../_base/NodeList","../on","../touch","./common","./Container"],function(_30a,_30b,_30c,_30d,lang,dom,_30e,_30f,_310,on,_311,dnd,_312){var _313=_30b("dojo.dnd.Selector",_312,{constructor:function(node,_314){if(!_314){_314={};}this.singular=_314.singular;this.autoSync=_314.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(on(this.node,_311.press,lang.hitch(this,"onMouseDown")),on(this.node,_311.release,lang.hitch(this,"onMouseUp")));},singular:false,getSelectedNodes:function(){var t=new _310();var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dom.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dom.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dom.byId(i);this.delItem(i);_30e.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||_30d.global;var s=this.selection,e=dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){_313.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}_30a.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_315,data,_316,_317){var _318=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_318.call(this,item,hint);if(_315){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};_313.superclass.insertNodes.call(this,data,_316,_317);this._normalizedCreator=_318;return this;},destroy:function(){_313.superclass.destroy.call(this);this.selection=this.anchor=null;},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(_30f.isLeft(e)){_30c.stop(e);}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}_30c.stop(e);},onMouseUp:function(){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=on(this.node,_311.move,lang.hitch(this,"onMouseMove"));},onOutEvent:function(){if(this.onmousemoveEvent){this.onmousemoveEvent.remove();delete this.onmousemoveEvent;}},_removeSelection:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dom.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});return _313;});},"dojo/dnd/Container":function(){define("dojo/dnd/Container",["../_base/array","../_base/declare","../_base/event","../_base/kernel","../_base/lang","../_base/window","../dom","../dom-class","../dom-construct","../Evented","../has","../on","../query","../ready","../touch","./common"],function(_319,_31a,_31b,_31c,lang,win,dom,_31d,_31e,_31f,has,on,_320,_321,_322,dnd){var _323=_31a("dojo.dnd.Container",_31f,{skipForm:false,allowNested:false,constructor:function(node,_324){this.node=dom.byId(node);if(!_324){_324={};}this.creator=_324.creator||null;this.skipForm=_324.skipForm;this.parent=_324.dropParent&&dom.byId(_324.dropParent);this.map={};this.current=null;this.containerState="";_31d.add(this.node,"dojoDndContainer");if(!(_324&&_324._skipStartup)){this.startup();}this.events=[on(this.node,_322.over,lang.hitch(this,"onMouseOver")),on(this.node,_322.out,lang.hitch(this,"onMouseOut")),on(this.node,"dragstart",lang.hitch(this,"onSelectStart")),on(this.node,"selectstart",lang.hitch(this,"onSelectStart"))];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||_31c.global;var m=this.map,e=dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return _320((this.allowNested?"":"> ")+".dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_325,_326){if(!this.parent.firstChild){_326=null;}else{if(_325){if(!_326){_326=this.parent.firstChild;}}else{if(_326){_326=_326.nextSibling;}}}var i,t;if(_326){for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});_326.parentNode.insertBefore(t.node,_326);}}else{for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){_319.forEach(this.events,function(_327){_327.remove();});this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_328,node,Ctor){_328._skipStartup=true;return new Ctor(node,_328);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dnd.isFormElement(e)){_31b.stop(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_329){var _32a="dojoDnd"+type;var _32b=type.toLowerCase()+"State";_31d.replace(this.node,_32a+_329,_32a+this[_32b]);this[_32b]=_329;},_addItemClass:function(node,type){_31d.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_31d.remove(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _32c=node.parentNode;_32c;node=_32c,_32c=node.parentNode){if((_32c==this.parent||this.allowNested)&&_31d.contains(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!lang.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dnd.getUniqueId();}_31d.add(t.node,"dojoDndItem");return t;}});dnd._createNode=function(tag){if(!tag){return dnd._createSpan;}return function(text){return _31e.create(tag,{innerHTML:text});};};dnd._createTrTd=function(text){var tr=_31e.create("tr");_31e.create("td",{innerHTML:text},tr);return tr;};dnd._createSpan=function(text){return _31e.create("span",{innerHTML:text});};dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dnd._createTrTd:dnd._createNode(dnd._defaultCreatorNodes[tag]);return function(item,hint){var _32d=item&&lang.isObject(item),data,type,n;if(_32d&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_32d&&item.data)?item.data:item;type=(_32d&&item.type)?item.type:["text"];n=(hint=="avatar"?dnd._createSpan:c)(String(data));}if(!n.id){n.id=dnd.getUniqueId();}return {node:n,data:data,type:type};};};return _323;});},"dojo/dnd/Manager":function(){define("dojo/dnd/Manager",["../_base/array","../_base/declare","../_base/event","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(_32e,_32f,_330,lang,win,_331,_332,has,keys,on,_333,_334,dnd,_335,_336){var _337=_32f("dojo.dnd.Manager",[_332],{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:has("touch")?0:16,OFFSET_Y:has("touch")?-64:16,overSource:function(_338){if(this.avatar){this.target=(_338&&_338.targetState!="Disabled")?_338:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}_333.publish("/dnd/source/over",_338);},outSource:function(_339){if(this.avatar){if(this.target==_339){this.target=null;this.canDropFlag=false;this.avatar.update();_333.publish("/dnd/source/over",null);}}else{_333.publish("/dnd/source/over",null);}},startDrag:function(_33a,_33b,copy){_335.autoScrollStart(win.doc);this.source=_33a;this.nodes=_33b;this.copy=Boolean(copy);this.avatar=this.makeAvatar();win.body().appendChild(this.avatar.node);_333.publish("/dnd/start",_33a,_33b,this.copy);this.events=[on(win.doc,_334.move,lang.hitch(this,"onMouseMove")),on(win.doc,_334.release,lang.hitch(this,"onMouseUp")),on(win.doc,"keydown",lang.hitch(this,"onKeyDown")),on(win.doc,"keyup",lang.hitch(this,"onKeyUp")),on(win.doc,"dragstart",_330.stop),on(win.body(),"selectstart",_330.stop)];var c="dojoDnd"+(copy?"Copy":"Move");_331.add(win.body(),c);},canDrop:function(flag){var _33c=Boolean(this.target&&flag);if(this.canDropFlag!=_33c){this.canDropFlag=_33c;this.avatar.update();}},stopDrag:function(){_331.remove(win.body(),["dojoDndCopy","dojoDndMove"]);_32e.forEach(this.events,function(_33d){_33d.remove();});this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new _336(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){_335.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}if(has("touch")){e.preventDefault();}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));_333.publish("/dnd/drop/before",this.source,this.nodes,copy,this.target,e);_333.publish("/dnd/drop",this.source,this.nodes,copy,this.target,e);}else{_333.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case keys.ESCAPE:_333.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();_331.replace(win.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));}});dnd._manager=null;_337.manager=dnd.manager=function(){if(!dnd._manager){dnd._manager=new _337();}return dnd._manager;};return _337;});},"dojo/dnd/autoscroll":function(){define("dojo/dnd/autoscroll",["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_33e,_33f,_340){var _341={};lang.setObject("dojo.dnd.autoscroll",_341);_341.getViewport=_340.getBox;_341.V_TRIGGER_AUTOSCROLL=32;_341.H_TRIGGER_AUTOSCROLL=32;_341.V_AUTOSCROLL_VALUE=16;_341.H_AUTOSCROLL_VALUE=16;var _342,doc=win.doc,_343=Infinity,_344=Infinity;_341.autoScrollStart=function(d){doc=d;_342=_340.getBox(doc);var html=win.body(doc).parentNode;_343=Math.max(html.scrollHeight-_342.h,0);_344=Math.max(html.scrollWidth-_342.w,0);};_341.autoScroll=function(e){var v=_342||_340.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;if(e.clientX<_341.H_TRIGGER_AUTOSCROLL){dx=-_341.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-_341.H_TRIGGER_AUTOSCROLL){dx=Math.min(_341.H_AUTOSCROLL_VALUE,_344-html.scrollLeft);}}if(e.clientY<_341.V_TRIGGER_AUTOSCROLL){dy=-_341.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-_341.V_TRIGGER_AUTOSCROLL){dy=Math.min(_341.V_AUTOSCROLL_VALUE,_343-html.scrollTop);}}window.scrollBy(dx,dy);};_341._validNodes={"div":1,"p":1,"td":1};_341._validOverflow={"auto":1,"scroll":1};_341.autoScrollNodes=function(e){var b,t,w,h,rx,ry,dx=0,dy=0,_345,_346;for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in _341._validNodes)){var s=_33f.getComputedStyle(n),_347=(s.overflow.toLowerCase() in _341._validOverflow),_348=(s.overflowX.toLowerCase() in _341._validOverflow),_349=(s.overflowY.toLowerCase() in _341._validOverflow);if(_347||_348||_349){b=_33e.getContentBox(n,s);t=_33e.position(n,true);}if(_347||_348){w=Math.min(_341.H_TRIGGER_AUTOSCROLL,b.w/2);rx=e.pageX-t.x;if(has("webkit")||has("opera")){rx+=win.body().scrollLeft;}dx=0;if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}_345=n.scrollLeft;n.scrollLeft=n.scrollLeft+dx;}}if(_347||_349){h=Math.min(_341.V_TRIGGER_AUTOSCROLL,b.h/2);ry=e.pageY-t.y;if(has("webkit")||has("opera")){ry+=win.body().scrollTop;}dy=0;if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}_346=n.scrollTop;n.scrollTop=n.scrollTop+dy;}}if(dx||dy){return;}}try{n=n.parentNode;}catch(x){n=null;}}_341.autoScroll(e);};return _341;});},"dojo/dnd/Avatar":function(){define("dojo/dnd/Avatar",["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(_34a,win,dom,_34b,_34c,_34d,has,_34e){return _34a("dojo.dnd.Avatar",null,{constructor:function(_34f){this.manager=_34f;this.construct();},construct:function(){var a=_34d.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_350=this.manager.source,node,b=_34d.create("tbody",null,a),tr=_34d.create("tr",null,b),td=_34d.create("td",null,tr),k=Math.min(5,this.manager.nodes.length),i=0;if(has("highcontrast")){_34d.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td);}_34d.create("span",{innerHTML:_350.generateText?this._generateText():""},td);_34b.set(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_350.creator){node=_350._normalizedCreator(_350.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _351=_34d.create("table"),_352=_34d.create("tbody",null,_351);_352.appendChild(node);node=_351;}}node.id="";tr=_34d.create("tr",null,b);td=_34d.create("td",null,tr);td.appendChild(node);_34b.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){_34d.destroy(this.node);this.node=false;},update:function(){_34c.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(has("highcontrast")){var icon=dom.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}_34e(("tr.dojoDndAvatarHeader td span"+(has("highcontrast")?" span":"")),this.node).forEach(function(node){node.innerHTML=this.manager.source.generateText?this._generateText():"";},this);},_generateText:function(){return this.manager.nodes.length.toString();}});});},"dojo/dnd/Target":function(){define("dojo/dnd/Target",["../_base/declare","../dom-class","./Source"],function(_353,_354,_355){return _353("dojo.dnd.Target",_355,{constructor:function(){this.isSource=false;_354.remove(this.node,"dojoDndSource");}});});},"dojo/fx/Toggler":function(){define("dojo/fx/Toggler",["../_base/lang","../_base/declare","../_base/fx","../_base/connect"],function(lang,_356,_357,_358){return _356("dojo.fx.Toggler",null,{node:null,showFunc:_357.fadeIn,hideFunc:_357.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _359=this;lang.mixin(_359,args);_359.node=args.node;_359._showArgs=lang.mixin({},args);_359._showArgs.node=_359.node;_359._showArgs.duration=_359.showDuration;_359.showAnim=_359.showFunc(_359._showArgs);_359._hideArgs=lang.mixin({},args);_359._hideArgs.node=_359.node;_359._hideArgs.duration=_359.hideDuration;_359.hideAnim=_359.hideFunc(_359._hideArgs);_358.connect(_359.showAnim,"beforeBegin",lang.hitch(_359.hideAnim,"stop",true));_358.connect(_359.hideAnim,"beforeBegin",lang.hitch(_359.showAnim,"stop",true));},show:function(_35a){return this.showAnim.play(_35a||0);},hide:function(_35b){return this.hideAnim.play(_35b||0);}});});},"dojox/form/Uploader":function(){require({cache:{"url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><!--no need to have this for Uploader \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/--></span>\n"}});define("dojox/form/Uploader",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/window","dojo/dom-style","dojo/dom-geometry","dojo/dom-attr","dojo/dom-construct","dojo/dom-form","dijit","dijit/form/Button","dojox/form/uploader/Base","dojo/i18n!./nls/Uploader","dojo/text!./resources/Uploader.html"],function(_35c,_35d,lang,_35e,_35f,win,_360,_361,_362,_363,_364,_365,_366,_367,res,_368){_35c.experimental("dojox.form.Uploader");_35d("dojox.form.Uploader",[_367,_366],{uploadOnSelect:false,tabIndex:0,multiple:false,label:res.label,url:"",name:"uploadedfile",flashFieldName:"",uploadType:"form",showInput:"",_nameIndex:0,templateString:_368,baseClass:"dijitUploader "+_366.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);_360.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();_362.set(this.titleNode,"tabIndex",-1);},_buildDisplay:function(){if(this.showInput){this.displayInput=dojo.create("input",{"class":"dijitUploadDisplayInput","tabIndex":-1,"autocomplete":"off"},this.containerNode,this.showInput);this._attachPoints.push("displayInput");this.connect(this,"onChange",function(_369){var i=0,l=_369.length,f,r=[];while((f=_369[i++])){if(f&&f.name){r.push(f.name);}}this.displayInput.value=r.join(", ");});this.connect(this,"reset",function(){this.displayInput.value="";});}},startup:function(){if(this._buildInitialized){return;}this._buildInitialized=true;this._getButtonStyle(this.domNode);this._setButtonStyle();this.inherited(arguments);},onChange:function(_36a){},onBegin:function(_36b){},onProgress:function(_36c){},onComplete:function(_36d){this.reset();},onCancel:function(){},onAbort:function(){},onError:function(_36e){},upload:function(_36f){},submit:function(form){form=!!form?form.tagName?form:this.getForm():this.getForm();var data=_364.toObject(form);this.upload(data);},reset:function(){delete this._files;this._disconnectButton();_35e.forEach(this._inputs,_363.destroy,dojo);this._inputs=[];this._nameIndex=0;this._createInput();},getFileList:function(){var _370=[];if(this.supports("multiple")){_35e.forEach(this._files,function(f,i){_370.push({index:i,name:f.name,size:f.size,type:f.type});},this);}else{_35e.forEach(this._inputs,function(n,i){if(n.value){_370.push({index:i,name:n.value.substring(n.value.lastIndexOf("\\")+1),size:0,type:n.value.substring(n.value.lastIndexOf(".")+1)});}},this);}return _370;},_getValueAttr:function(){return this.getFileList();},_setValueAttr:function(_371){console.error("Uploader value is read only");},_setDisabledAttr:function(_372){if(this.disabled==_372||!this.inputNode){return;}this.inherited(arguments);_360.set(this.inputNode,"display",_372?"none":"");},_getButtonStyle:function(node){this.btnSize={w:_360.get(node,"width"),h:_360.get(node,"height")};},_setButtonStyle:function(){this.inputNodeFontSize=Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput();},_getFileFieldName:function(){var name;if(this.multiple&&this.supports("multiple")){name=this.name+"s[]";}else{name=this.name+(this.multiple?this._nameIndex:"");}return name;},_createInput:function(){if(this._inputs.length){_360.set(this.inputNode,{top:"500px"});this._disconnectButton();this._nameIndex++;}var name=this._getFileFieldName();this.focusNode=this.inputNode=_363.create("input",{type:"file",name:name},this.domNode,"first");if(this.supports("multiple")&&this.multiple){_362.set(this.inputNode,"multiple",true);}this._inputs.push(this.inputNode);_360.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton();},_connectButton:function(){this._cons.push(_35f.connect(this.inputNode,"change",this,function(evt){this._files=this.inputNode.files;this.onChange(this.getFileList(evt));if(!this.supports("multiple")&&this.multiple){this._createInput();}}));if(this.tabIndex>-1){this.inputNode.tabIndex=this.tabIndex;this._cons.push(_35f.connect(this.inputNode,"focus",this,function(){this.titleNode.style.outline="1px dashed #ccc";}));this._cons.push(_35f.connect(this.inputNode,"blur",this,function(){this.titleNode.style.outline="";}));}},_disconnectButton:function(){_35e.forEach(this._cons,_35f.disconnect);this._cons.splice(0,this._cons.length);}});dojox.form.UploaderOrg=dojox.form.Uploader;var _373=[dojox.form.UploaderOrg];dojox.form.addUploaderPlugin=function(plug){_373.push(plug);_35d("dojox.form.Uploader",_373,{});};return dojox.form.Uploader;});},"dijit/form/Button":function(){require({cache:{"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n"}});define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_374,_375,_376,has,_377,lang,_378,_379,_37a,_37b){if(has("dijit-legacy-requires")){_378(0,function(){var _37c=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_374(_37c);});}return _375("dijit.form.Button",[_379,_37a],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_37b,_setValueAttr:"valueNode",_onClick:function(e){var ok=this.inherited(arguments);if(ok){if(this.valueNode){this.valueNode.click();e.preventDefault();e.stopPropagation();}}return ok;},_fillContent:function(_37d){if(_37d&&(!this.params||!("label" in this.params))){var _37e=lang.trim(_37d.innerHTML);if(_37e){this.label=_37e;}}},_setShowLabelAttr:function(val){if(this.containerNode){_376.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_37f){_377.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_37f);},_setLabelAttr:function(_380){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});});},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(_381,dom,_382,_383){return _381("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(e){if(this.disabled){_382.stop(e);return false;}var _384=this.onClick(e)===false;if(!_384&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _385=_383.byNode(node);if(_385&&typeof _385._onSubmit=="function"){_385._onSubmit(e);_384=true;break;}}}if(_384){e.preventDefault();}return !_384;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_386){this._set("label",_386);(this.containerNode||this.focusNode).innerHTML=_386;}});});},"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","dojox/form/uploader/Base":function(){define("dojox/form/uploader/Base",["dojo/dom-form","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/has","dojo/_base/declare","dojo/_base/event","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin"],function(_387,_388,_389,_38a,has,_38b,_38c,_38d,_38e,_38f){has.add("FormData",function(){return !!window.FormData;});has.add("xhr-sendAsBinary",function(){var xhr=window.XMLHttpRequest&&new window.XMLHttpRequest();return xhr&&!!xhr.sendAsBinary;});has.add("file-multiple",function(){return !!({"true":1,"false":1}[_38a.get(document.createElement("input",{type:"file"}),"multiple")]);});return _38b("dojox.form.uploader.Base",[_38d,_38e,_38f],{getForm:function(){if(!this.form){var n=this.domNode;while(n&&n.tagName&&n!==document.body){if(n.tagName.toLowerCase()=="form"){this.form=n;break;}n=n.parentNode;}}return this.form;},getUrl:function(){if(this.uploadUrl){this.url=this.uploadUrl;}if(this.url){return this.url;}if(this.getForm()){this.url=this.form.action;}return this.url;},connectForm:function(){this.url=this.getUrl();if(!this._fcon&&!!this.getForm()){this._fcon=true;this.connect(this.form,"onsubmit",function(evt){_38c.stop(evt);this.submit(this.form);});}},supports:function(what){switch(what){case "multiple":if(this.force=="flash"||this.force=="iframe"){return false;}return has("file-multiple");case "FormData":return has(what);case "sendAsBinary":return has("xhr-sendAsBinary");}return false;},getMimeType:function(){return "application/octet-stream";},getFileType:function(name){return name.substring(name.lastIndexOf(".")+1).toUpperCase();},convertBytes:function(_390){var kb=Math.round(_390/1024*100000)/100000;var mb=Math.round(_390/1048576*100000)/100000;var gb=Math.round(_390/1073741824*100000)/100000;var _391=_390;if(kb>1){_391=kb.toFixed(1)+" kb";}if(mb>1){_391=mb.toFixed(1)+" mb";}if(gb>1){_391=gb.toFixed(1)+" gb";}return {kb:kb,mb:mb,gb:gb,bytes:_390,value:_391};}});});},"dijit/_WidgetsInTemplateMixin":function(){define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/_base/declare","dojo/parser"],function(_392,_393,_394){return _393("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;var cw=(this._startupWidgets=_394.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"}));if(!cw.isFulfilled()){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}this._attachTemplateNodes(cw,function(n,p){return n[p];});}},startup:function(){_392.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);}});});},"url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><!--no need to have this for Uploader \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/--></span>\n","dojox/form/uploader/plugins/HTML5":function(){define("dojox/form/uploader/plugins/HTML5",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo"],function(_395,lang,_396,dojo){var _397=_395("dojox.form.uploader.plugins.HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postCreate:function(){this.connectForm();this.inherited(arguments);if(this.uploadOnSelect){this.connect(this,"onChange",function(data){this.upload(data[0]);});}},_drop:function(e){dojo.stopEvent(e);var dt=e.dataTransfer;this._files=dt.files;this.onChange(this.getFileList());},upload:function(_398){this.onBegin(this.getFileList());if(this.supports("FormData")){this.uploadWithFormData(_398);}else{if(this.supports("sendAsBinary")){this.sendAsBinary(_398);}}},addDropTarget:function(node,_399){if(!_399){this.connect(node,"dragenter",dojo.stopEvent);this.connect(node,"dragover",dojo.stopEvent);this.connect(node,"dragleave",dojo.stopEvent);}this.connect(node,"drop","_drop");},sendAsBinary:function(data){if(!this.getUrl()){console.error("No upload url found.",this);return;}var _39a="---------------------------"+(new Date).getTime();var xhr=this.createXhr();xhr.setRequestHeader("Content-Type","multipart/form-data; boundary="+_39a);var msg=this._buildRequestBody(data,_39a);if(!msg){this.onError(this.errMsg);}else{xhr.sendAsBinary(msg);}},uploadWithFormData:function(data){if(!this.getUrl()){console.error("No upload url found.",this);return;}var fd=new FormData(),_39b=this._getFileFieldName();_396.forEach(this._files,function(f,i){fd.append(_39b,f);},this);if(data){for(var nm in data){fd.append(nm,data[nm]);}}var xhr=this.createXhr();xhr.send(fd);},_xhrProgress:function(evt){if(evt.lengthComputable){var o={bytesLoaded:evt.loaded,bytesTotal:evt.total,type:evt.type,timeStamp:evt.timeStamp};if(evt.type=="load"){o.percent="100%";o.decimal=1;}else{o.decimal=evt.loaded/evt.total;o.percent=Math.ceil((evt.loaded/evt.total)*100)+"%";}this.onProgress(o);}},createXhr:function(){var xhr=new XMLHttpRequest();var _39c;xhr.upload.addEventListener("progress",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("load",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("error",lang.hitch(this,function(evt){this.onError(evt);clearInterval(_39c);}),false);xhr.addEventListener("abort",lang.hitch(this,function(evt){this.onAbort(evt);clearInterval(_39c);}),false);xhr.onreadystatechange=lang.hitch(this,function(){if(xhr.readyState===4){clearInterval(_39c);try{this.onComplete(JSON.parse(xhr.responseText.replace(/^\{\}&&/,"")));}catch(e){var msg="Error parsing server result:";console.error(msg,e);console.error(xhr.responseText);this.onError(msg,e);}}});xhr.open("POST",this.getUrl());_39c=setInterval(lang.hitch(this,function(){try{if(typeof (xhr.statusText)){}}catch(e){clearInterval(_39c);}}),250);return xhr;},_buildRequestBody:function(data,_39d){var EOL="\r\n";var part="";_39d="--"+_39d;var _39e=[],_39f=this._files,_3a0=this._getFileFieldName();_396.forEach(_39f,function(f,i){var _3a1=f.fileName;var _3a2;try{_3a2=f.getAsBinary()+EOL;part+=_39d+EOL;part+="Content-Disposition: form-data; ";part+="name=\""+_3a0+"\"; ";part+="filename=\""+_3a1+"\""+EOL;part+="Content-Type: "+this.getMimeType()+EOL+EOL;part+=_3a2;}catch(e){_39e.push({index:i,name:_3a1});}},this);if(_39e.length){if(_39e.length>=_39f.length){this.onError({message:this.errMsg,filesInError:_39e});part=false;}}if(!part){return false;}if(data){for(var nm in data){part+=_39d+EOL;part+="Content-Disposition: form-data; ";part+="name=\""+nm+"\""+EOL+EOL;part+=data[nm]+EOL;}}part+=_39d+"--"+EOL;return part;}});dojox.form.addUploaderPlugin(_397);return _397;});},"epi/shell/component/IFrameContextComponent":function(){define(["dojo","dijit","epi/shell/widget/Iframe","epi/shell/_ContextMixin"],function(dojo,_3a3,_3a4,_3a5){return dojo.declare([_3a4,_3a5],{reloadOnContextChange:true,keepUrlOnContextChange:false,postCreate:function(){dojo.when(this.getCurrentContext(),dojo.hitch(this,function(_3a6){this.contextChanged(_3a6);}));if(!this.reloadOnContextChange){this.load(this.get("urlTemplate"));}},_constructQuery:function(_3a7){return {uri:_3a7.uri,id:_3a7.id||""};},contextChanged:function(_3a8,_3a9){this.inherited(arguments);if(this.reloadOnContextChange){if(this.keepUrlOnContextChange){var url=this.get("url");if(url==="about:blank"){url=this.get("urlTemplate");}this.load(url,{query:this._constructQuery(_3a8)},true);}else{this.load(this.get("urlTemplate"),{query:this._constructQuery(_3a8)},true);}}}});});},"epi/shell/widget/Iframe":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/dom-style","dojo/Deferred","dojo/io-query","dojo/on","dojo/sniff","dijit/_TemplatedMixin","dijit/_Widget","dijit/focus","epi","epi/Url","epi/shell/postMessage","epi/routes"],function(_3aa,lang,dom,_3ab,_3ac,_3ad,on,_3ae,_3af,_3b0,_3b1,epi,Url,_3b2,_3b3){return _3aa([_3b0,_3af],{url:"about:blank",_triggeredExternally:false,templateString:"<iframe data-dojo-attach-point=\"iframe\" class=\"dijitReset\" src=\"${url}\" role=\"presentation\" frameborder=\"0\" style=\"width:100%;\"></iframe>",autoFit:false,visible:true,isLoading:false,_isInspectable:null,_loadDeferred:null,onLoading:function(url){this._set("isLoading",true);},onUnload:function(url){this._set("isLoading",true);},onLoad:function(url,_3b4){this._set("isLoading",false);},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);this.own(on(this.iframe,"load",lang.hitch(this,this._onIframeLoad)),_3b2.subscribe("/site/load",lang.hitch(this,function(_3b5){if(!this.isInspectable(true)){this._set("url",_3b5.url);this.onLoad(this.url,this._triggeredExternally);}})));},resize:function(size){if(this.autoFit){return;}if(size){_3ab.set(this.iframe,{width:size.w+"px",height:size.h+"px"});}},getDocument:function(){if(!this.isInspectable()){return null;}try{return this.iframe.contentWindow?this.iframe.contentWindow.document:null;}catch(ex){return null;}},getWindow:function(){return this.iframe.contentWindow;},_setVisibleAttr:function(_3b6){_3ab.set(this.domNode,"display",_3b6?"block":"none");},_onIframeLoad:function(_3b7){var url=null,_3b8,_3b9;function _3ba(e){_3b9.remove();this.set("_isInspectable",false);if(this._focusHandle){this._focusHandle.remove();this._focusHandle=null;}if(this._mousedownHandle){this._mousedownHandle.remove();this._mousedownHandle=null;}this.onUnload(this.url);};if(this.isInspectable(true)){url=this.getLocation().href;this._focusHandle=_3b1.registerIframe(this.iframe);this._mousedownHandle=this.connect(this.getDocument(),"onmousedown",function(){on.emit(this.domNode,"mousedown",{bubbles:true,cancelable:true});});_3b8=this.getWindow();_3b9=on(_3b8,"unload",lang.hitch(this,_3ba));}this._set("url",url);if(url!=="about:blank"){if(this._loadDeferred){this._loadDeferred.resolve();}this.onLoad(this.url,this._triggeredExternally);}this._loadDeferred=null;this._triggeredExternally=false;if(this.autoFit){this._adjustSize(this._calculateActualSize());}},isInspectable:function(_3bb){if(!_3bb&&this._isInspectable!==null){return this._isInspectable;}try{return this._isInspectable=!!this.getLocation().href;}catch(ex){}return this._isInspectable=false;},load:function(url,_3bc,_3bd,_3be){if(this._loadDeferred){this._loadDeferred.cancel();}var _3bf=new _3ac();if(!url){_3bf.cancel();return _3bf.promise;}var _3c0=new Url(this.url),_3c1=new Url(url,_3bc,_3bd),_3c2=window.location.protocol.replace(":",""),_3c3=(_3c1.scheme==="http"&&_3c2==="https");if(_3c3){_3c1=_3b3.getActionPath({moduleArea:"Shell",controller:"PreviewUnavailable"});}if(!_3be&&_3c1.path===_3c0.path&&epi.areEqual(_3c1.query,_3c0.query)){_3bf.resolve();}else{this._loadDeferred=_3bf;this.set("url",_3c1.toString());}return _3bf.promise;},reload:function(){return this.load(this.get("url"),null,null,true);},getCurrentQuery:function(){return _3ad.queryToObject(this.getWindow().location.search.substring(1));},getLocation:function(){return this.getWindow().location;},_getUrlAttr:function(){return this.url;},_setUrlAttr:function(url){this._triggeredExternally=true;this.onLoading(url);if(this.iframe.contentWindow){this.iframe.contentWindow.location.replace(url);}else{this.iframe.src=url;}this._set("url",url);},_calculateActualSize:function(){var doc=this.getDocument();function _3c4(dir){if(doc&&doc.body&&doc.documentElement){return Math.max(doc.documentElement["client"+dir],doc.documentElement["scroll"+dir],doc.documentElement["offset"+dir],doc.body["scroll"+dir],doc.body["offset"+dir]);}return 0;};return {h:_3c4("Height"),w:_3c4("Width")};},_adjustSize:function(size){_3ab.set(this.iframe,"height",size.h+"px");_3ab.set(this.getWindow().document.body,"height","auto");}});});},"epi/Url":function(){define("epi/Url",["dojo/_base/declare","dojo/_base/lang","dojo/io-query"],function(_3c5,lang,_3c6){var _3c7,_3c8={strict:1,loose:2},ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$");_3c7=_3c5(null,{scheme:null,authority:null,path:null,query:null,fragment:null,queryParseMode:_3c8.loose,_undecodeable:null,constructor:function(url,_3c9,_3ca,_3cb){var _3cc;this._undecodeable=[];this.queryParseMode=_3cb||this.queryParseMode;_3cc=this._extractParameters(url);if(_3ca&&_3c9&&_3c9.query){_3c9.query=lang.mixin(_3cc.query,_3c9.query);}_3c5.safeMixin(this,lang.mixin(_3cc,_3c9));},_extractParameters:function(url){var r,_3cd,_3ce;if(!url){return {};}r=url.match(ore);_3cd=r[7]||(r[6]?"":null);_3ce=this._withQueryParseMode(function(){return _3cd?_3c6.queryToObject(_3cd):{};});return {scheme:r[2]||(r[1]?"":null),authority:r[4]||(r[3]?"":null),path:r[5],query:_3ce,fragment:r[9]||(r[8]?"":null)};},getQueryParameterValue:function(_3cf){return this.query?this.query[_3cf]:undefined;},toString:function(){var url=[],_3d0=this.query,_3d1;if(this.scheme){url.push(this.scheme);if(this.scheme.lastIndexOf(":")!==this.scheme.length-1){url.push(":");}}if(this.authority){url.push("//",this.authority);}url.push(this.path);if(_3d0){_3d1=this._withQueryParseMode(function(){return _3c6.objectToQuery(_3d0);});if(_3d1!==""){url.push("?",_3d1);}}if(this.fragment){url.push("#",this.fragment);}return url.join("");},_withQueryParseMode:function(func){var _3d2,_3d3=this._undecodeable,_3d4=this.queryParseMode===_3c7.parseMode.loose,_3d5=encodeURIComponent,_3d6=decodeURIComponent;function _3d7(_3d8){if(_3d3.indexOf(_3d8)!==-1){return _3d8;}else{return _3d5(_3d8);}};function _3d9(_3da){var _3db=_3da;try{_3da=_3d6(_3da);}catch(ex){_3d3.push(_3da);}return _3da;};if(_3d4){window["encodeURIComponent"]=_3d7;window["decodeURIComponent"]=_3d9;try{_3d2=func();}finally{window["encodeURIComponent"]=_3d5;window["decodeURIComponent"]=_3d6;}}else{_3d2=func();}return _3d2;}});_3c7.parseMode=_3c8;return _3c7;});},"epi/shell/postMessage":function(){define("epi/shell/postMessage",["dojo/Evented","dojo/on"],function(_3dc,on){var hub=new _3dc(),_3dd,_3de;function _3df(){return _3de||window.top;};function _3e0(){_3dd&&_3dd.remove();_3dd=on(_3df(),"message",function(evt){var data=evt.data;data&&data.id&&hub.emit.apply(hub,[data.id,data.message]);},false);};var _3e1={setContext:function(ctx){_3de=ctx;_3e0();},publish:function(_3e2,_3e3,_3e4){var i=0;if(_3e4){_3e4=_3e4 instanceof Array?_3e4:[_3e4];}else{_3e4=_3df().frames;}for(;i<_3e4.length;i++){_3e4[i].postMessage({id:_3e2,data:_3e3},"*");}},subscribe:function(_3e5,_3e6){return hub.on.apply(hub,arguments);}};_3e0();return _3e1;});},"epi/shell/_ContextMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/topic","dijit/Destroyable"],function(_3e7,lang,_3e8,_3e9,_3ea){return _3e7([_3ea],{_currentContext:null,_waitingForContext:null,constructor:function(_3eb){var _3ec;function _3ed(ctx,_3ee){if(this._currentContext||!_3ee||_3ee.sender!==this){return;}_3ec.remove();_3ec=null;this._initialContextChanged(ctx);};this.own(_3e9.subscribe("/epi/shell/context/request",lang.hitch(this,this._contextRequest)),_3e9.subscribe("/epi/shell/context/changed",lang.hitch(this,this._contextChanged)),_3e9.subscribe("/epi/shell/context/updated",lang.hitch(this,this._contextUpdated)),_3e9.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,this._contextFailed)),_3ec=_3e9.subscribe("/epi/shell/context/current",lang.hitch(this,_3ed)));_3e9.publish("/epi/shell/context/requestcurrent",{sender:this});},getCurrentContext:function(){if(this._currentContext!==null){return this._currentContext;}if(!this._waitingForContext){this._waitingForContext=new _3e8();}return this._waitingForContext.promise;},contextChanged:function(ctx,_3ef){},contextUpdated:function(ctx,_3f0){},contextChangeFailed:function(ctx,_3f1){},_contextChanged:function(ctx,_3f2){if(!this._currentContext){this._initialContextChanged(ctx);}this._currentContext=ctx;this.contextChanged(ctx,_3f2);},_initialContextChanged:function(_3f3,_3f4){this._currentContext=_3f3;if(this._waitingForContext){this._waitingForContext.resolve(_3f3);this._waitingForContext=null;}},_contextRequest:function(){this._currentContext=null;},_contextUpdated:function(ctx,_3f5){this._currentContext=ctx;this.contextUpdated(ctx,_3f5);},_contextFailed:function(ctx,_3f6){if(!this._currentContext){this._initialContextChanged(ctx);}this._currentContext=ctx;this.contextChangeFailed(ctx,_3f6);}});});},"epi/shell/ContextService":function(){define("epi/shell/ContextService",["dojo","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/promise/all","dojo/topic","dijit/Destroyable","epi","epi/dependency","epi/shell/widget/dialog/Confirmation","epi/UriParser","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ContextService"],function(dojo,_3f7,_3f8,lang,_3f9,all,_3fa,_3fb,epi,_3fc,_3fd,_3fe,res){return _3f8([_3fb],{currentContext:null,_contextStore:null,_profile:null,_routes:{},res:res,_requestQueue:null,_requestInterceptors:null,constructor:function(_3ff,_400){this._contextStore=_3ff;if(_400===undefined){this._profile=_3fc.resolve("epi.shell.Profile");}this._requestInterceptors=[];this._requestQueue=[];this._initialize();},_initialize:function(){this.own(_3fa.subscribe("/epi/shell/context/request",lang.hitch(this,this._handleContextChangeRequest)),_3fa.subscribe("/epi/shell/context/updateRequest",lang.hitch(this,this._handleContextUpdateRequest)),_3fa.subscribe("/epi/shell/context/requestcurrent",lang.hitch(this,this._handleRequestCurrentContext)));},registerRoute:function(_401,_402){this._routes[_401]=_402;},registerRequestInterceptor:function(_403){var _404=_3f7.indexOf(this._requestInterceptors,_403);if(_404===-1){this._requestInterceptors.push(_403);}return {remove:lang.hitch(this,function(){this.unregisterRequestInterceptor(_403);})};},unregisterRequestInterceptor:function(_405){var _406=_3f7.indexOf(this._requestInterceptors,_405);if(_406!==-1){this._requestInterceptors.splice(_406,1);return _405;}return null;},query:function(_407){return this._executeInterceptors(_407,{}).then(lang.hitch(this,function(){return this._getContextStore().query(_407);}));},_handleContextChangeRequest:function(_408,_409){if(_408===null){this.currentContext={};this._publishContextChanged(this.currentContext);return;}this._executeInterceptors(_408,_409).then(lang.hitch(this,function(){this._loadNewContext(_408,_409,this._publishContextChanged);})).otherwise(lang.hitch(this,function(){this._publishRequestFailed(_408,_409);}));},_executeInterceptors:function(_40a,_40b){var _40c=_3f7.map(this._requestInterceptors,function(item){return item(_40a,_40b);},this);var _40d=all(_40c);_40d.otherwise(function(_40e){console.error("Failed to execute the context request interceptors:",_40e,_40a,_40b);});return _40d;},_handleContextUpdateRequest:function(_40f,_410){if(_40f===null){return;}this._loadNewContext(_40f,_410,this._publishContextUpdated);},_handleRequestCurrentContext:function(_411){if(this.currentContext){_3fa.publish("/epi/shell/context/current",this.currentContext,_411);}},_loadNewContext:function(_412,_413,_414){var item={success:null,request:null,response:null,contextParameters:_412,callerData:_413,callback:_414};var _415=lang.hitch(this,function(_416){item.response=_416;item.success=false;this._handleContextLoaded();});var _417=lang.hitch(this,function(_418){if(_418){item.response=_418;item.success=true;this._handleContextLoaded();}else{_415(_418);}});this._requestQueue.push(item);var _419=this._getContextStore();var rq=_419.query(_412);rq.then(_417,_415);item.request=rq;},_handleContextLoaded:function(){var item=(this._requestQueue.length>0)?this._requestQueue[0]:null;while(item&&item.success!==null){this._requestQueue.shift();var _41a=item.callback;var _41b=item.response;var _41c=item.contextParameters;var _41d=item.callerData;var _41e=item.success;var _41f=item.request;if(_41e){var uri=new _3fe(_41b.uri);_41b.type=uri.getType();_41b.id=uri.getId();this.currentContext=item.response;if(this._routes&&this._routes[_41b.type]){this._routes[_41b.type](this.currentContext,_41d,uri);}if(_41a){_41a(_41b,_41d,_41f);}}else{if(_41d&&!_41d.suppressFailure){this._contextLoadFailed(_41b,_41c,_41d);}else{this._publishRequestFailed(_41c,_41d);}}item=(this._requestQueue.length>0)?this._requestQueue[0]:null;}},_contextLoadFailed:function(_420,_421,_422){var _423=lang.hitch(this,function(_424){if(_424){this._loadNewContext(_421,_422,this._publishContextChanged);}else{this._publishRequestFailed(_421,_422);}});var _425=this.res.errors.couldnotloadcontext.description,_426=this.res.errors.couldnotloadcontext["descriptioncontent"+_420.status],_427=this.res.errors.couldnotloadcontext["description"+_420.status];if(_426&&_422.sender&&_422.sender.requestedContent){var _428=_422.sender.requestedContent;_425=lang.replace(_426,[_428.typeName,_428.name]);}else{if(_427){_425=lang.replace(_427,[_421.uri||_421.url]);}}var _429=new _3fd({title:this.res.errors.couldnotloadcontext.title,description:_425,confirmActionText:this.res.errors.couldnotloadcontext.retry,cancelActionText:epi.resources.action.ignore,onAction:_423});_429.show();},_getContextStore:function(){if(!this._contextStore){var _42a=_3fc.resolve("epi.storeregistry");this._contextStore=_42a.get("epi.shell.context");}return this._contextStore;},_publishContextChanged:function(_42b,_42c,_42d){_3fa.publish("/epi/shell/context/changed",_42b,_42c,_42d);},_publishContextUpdated:function(_42e,_42f,_430){_3fa.publish("/epi/shell/context/updated",_42e,_42f,_430);},_publishRequestFailed:function(_431,_432){_3fa.publish("/epi/shell/context/requestfailed",this.currentContext,_431,_432);}});});},"epi/shell/widget/dialog/Confirmation":function(){define(["dojo/_base/declare","dojo/_base/lang","epi","epi/shell/widget/dialog/Dialog"],function(_433,lang,epi,_434){return _433([_434],{confirmActionText:epi.resources.action.yes,cancelActionText:epi.resources.action.no,closeIconVisible:false,dialogClass:"epi-dialog-confirm",getActions:function(){var _435={name:this._okButtonName,label:this.confirmActionText,title:null,action:lang.hitch(this,this._onConfirm)},_436={name:this._cancelButtonName,label:this.cancelActionText,title:null,action:lang.hitch(this,this._onCancel)};if(this.setFocusOnConfirmButton){_435.settings={"class":"Salt"};}return [_435,_436];},_onConfirm:function(){this.hide();this.onAction(true);},_onCancel:function(){this.hide();this.onAction(false);},onAction:function(){}});});},"epi/shell/widget/dialog/Dialog":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/promise/all","epi","epi/shell/widget/dialog/_DialogBase","epi/shell/widget/_ActionConsumerWidget","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarSet"],function(_437,_438,lang,_439,_43a,_43b,epi,_43c,_43d,_43e,_43f){return _438([_43c,_43d],{confirmActionText:epi.resources.action.ok,cancelActionText:epi.resources.action.cancel,contentClass:"",dialogClass:"epi-dialog-landscape",defaultActionsVisible:true,setFocusOnConfirmButton:true,_preferredHeight:0,_validators:null,_okButtonName:"ok",_cancelButtonName:"cancel",postMixInProperties:function(){this.inherited(arguments);this._validators=[];if(this.content&&this.content.onSubmit){this.connect(this.content,"onSubmit",this._onSubmit);}},postCreate:function(){this.inherited(arguments);this.set("definitionConsumer",new _43f({baseClass:"dijitDialogPaneActionBar",layoutContainerClass:_43e},this.actionContainerNode));},_size:function(){var _440=this.get("_preferredHeight");if(_440){_43a.set(this.containerNode,{minHeight:_440+"px",maxHeight:_440+"px"});}this.inherited(arguments);_43a.set(this.containerNode,{minHeight:"",maxHeight:""});_437.forEach(["height","width"],function(prop){if(this[prop]==="auto"){this[prop]="";}},this.containerNode.style);},addValidator:function(_441){this._validators.push(_441);},getActions:function(){var _442=this.inherited(arguments);if(this.defaultActionsVisible){var _443={name:this._okButtonName,label:this.confirmActionText,title:null,settings:{type:"submit"}},_444={name:this._cancelButtonName,label:this.cancelActionText,title:null,action:lang.hitch(this,this._onCancel)};if(this.setFocusOnConfirmButton){_443.settings["class"]="Salt";}else{_444.settings={"class":"Salt",firstFocusable:true};}_442.push(_443,_444);}return _442;},_onCancel:function(){this.onCancel();},_onSubmit:function(){if(!this.validate()){return;}if(this._validators.length===0){this.inherited(arguments);return;}var _445=_437.map(this._validators,function(item){return item();});var _446=arguments;var _447=new _43b(_445);_447.then(lang.hitch(this,function(_448){if(_437.some(_448,function(_449){return !_449[0];})){return;}this.inherited(_446);}));},_setContentClassAttr:function(_44a){_439.remove(this.containerNode,this.contentClass);this._set("contentClass",_44a);_439.add(this.containerNode,this.contentClass);},_get_preferredHeightAttr:function(){if(!!this.dialogClass&&this._preferredHeight<25){this._preferredHeight=_43a.get(this.containerNode,"height");}return this._preferredHeight;}});});},"epi/shell/widget/dialog/_DialogBase":function(){define(["epi","dojo","dojo/_base/array","dojo/dom-class","dojo/dom-style","dojo/query","dojo/text!./templates/Dialog.html","dojo/when","dijit/a11y","dijit/focus","dijit/Dialog","epi/shell/widget/dialog/_DialogMixin","epi/shell/widget/_FocusableMixin"],function(epi,dojo,_44b,_44c,_44d,_44e,_44f,when,a11y,_450,_451,_452,_453){return dojo.declare([_451,_452,_453],{templateString:_44f,heading:"",description:"",dialogClass:"",iconClass:"dijitNoIcon",destroyOnHide:true,focusActionsOnLoad:false,postMixInProperties:function(){this.inherited(arguments);this.resources=epi.resources.action;},buildRendering:function(){this.inherited(arguments);if(this.dialogClass){_44c.add(this.domNode,this.dialogClass);}this.set("closeIconVisible",this.closeIconVisible);this.set("iconClass",this.iconClass);this.set("heading",this.heading);this.set("description",this.description);},postCreate:function(){this.inherited(arguments);if(this.content&&this.content.executeDialog){this.connect(this.content,"executeDialog","onExecute");}if(this.content&&this.content.cancelDialog){this.connect(this.content,"cancelDialog","onCancel");}},hide:function(){var _454=dojo.hitch(this,function(){if(this.destroyOnHide){this.destroyRecursive();}});return when(this.inherited(arguments),_454);},_getFocusItems:function(){var node=this.focusActionsOnLoad?this.actionContainerNode:this.contentContainerNode,_455=a11y._getTabNavigable(node);this.focusActionsOnLoad=false;this._firstFocusItem=_455.lowest||_455.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_455.last||_455.highest||this._firstFocusItem;},_setDialogContentNode:function(_456,_457){_456.innerHTML=_457;_44d.set(_456,"display",_457?"":"none");var _458=_44e("div",this.contentContainerNode);_458.removeClass("epi-firstVisible");_44b.some(_458,function(_459){if(_44d.get(_459,"display")!=="none"){_44c.add(_459,"epi-firstVisible");return true;}});},_setHeadingAttr:function(_45a){this._setDialogContentNode(this.headingNode,_45a);},_setDescriptionAttr:function(_45b){this._setDialogContentNode(this.descriptionNode,_45b);},_setIconClassAttr:function(_45c){_44c.remove(this.iconNode,this.iconClass);this._set("iconClass",_45c);_44c.add(this.iconNode,this.iconClass);}});});},"url:epi/shell/widget/dialog/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\r\n    <div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\r\n        <span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\r\n        <span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${resources.close}\" role=\"button\" tabIndex=\"-1\">\r\n            <span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${resources.cancel}\">x</span>\r\n        </span>\r\n    </div>\r\n    <div data-dojo-attach-point=\"contentContainerNode\" class=\"epi-dialogPaneContent\">\r\n        <span data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitInline epi-dialogIcon\"></span>\r\n        <div data-dojo-attach-point=\"headingNode\" class=\"epi-dialogDescriptionHeader\"></div>\r\n        <div data-dojo-attach-point=\"descriptionNode\" class=\"epi-dialogDescriptionSummary\"></div>\r\n        <div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContentArea\"></div>\r\n        <div data-dojo-attach-point=\"actionContainerNode\" class=\"dijitDialogPaneActionBar\"></div>\r\n    </div>\r\n</div>","dijit/Dialog":function(){require({cache:{"url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"0\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n"}});define("dijit/Dialog",["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","./main","dojo/i18n!./nls/common"],function(_45d,_45e,_45f,_460,_461,dom,_462,_463,_464,_465,fx,i18n,keys,lang,on,_466,has,_467,_468,_469,_46a,_46b,_46c,_46d,_46e,_46f,_470,_471,_472,_473,_474){var _475=_460("dijit._DialogBase",[_46d,_46f,_470,_46e],{templateString:_473,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:false,duration:_46b.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},"aria-describedby":"",maxRatio:0.9,postMixInProperties:function(){var _476=i18n.getLocalization("dijit","common");lang.mixin(this,_476);this.inherited(arguments);},postCreate:function(){_464.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function(){this._position();if(this.autofocus&&_477.isTop(this)){this._getFocusItems(this.domNode);_46a.focus(this._firstFocusItem);}this.inherited(arguments);},_endDrag:function(){var _478=_463.position(this.domNode),_479=_467.getBox(this.ownerDocument);_478.y=Math.min(Math.max(_478.y,0),(_479.h-_478.h));_478.x=Math.min(Math.max(_478.x,0),(_479.w-_478.w));this._relativePosition=_478;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_469:_468)(node,{handle:this.titleBar});this.connect(this._moveable,"onMoveStop","_endDrag");}else{_462.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_45e.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),ownerDocument:this.ownerDocument};},_size:function(){this._checkIfSingleChild();if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}else{_464.set(this.containerNode,{width:"auto",height:"auto"});}var bb=_463.position(this.domNode);var _47a=_467.getBox(this.ownerDocument);_47a.w*=this.maxRatio;_47a.h*=this.maxRatio;if(bb.w>=_47a.w||bb.h>=_47a.h){var _47b=_463.position(this.containerNode),w=Math.min(bb.w,_47a.w)-(bb.w-_47b.w),h=Math.min(bb.h,_47a.h)-(bb.h-_47b.h);if(this._singleChild&&this._singleChild.resize){if(typeof this._singleChildOriginalStyle=="undefined"){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;}this._singleChild.resize({w:w,h:h});}else{_464.set(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function(){if(!_462.contains(this.ownerDocumentBody,"dojoMove")){var node=this.domNode,_47c=_467.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_463.position(node),l=Math.floor(_47c.l+(p?p.x:(_47c.w-bb.w)/2)),t=Math.floor(_47c.t+(p?p.y:(_47c.h-bb.h)/2));_464.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.charOrCode){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.domNode);}var _47d=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_47d){_46a.focus(this._lastFocusItem);}_465.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_47d){_46a.focus(this._firstFocusItem);}_465.stop(evt);}else{while(node){if(node==this.domNode||_462.contains(node,"dijitPopup")){if(evt.charOrCode==keys.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==keys.TAB){_465.stop(evt);}else{if(!has("opera")){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function(){if(this.open){return;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();_477.hide(this);}var win=_467.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize")));this._modalconnects.push(on(this.domNode,_45f._keypress,lang.hitch(this,"_onKey")));_464.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this._size();this._position();var _47e;this._fadeInDeferred=new _461(lang.hitch(this,function(){_47e.stop();delete this._fadeInDeferred;}));_47e=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_477.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_477.isTop(this)){this._getFocusItems(this.domNode);_46a.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return this._fadeInDeferred;},hide:function(){if(!this._alreadyInitialized||!this.open){return;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _47f;this._fadeOutDeferred=new _461(lang.hitch(this,function(){_47f.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(lang.hitch(this,"onHide"));_47f=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_477.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return this._fadeOutDeferred;},resize:function(){if(this.domNode.style.display!="none"){if(_471._singleton){_471._singleton.layout();}if(!has("touch")){this._position();}this._size();}},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_477.hide(this);this.inherited(arguments);}});var _480=_460("dijit.Dialog",[_472,_475],{});_480._DialogBase=_475;var _477=_480._DialogLevelManager={_beginZIndex:950,show:function(_481,_482){ds[ds.length-1].focus=_46a.curNode;var _483=_471._singleton;if(!_483||_483._destroyed){_483=_474._underlay=_471._singleton=new _471(_482);}else{_483.set(_481.underlayAttrs);}var _484=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_480._DialogLevelManager._beginZIndex;if(ds.length==1){_483.show();}_464.set(_471._singleton.domNode,"zIndex",_484-1);_464.set(_481.domNode,"zIndex",_484);ds.push({dialog:_481,underlayAttrs:_482,zIndex:_484});},hide:function(_485){if(ds[ds.length-1].dialog==_485){ds.pop();var pd=ds[ds.length-1];if(!_471._singleton._destroyed){if(ds.length==1){_471._singleton.hide();}else{_464.set(_471._singleton.domNode,"zIndex",pd.zIndex-1);_471._singleton.set(pd.underlayAttrs);}}if(_485.refocus){var _486=pd.focus;if(pd.dialog&&(!_486||!dom.isDescendant(_486,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_486=pd.dialog._firstFocusItem;}if(_486){try{_486.focus();}catch(e){}}}}else{var idx=_45e.indexOf(_45e.map(ds,function(elem){return elem.dialog;}),_485);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_487){return ds[ds.length-1].dialog==_487;}};var ds=_480._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];if(has("dijit-legacy-requires")){_466(0,function(){var _488=["dijit/TooltipDialog"];_45d(_488);});}return _480;});},"dojo/dnd/Moveable":function(){define("dojo/dnd/Moveable",["../_base/array","../_base/declare","../_base/event","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_489,_48a,_48b,lang,dom,_48c,_48d,on,_48e,_48f,dnd,_490,win){var _491=_48a("dojo.dnd.Moveable",[_48d],{handle:"",delay:0,skip:false,constructor:function(node,_492){this.node=dom.byId(node);if(!_492){_492={};}this.handle=_492.handle?dom.byId(_492.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_492.delay>0?_492.delay:0;this.skip=_492.skip;this.mover=_492.mover?_492.mover:_490;this.events=[on(this.handle,_48f.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_493,node,Ctor){return new Ctor(node,_493);},destroy:function(){_489.forEach(this.events,function(_494){_494.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_48f.move,lang.hitch(this,"onMouseMove")),on(this.handle,_48f.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}_48b.stop(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}_48b.stop(e);},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}_48b.stop(e);},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){_48b.stop(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_495){_48e.publish("/dnd/move/start",_495);_48c.add(win.body(),"dojoMove");_48c.add(this.node,"dojoMoveItem");},onMoveStop:function(_496){_48e.publish("/dnd/move/stop",_496);_48c.remove(win.body(),"dojoMove");_48c.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_497,_498){this.onMoving(_497,_498);var s=_497.node.style;s.left=_498.l+"px";s.top=_498.t+"px";this.onMoved(_497,_498);},onMoving:function(){},onMoved:function(){}});return _491;});},"dojo/dnd/Mover":function(){define("dojo/dnd/Mover",["../_base/array","../_base/declare","../_base/event","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_499,_49a,_49b,lang,has,win,dom,_49c,_49d,_49e,on,_49f,dnd,_4a0){return _49a("dojo.dnd.Mover",[_49e],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;this.events=[on(d,_49f.move,lang.hitch(this,"onFirstMove")),on(d,_49f.move,lang.hitch(this,"onMouseMove")),on(d,_49f.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_49b.stop),on(d.body,"selectstart",_49b.stop)];_4a0.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_4a0.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);_49b.stop(e);},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}_49b.stop(e);},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_49c.getMarginBox(this.node);var b=win.doc.body;var bs=_49d.getComputedStyle(b);var bm=_49c.getMarginBox(b,bs);var bc=_49c.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_499.forEach(this.events,function(_4a1){_4a1.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"dojo/dnd/TimedMoveable":function(){define("dojo/dnd/TimedMoveable",["../_base/declare","./Moveable"],function(_4a2,_4a3){var _4a4=_4a3.prototype.onMove;return _4a2("dojo.dnd.TimedMoveable",_4a3,{timeout:40,constructor:function(node,_4a5){if(!_4a5){_4a5={};}if(_4a5.timeout&&typeof _4a5.timeout=="number"&&_4a5.timeout>=0){this.timeout=_4a5.timeout;}},onMoveStop:function(_4a6){if(_4a6._timer){clearTimeout(_4a6._timer);_4a4.call(this,_4a6,_4a6._leftTop);}_4a3.prototype.onMoveStop.apply(this,arguments);},onMove:function(_4a7,_4a8){_4a7._leftTop=_4a8;if(!_4a7._timer){var _4a9=this;_4a7._timer=setTimeout(function(){_4a7._timer=null;_4a4.call(_4a9,_4a7,_4a7._leftTop);},this.timeout);}}});});},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_4aa,_4ab,lang,_4ac,_4ad){var _4ae={};_4aa.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_4ae[name]=_4ac[name];});lang.mixin(_4ae,{defaultDuration:_4ab["defaultDuration"]||200});lang.mixin(_4ad,_4ae);return _4ad;});},"dijit/DialogUnderlay":function(){define("dijit/DialogUnderlay",["dojo/_base/declare","dojo/dom-attr","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe"],function(_4af,_4b0,_4b1,_4b2,_4b3,_4b4){return _4af("dijit.DialogUnderlay",[_4b2,_4b3],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_setDialogIdAttr:function(id){_4b0.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_4b5){this.node.className="dijitDialogUnderlay "+_4b5;this._set("class",_4b5);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _4b6=_4b1.getBox(this.ownerDocument);os.top=_4b6.t+"px";os.left=_4b6.l+"px";is.width=_4b6.w+"px";is.height=_4b6.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new _4b4(this.domNode);},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";}});});},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe",["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window"],function(_4b7,_4b8,_4b9,_4ba,_4bb,lang,on,has,win){has.add("bgIframe",has("ie")||has("mozilla"));var _4bc=new function(){var _4bd=[];this.pop=function(){var _4be;if(_4bd.length){_4be=_4bd.pop();_4be.style.display="";}else{if(has("ie")<9){var burl=_4b9["dojoBlankHtmlUrl"]||_4b7.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_4be=win.doc.createElement(html);}else{_4be=_4ba.create("iframe");_4be.src="javascript:\"\"";_4be.className="dijitBackgroundIframe";_4be.setAttribute("role","presentation");_4bb.set(_4be,"opacity",0.1);}_4be.tabIndex=-1;}return _4be;};this.push=function(_4bf){_4bf.style.display="none";_4bd.push(_4bf);};}();_4b8.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("bgIframe")){var _4c0=(this.iframe=_4bc.pop());node.appendChild(_4c0);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,function(){this.resize(node);}));}else{_4bb.set(_4c0,{width:"100%",height:"100%"});}}};lang.extend(_4b8.BackgroundIframe,{resize:function(node){if(this.iframe){_4bb.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_4bc.push(this.iframe);delete this.iframe;}}});return _4b8.BackgroundIframe;});},"url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"0\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n","epi/shell/widget/dialog/_DialogMixin":function(){define(["dojo","dojo/dom-style"],function(dojo,_4c1){return dojo.declare(null,{closeIconVisible:true,_setCloseIconVisibleAttr:function(){this._set("closeIconVisible",this.closeIconVisible);_4c1.set(this.closeButtonNode,"visibility",this.closeIconVisible?"visible":"hidden");_4c1.set(this.titleNode,"margin-right",this.closeIconVisible?"25px":"0");}});});},"epi/shell/widget/_FocusableMixin":function(){define(["dojo/dom-class","dojo/_base/declare","dijit/_FocusMixin"],function(_4c2,_4c3,_4c4){return _4c3(_4c4,{onFocus:function(){_4c2.add(this.domNode,"epi-focused");},onBlur:function(){_4c2.remove(this.domNode,"epi-focused");}});});},"epi/shell/widget/_ActionConsumerWidget":function(){define(["dojo/_base/declare","./_ActionConsumer"],function(_4c5,_4c6){return _4c5(_4c6,{definitionConsumer:null,startup:function(){this.inherited(arguments);this._populateActions();},_setDefinitionConsumerAttr:function(_4c7){this._set("definitionConsumer",_4c7);if(this._started){this._populateActions();}},onActionAdded:function(_4c8){if(this.definitionConsumer){this.definitionConsumer.add(_4c8);}},onActionRemoved:function(_4c9){if(this.definitionConsumer){this.definitionConsumer.remove(_4c9.name);}},onActionPropertyChanged:function(_4ca,_4cb,_4cc){if(this.definitionConsumer){this.definitionConsumer.setItemProperty(_4ca.name,_4cb,_4cc);}},_populateActions:function(){if(this.definitionConsumer){this.definitionConsumer.add(this.getActions());}}});});},"epi/shell/widget/_ActionConsumer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel","dojo/_base/array","dojo/aspect","epi/shell/widget/_ActionProviderBase"],function(_4cd,lang,_4ce,_4cf,_4d0,_4d1){return _4cd(_4d1,{_actionProviders:null,constructor:function(args){_4ce.deprecated("epi/shell/widget/_ActionConsumer","use the command pattern with epi/shell/command/_CommandConsumerMixin instead");this._actionProviders=[];if(args&&lang.isArray(args.actionProviders)){args.actionProviders.forEach(function(_4d2){this.addProvider(_4d2);},this);}},isProviderRegistered:function(_4d3){if(!_4d3){return false;}return this._actionProviders.some(function(_4d4){return _4d4.provider===_4d3;});},addProvider:function(_4d5){if(!_4d5||this.isProviderRegistered(_4d5)){return;}this._actionProviders.push({provider:_4d5,connects:[_4d0.after(_4d5,"onActionAdded",lang.hitch(this,"onActionAdded"),true),_4d0.after(_4d5,"onActionRemoved",lang.hitch(this,"onActionRemoved"),true),_4d0.after(_4d5,"onActionPropertyChanged",lang.hitch(this,"onActionPropertyChanged"),this)]});},removeProvider:function(_4d6){if(!_4d6||!this.isProviderRegistered(_4d6)){return;}for(var i=0;i<this._actionProviders.length;i++){if(this._actionProviders[i].provider===_4d6){var _4d7=this._actionProviders.splice(i,1);_4cf.forEach(_4d7.connects,function(_4d8){_4d8.remove();});break;}}},getActions:function(){var _4d9=[];this._actionProviders.forEach(function(_4da,_4db){_4d9=_4d9.concat(this._getProviderActions(_4da.provider));},this);return _4d9;},_getProviderActions:function(_4dc){if(_4dc&&typeof (_4dc.getActions)=="function"){return _4dc.getActions();}else{return [];}}});});},"epi/shell/widget/_ActionProviderBase":function(){define(["epi","dojo"],function(epi,dojo){return dojo.declare(null,{getActions:function(){return [];},onActionAdded:function(_4dd){},onActionRemoved:function(_4de){},onActionPropertyChanged:function(_4df,_4e0,_4e1){}});});},"epi/shell/widget/Toolbar":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Toolbar","epi/shell/DestroyableByKey"],function(_4e2,lang,_4e3,_4e4){return _4e2([_4e3,_4e4],{_originalTabIndex:null,_focusable:null,_firstFocusableItem:null,postCreate:function(){this.inherited(arguments);this._originalTabIndex=this.get("tabIndex");this._correctTabIndex();},addChild:function(_4e5){this.inherited(arguments);if(_4e5.firstFocusable){this.set("_firstFocusableItem",_4e5);}this.destroyByKey(_4e5);this.ownByKey(_4e5,_4e5.watch("itemVisibility",lang.hitch(this,function(){this._correctTabIndex();})));this._correctTabIndex();},removeChild:function(_4e6){this.destroyByKey(_4e6);this.inherited(arguments);this._correctTabIndex();},_correctTabIndex:function(){this._focusable=(this._getFirstFocusableChild()!==null);this.set("tabIndex",this._focusable?this._originalTabIndex:-1);},_getFirstFocusableChild:function(){return this._firstFocusableItem||this.inherited(arguments);},_startupChild:function(_4e7){_4e7.set("tabIndex","-1");},_onChildBlur:function(_4e8){_4e8.set("tabIndex","-1");}});});},"dijit/Toolbar":function(){define("dijit/Toolbar",["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_4e9,_4ea,has,keys,_4eb,_4ec,_4ed,_4ee){if(has("dijit-legacy-requires")){_4eb(0,function(){var _4ef=["dijit/ToolbarSeparator"];_4e9(_4ef);});}return _4ea("dijit.Toolbar",[_4ec,_4ee,_4ed],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers(this.isLeftToRight()?[keys.LEFT_ARROW]:[keys.RIGHT_ARROW],this.isLeftToRight()?[keys.RIGHT_ARROW]:[keys.LEFT_ARROW]);}});});},"dijit/_KeyNavContainer":function(){define("dijit/_KeyNavContainer",["dojo/_base/kernel","./_Container","./_FocusMixin","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/event","dojo/dom-attr","dojo/_base/lang"],function(_4f0,_4f1,_4f2,_4f3,keys,_4f4,_4f5,_4f6,lang){return _4f4("dijit._KeyNavContainer",[_4f2,_4f1],{tabIndex:"0",connectKeyNavHandlers:function(_4f7,_4f8){var _4f9=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_4f3.forEach(_4f7,function(code){_4f9[code]=prev;});_4f3.forEach(_4f8,function(code){_4f9[code]=next;});_4f9[keys.HOME]=lang.hitch(this,"focusFirstChild");_4f9[keys.END]=lang.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){_4f0.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_4f3.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_4fa,_4fb){this.inherited(arguments);this._startupChild(_4fa);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},focusChild:function(_4fc,last){if(!_4fc){return;}if(this.focusedChild&&_4fc!==this.focusedChild){this._onChildBlur(this.focusedChild);}_4fc.set("tabIndex",this.tabIndex);_4fc.focus(last?"end":"start");this._set("focusedChild",_4fc);},_startupChild:function(_4fd){_4fd.set("tabIndex","-1");this.connect(_4fd,"_onFocus",function(){_4fd.set("tabIndex",this.tabIndex);});this.connect(_4fd,"_onBlur",function(){_4fd.set("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focusFirstChild();_4f6.set(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){_4f6.set(this.domNode,"tabIndex",this.tabIndex);}this.focusedChild=null;this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();_4f5.stop(evt);}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function(_4fe,dir){if(_4fe){_4fe=this._getSiblingOfChild(_4fe,dir);}var _4ff=this.getChildren();for(var i=0;i<_4ff.length;i++){if(!_4fe){_4fe=_4ff[(dir>0)?0:(_4ff.length-1)];}if(_4fe.isFocusable()){return _4fe;}_4fe=this._getSiblingOfChild(_4fe,dir);}return null;}});});},"epi/shell/DestroyableByKey":function(){define("epi/shell/DestroyableByKey",["dojo/_base/array","dojo/_base/declare","dijit/Destroyable"],function(_500,_501,_502){return _501([_502],{_ownedByKey:null,constructor:function(){this._ownedByKey=[];},destroy:function(){var item;while(item=this._ownedByKey.pop()){item.handler.destroy();}this.inherited(arguments);},ownByKey:function(key,_503){var i;var _504=this._findOwnedByKey(key);if(!_504){_504={key:key,handler:new _502()};this._ownedByKey.push(_504);}for(i=1;i<arguments.length;i++){_504.handler.own(arguments[i]);}return this;},destroyByKey:function(key){var _505=this._findOwnedByKey(key);var _506;if(!_505){return;}_505.handler.destroy();_506=_500.indexOf(this._ownedByKey,_505);this._ownedByKey.splice(_506,1);},_findOwnedByKey:function(key){var _507;_500.some(this._ownedByKey,function(item){if(item.key===key){_507=item;return false;}});return _507;}});});},"epi/shell/widget/ToolbarSet":function(){define(["dojo/_base/declare","dijit/_WidgetBase","epi/shell/layout/ToolbarContainer","epi/shell/widget/_AddByDefinition"],function(_508,_509,_50a,_50b){return _508([_509,_50b],{_layoutContainer:null,layoutContainerClass:null,postMixInProperties:function(){this.inherited(arguments);this.layoutContainerClass=this.layoutContainerClass||_50a;},buildRendering:function(){this.inherited(arguments);this._layoutContainer=new this.layoutContainerClass();this._layoutContainer.placeAt(this.domNode);this.own(this._layoutContainer);},addChild:function(_50c){return this._layoutContainer.addChild(_50c);},_getLayoutContainerAttr:function(){return this._layoutContainer;}});});},"epi/shell/layout/ToolbarContainer":function(){define(["dojo/_base/declare","dojo/dom-style","dijit/_Container","dijit/_TemplatedMixin","dijit/_WidgetBase"],function(_50d,_50e,_50f,_510,_511){return _50d([_511,_510,_50f],{cssClasses:{container:"epi-toolbarGroupContainer",leading:"epi-toolbarGroup epi-toolbarLeading",center:"epi-toolbarGroup epi-toolbarCenter",trailing:"epi-toolbarGroup epi-toolbarTrailing"},templateString:"<div class='${cssClasses.container}'>                            <div data-dojo-attach-point='leadingNode' class='${cssClasses.leading}'></div>                            <div data-dojo-attach-point='centerNode' class='${cssClasses.center}'></div>                            <div data-dojo-attach-point='trailingNode' class='${cssClasses.trailing}'></div>                        </div>",addChild:function(_512){_512.region=_512.region||"center";var _513;switch(_512.region){case "leading":_513=this.leadingNode;break;case "center":_513=this.centerNode;break;case "trailing":_513=this.trailingNode;break;}_512.placeAt(_513);}});});},"epi/shell/widget/_AddByDefinition":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/when","dijit","dijit/_Widget","dijit/ToolbarSeparator","dijit/Menu","dijit/MenuSeparator","epi/shell/widget/WidgetFactory","dijit/CheckedMenuItem","dijit/MenuItem","dijit/form/Button","dijit/form/ComboButton","dijit/form/DropDownButton","dijit/form/RadioButton","epi/shell/widget/PopupMenuItem","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarLabel","epi/shell/widget/ToolbarDropDownButton"],function(_514,_515,lang,_516,dom,_517,_518,when,_519,_51a,_51b,Menu,_51c,_51d){return _515(null,{_widgetTypeTemplates:{checkedmenuitem:{widgetType:"dijit/CheckedMenuItem"},menu:{widgetType:"dijit/Menu"},menuitem:{widgetType:"dijit/MenuItem"},popupmenu:{widgetType:"epi/shell/widget/PopupMenuItem"},button:{widgetType:"dijit/form/Button"},combo:{widgetType:"dijit/form/ComboButton"},dropdown:{widgetType:"epi/shell/widget/ToolbarDropDownButton"},radio:{widgetType:"dijit/form/RadioButton"},toolbargroup:{widgetType:"epi/shell/widget/Toolbar"},label:{widgetType:"epi/shell/widget/ToolbarLabel"}},constructor:function(){this._widgetFactory=new _51d();this._widgetMap={};},postMixInProperties:function(){this.connect(this._widgetFactory,"onWidgetHierarchyCreated",lang.hitch(this,function(_51e,_51f){this._widgetMap[_51f.name]=_51e;if(_51f.firstChildIsContainer){_51e.containerWidget=_51e.getChildren()[0];}}));var _520=function(_521,_522){var _523=_521.get("dropDown");if(!_523){_523=new Menu();_521.set("dropDown",_523);}_523.addChild(_522);if(!_522.separator){_522.set("separator","dijit/MenuSeparator");}};this._widgetFactory.addHandler("dijit/form/ComboButton",_520);},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},_toComponentDefinition:function(_524){var _525=this._getComponentDefinitionTemplate(_524);_525.name=_524.name;_525.settings=lang.mixin({label:_524.label||"",showLabel:_524.label,title:_524.title||"",disabled:_524.disabled||false},_524.settings);if(_524.iconClass){_525.settings.iconClass=_524.iconClass;}var _526={onClick:_524.action};_525.connections=lang.mixin(_526,_524.connections);return _525;},_getComponentDefinitionTemplate:function(_527){var _528=lang.mixin({},this._widgetTypeTemplates[_527.type]||this._widgetTypeTemplates["button"]);if(_527.widgetType){_528.widgetType=_527.widgetType;}return _528;},_getWidget:function(name){return this._widgetMap[name];},_addSingle:function(_529){if(this._getWidget(_529.name)){return;}var _52a=this._getWidget(_529.parent)||this;var _52b=this._toComponentDefinition(_529);var def=new _516();when(this._widgetFactory.createWidgets(_52a,_52b),lang.hitch(this,function(_52c){var _52d=_52c[0];if(_529.tooltip){var html=_529.tooltip;var show=function(e){_519.showTooltip(html,e.target);};var hide=function(e){_519.hideTooltip(e.target);};this.connect(_52d.domNode,"onmouseenter",show);this.connect(_52d.domNode,"onmouseleave",hide);}this._addSeparators(_52d);def.resolve();}),function(e){console.error(e.stack||e);def.reject(e);});return def.promise;},_addSeparators:function(_52e){var _52f=_52e.getParent();if(!_52f){return;}var _530=_52f.getChildren();var i=_514.indexOf(_530,_52e);var _531=(i>0)?_530[i-1]:null;if(_531&&!this._isSeparator(_531)){if(_52e.separate){this.addSeparator(_52e,"before");}else{if(_531.separate){this.addSeparator(_531,"after");}}}var next=(_530.length>i)?_530[i+1]:null;if(next&&!this._isSeparator(next)&&(_52e.separate||next.separate)){this.addSeparator(_52e,"after");}},_getSiblingOfWidget:function(_532,dir){var node=_532.domNode;do{node=node[dir];}while(node&&(node.nodeType!==1||!_519.byNode(node)));return node&&_519.byNode(node);},add:function(_533){var self=this;var _534=function(_535){var item=_535.shift();if(!item){return null;}return when(self._addSingle(item),function(){return _534(_535);});};if(lang.isArray(_533)){return _534(_533);}else{this._addSingle(_533);}},addSeparator:function(_536,_537){var _538=function(){if(_536.separator){var _539=_536.separator.replace(/\./g,"/"),_53a=new _516();require([_539],function(_53b){_53a.resolve(new _53b());});return _53a.promise;}return new _51b();};when(_538(),lang.hitch(this,function(_53c){var _53d=_536?_536.domNode:this.domNode;_517.place(_53c.domNode,_53d,_537);}));},_removeSingle:function(name){var _53e=this._widgetMap[name];delete this._widgetMap[name];if(_53e){this._removeSeparators(_53e);_53e.destroy();}},_removeSeparators:function(_53f){if(!_53f.domNode){return;}var _540=_53f.getParent();if(!_540){return;}var _541;var _542=_540.getChildren();var i=_514.indexOf(_542,_53f);var next=(_542.length>i)?_542[i+1]:null;var _543=(i>0)?_542[i-1]:null;if(next&&this._isSeparator(next)&&_542.length>=i+2){_541=next;next=_542[i+2];if(next.separate&&i>0){if(_543&&this._isSeparator(_543)){_543.destroy();return;}}else{_541.destroy();}}if(_543&&this._isSeparator(_543)&&i-2>=0){_541=_543;_543=_542[i-2];if(!_543.separate){_541.destroy();}}},_isSeparator:function(_544){return _544 instanceof _51b||_544 instanceof _51c;},remove:function(_545){if(lang.isArray(_545)){_514.forEach(_545,lang.hitch(this,this._removeSingle));}else{this._removeSingle(_545);}},clear:function(){for(var name in this._widgetMap){this._removeSingle(name);}},destroy:function(){this.clear();this.inherited(arguments);},setItemProperty:function(_546,_547,_548){if(lang.isArray(_546)){_514.forEach(_546,function(name){this._setInternal(name,_547,_548);});}else{this._setInternal(_546,_547,_548);}},setItemVisibility:function(name,_549){var _54a=this._widgetMap[name];if(_54a){_518.set(_54a.domNode,{display:(_549?"":"none")});_54a.set("itemVisibility",_549);}},_setInternal:function(name,_54b,_54c){var _54d=this._widgetMap[name];if(_54d){_54d.set(_54b,_54c);}}});});},"dijit/ToolbarSeparator":function(){define("dijit/ToolbarSeparator",["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_54e,dom,_54f,_550){return _54e("dijit.ToolbarSeparator",[_54f,_550],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/Menu":function(){define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_551,_552,_553,_554,dom,_555,_556,_557,keys,lang,on,has,win,_558,pm,_559,_55a){if(has("dijit-legacy-requires")){_55a(0,function(){var _55b=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_551(_55b);});}return _553("dijit.Menu",_559,{constructor:function(){this._bindings=[];},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(this.ownerDocumentBody);}else{_552.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_55c){return _558.get(this._iframeContentDocument(_55c))||this._iframeContentDocument(_55c)["__parent__"]||(_55c.name&&win.doc.frames[_55c.name])||null;},_iframeContentDocument:function(_55d){return _55d.contentDocument||(_55d.contentWindow&&_55d.contentWindow.document)||(_55d.name&&win.doc.frames[_55d.name]&&win.doc.frames[_55d.name].document)||null;},bindDomNode:function(node){node=dom.byId(node,this.ownerDocument);var cn;if(node.tagName.toLowerCase()=="iframe"){var _55e=node,_55f=this._iframeContentWindow(_55e);cn=win.body(_55f.document);}else{cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);}var _560={node:node,iframe:_55e};_555.set(node,"_dijitMenu"+this.id,this._bindings.push(_560));var _561=lang.hitch(this,function(cn){var _562=this.selector,_563=_562?function(_564){return on.selector(_562,_564);}:function(_565){return _565;},self=this;return [on(cn,_563(this.leftClickToOpen?"click":"contextmenu"),function(evt){_554.stop(evt);if((new Date()).getTime()<this._lastKeyDown+500){return;}self._scheduleOpen(this,_55e,{x:evt.pageX,y:evt.pageY},evt.target);}),on(cn,_563("keydown"),function(evt){if(evt.keyCode==93||(evt.shiftKey&&evt.keyCode==keys.F10)||(this.leftClickToOpen&&evt.keyCode==keys.SPACE)){_554.stop(evt);self._scheduleOpen(this,_55e,null,evt.target);this._lastKeyDown=(new Date()).getTime();}})];});_560.connects=cn?_561(cn):[];if(_55e){_560.onloadHandler=lang.hitch(this,function(){var _566=this._iframeContentWindow(_55e);cn=win.body(_566.document);_560.connects=_561(cn);});if(_55e.addEventListener){_55e.addEventListener("load",_560.onloadHandler,false);}else{_55e.attachEvent("onload",_560.onloadHandler);}}},unBindDomNode:function(_567){var node;try{node=dom.byId(_567,this.ownerDocument);}catch(e){return;}var _568="_dijitMenu"+this.id;if(node&&_555.has(node,_568)){var bid=_555.get(node,_568)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _569=b.iframe;if(_569){if(_569.removeEventListener){_569.removeEventListener("load",b.onloadHandler,false);}else{_569.detachEvent("onload",b.onloadHandler);}}_555.remove(node,_568);delete this._bindings[bid];}},_scheduleOpen:function(_56a,_56b,_56c,_56d){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_56d,delegatedTarget:_56a,iframe:_56b,coords:_56c});},1);}},_openMyself:function(args){var _56e=args.target,_56f=args.iframe,_570=args.coords;this.currentTarget=args.delegatedTarget;if(_570){if(_56f){var ifc=_556.position(_56f,true),_571=this._iframeContentWindow(_56f),_572=_556.docScroll(_571.document);var cs=_557.getComputedStyle(_56f),tp=_557.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_56f,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_56f,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_56f,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_56f,cs.borderTopWidth):0);_570.x+=ifc.x+left-_572.x;_570.y+=ifc.y+top-_572.y;}}else{_570=_556.position(_56e,true);_570.x+=10;_570.y+=10;}var self=this;var _573=this._focusManager.get("prevNode");var _574=this._focusManager.get("curNode");var _575=!_574||(dom.isDescendant(_574,this.domNode))?_573:_574;function _576(){if(self.refocus&&_575){_575.focus();}pm.close(self);};pm.open({popup:this,x:_570.x,y:_570.y,onExecute:_576,onCancel:_576,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},destroy:function(){_552.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"dijit/popup":function(){define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./main"],function(_577,_578,_579,_57a,dom,_57b,_57c,_57d,_57e,_57f,has,keys,lang,on,_580,_581,_582){function _583(){if(this._popupWrapper){_57c.destroy(this._popupWrapper);delete this._popupWrapper;}};var _584=_57a(null,{_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_585){var _586=_585._popupWrapper,node=_585.domNode;if(!_586){_586=_57c.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_585["aria-label"]||_585.label||_585.name||_585.id},_585.ownerDocumentBody);_586.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_585._popupWrapper=_586;_578.after(_585,"destroy",_583,true);}return _586;},moveOffScreen:function(_587){var _588=this._createWrapper(_587);_57e.set(_588,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_589){var _58a=this._createWrapper(_589);_57e.set(_58a,"display","none");},getTopPopup:function(){var _58b=this._stack;for(var pi=_58b.length-1;pi>0&&_58b[pi].parent===_58b[pi-1].widget;pi--){}return _58b[pi];},open:function(args){var _58c=this._stack,_58d=args.popup,_58e=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_57d.isBodyLtr(_58d.ownerDocument),_58f=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_58c.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_58c[_58c.length-1].widget.domNode))){this.close(_58c[_58c.length-1].widget);}var _590=this._createWrapper(_58d);_57b.set(_590,{id:id,style:{zIndex:this._beginZIndex+_58c.length},"class":"dijitPopup "+(_58d.baseClass||_58d["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(has("bgIframe")&&!_58d.bgIframe){_58d.bgIframe=new _581(_590);}var best=_58f?_580.around(_590,_58f,_58e,ltr,_58d.orient?lang.hitch(_58d,"orient"):null):_580.at(_590,args,_58e=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_590.style.display="";_590.style.visibility="visible";_58d.domNode.style.visibility="visible";var _591=[];_591.push(on(_590,_579._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==keys.ESCAPE&&args.onCancel){_57f.stop(evt);args.onCancel();}else{if(evt.charOrCode===keys.TAB){_57f.stop(evt);var _592=this.getTopPopup();if(_592&&_592.onCancel){_592.onCancel();}}}})));if(_58d.onCancel&&args.onCancel){_591.push(_58d.on("cancel",args.onCancel));}_591.push(_58d.on(_58d.onExecute?"execute":"change",lang.hitch(this,function(){var _593=this.getTopPopup();if(_593&&_593.onExecute){_593.onExecute();}})));_58c.push({widget:_58d,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_591});if(_58d.onOpen){_58d.onOpen(best);}return best;},close:function(_594){var _595=this._stack;while((_594&&_577.some(_595,function(elem){return elem.widget==_594;}))||(!_594&&_595.length)){var top=_595.pop(),_596=top.widget,_597=top.onClose;if(_596.onClose){_596.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_596&&_596.domNode){this.hide(_596);}if(_597){_597();}}}});return (_582.popup=new _584());});},"dijit/place":function(){define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_598,_599,_59a,_59b,win,_59c,_59d){function _59e(node,_59f,_5a0,_5a1){var view=_59c.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_598.some(_59f,function(_5a2){var _5a3=_5a2.corner;var pos=_5a2.pos;var _5a4=0;var _5a5={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_5a3.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_5a3.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_5a0){var res=_5a0(node,_5a2.aroundCorner,_5a3,_5a5,_5a1);_5a4=typeof res=="undefined"?0:res;}var _5a6=node.style;var _5a7=_5a6.display;var _5a8=_5a6.visibility;if(_5a6.display=="none"){_5a6.visibility="hidden";_5a6.display="";}var bb=_599.position(node);_5a6.display=_5a7;_5a6.visibility=_5a8;var _5a9={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_5a3.charAt(1)],_5aa={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_5a3.charAt(0)],_5ab=Math.max(view.l,_5a9),_5ac=Math.max(view.t,_5aa),endX=Math.min(view.l+view.w,_5a9+bb.w),endY=Math.min(view.t+view.h,_5aa+bb.h),_5ad=endX-_5ab,_5ae=endY-_5ac;_5a4+=(bb.w-_5ad)+(bb.h-_5ae);if(best==null||_5a4<best.overflow){best={corner:_5a3,aroundCorner:_5a2.aroundCorner,x:_5ab,y:_5ac,w:_5ad,h:_5ae,overflow:_5a4,spaceAvailable:_5a5};}return !_5a4;});if(best.overflow&&_5a0){_5a0(node,best.aroundCorner,best.corner,best.spaceAvailable,_5a1);}var s=node.style;s.top=best.y+"px";s.left=best.x+"px";s.right="auto";return best;};var _5af={at:function(node,pos,_5b0,_5b1){var _5b2=_598.map(_5b0,function(_5b3){var c={corner:_5b3,pos:{x:pos.x,y:pos.y}};if(_5b1){c.pos.x+=_5b3.charAt(1)=="L"?_5b1.x:-_5b1.x;c.pos.y+=_5b3.charAt(0)=="T"?_5b1.y:-_5b1.y;}return c;});return _59e(node,_5b2);},around:function(node,_5b4,_5b5,_5b6,_5b7){var _5b8=(typeof _5b4=="string"||"offsetWidth" in _5b4||"ownerSVGElement" in _5b4)?_599.position(_5b4,true):_5b4;if(_5b4.parentNode){var _5b9=_59a.getComputedStyle(_5b4).position=="absolute";var _5ba=_5b4.parentNode;while(_5ba&&_5ba.nodeType==1&&_5ba.nodeName!="BODY"){var _5bb=_599.position(_5ba,true),pcs=_59a.getComputedStyle(_5ba);if(/relative|absolute/.test(pcs.position)){_5b9=false;}if(!_5b9&&/hidden|auto|scroll/.test(pcs.overflow)){var _5bc=Math.min(_5b8.y+_5b8.h,_5bb.y+_5bb.h);var _5bd=Math.min(_5b8.x+_5b8.w,_5bb.x+_5bb.w);_5b8.x=Math.max(_5b8.x,_5bb.x);_5b8.y=Math.max(_5b8.y,_5bb.y);_5b8.h=_5bc-_5b8.y;_5b8.w=_5bd-_5b8.x;}if(pcs.position=="absolute"){_5b9=true;}_5ba=_5ba.parentNode;}}var x=_5b8.x,y=_5b8.y,_5be="w" in _5b8?_5b8.w:(_5b8.w=_5b8.width),_5bf="h" in _5b8?_5b8.h:(_59b.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_5b8.height+", width:"+_5be+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_5b8.height+", w:"+_5be+" }","","2.0"),_5b8.h=_5b8.height);var _5c0=[];function push(_5c1,_5c2){_5c0.push({aroundCorner:_5c1,corner:_5c2,pos:{x:{"L":x,"R":x+_5be,"M":x+(_5be>>1)}[_5c1.charAt(1)],y:{"T":y,"B":y+_5bf,"M":y+(_5bf>>1)}[_5c1.charAt(0)]}});};_598.forEach(_5b5,function(pos){var ltr=_5b6;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _5c3=_59e(node,_5c0,_5b7,{w:_5be,h:_5bf});_5c3.aroundNodePos=_5b8;return _5c3;}};return _59d.place=_5af;});},"dijit/DropDownMenu":function(){require({cache:{"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n"}});define("dijit/DropDownMenu",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(_5c4,_5c5,keys,_5c6,_5c7,_5c8){return _5c4("dijit.DropDownMenu",[_5c8,_5c7],{templateString:_5c6,baseClass:"dijitMenu",postCreate:function(){this.inherited(arguments);var l=this.isLeftToRight();this._openSubMenuKey=l?keys.RIGHT_ARROW:keys.LEFT_ARROW;this._closeSubMenuKey=l?keys.LEFT_ARROW:keys.RIGHT_ARROW;this.connectKeyNavHandlers([keys.UP_ARROW],[keys.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);_5c5.stop(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{_5c5.stop(evt);}break;}}});});},"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","dijit/_MenuBase":function(){define("dijit/_MenuBase",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./popup","./registry","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_5c9,_5ca,dom,_5cb,_5cc,lang,_5cd,on,_5ce,_5cf,pm,_5d0,_5d1,_5d2,_5d3){return _5ca("dijit._MenuBase",[_5d1,_5d3,_5d2],{parentMenu:null,popupDelay:500,autoFocus:false,childSelector:function(node){var _5d4=_5d0.byNode(node);return node.parentNode==this.containerNode&&_5d4&&_5d4.focus;},postCreate:function(){var self=this,_5d5=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_5d5,_5cd.enter),function(){self.onItemHover(_5d0.byNode(this));}),on(this.containerNode,on.selector(_5d5,_5cd.leave),function(){self.onItemUnhover(_5d0.byNode(this));}),on(this.containerNode,on.selector(_5d5,_5cf),function(evt){self.onItemClick(_5d0.byNode(this),evt);evt.stopPropagation();evt.preventDefault();}));this.inherited(arguments);},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _5d6=this._getTopMenu();if(_5d6&&_5d6._isMenuBar){_5d6.focusNext();}}},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _5d7=this.currentPopup.parentMenu;if(_5d7.focusedChild){_5d7.focusedChild._setSelected(false);}_5d7.focusedChild=this.currentPopup.from_item;_5d7.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=this.defer("_openPopup",this.popupDelay);}}if(this.focusedChild){this.focusChild(item);}this._hoveredChild=item;item._set("hovering",true);},_onChildBlur:function(item){this._stopPopupTimer();item._setSelected(false);var _5d8=item.popup;if(_5d8){this._stopPendingCloseTimer(_5d8);_5d8._pendingClose_timer=this.defer(function(){_5d8._pendingClose_timer=null;if(_5d8.parentMenu){_5d8.parentMenu.currentPopup=null;}pm.close(_5d8);},this.popupDelay);}},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==item){this._hoveredChild=null;}item._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(_5d9){if(_5d9._pendingClose_timer){_5d9._pendingClose_timer=_5d9._pendingClose_timer.remove();}},_stopFocusTimer:function(){if(this._focus_timer){this._focus_timer=this._focus_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this._openPopup(evt.type=="keypress");}else{this.onExecute();item._onClick?item._onClick(evt):item.onClick(evt);}},_openPopup:function(_5da){this._stopPopupTimer();var _5db=this.focusedChild;if(!_5db){return;}var _5dc=_5db.popup;if(!_5dc.isShowingNow){if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);pm.close(this.currentPopup);}_5dc.parentMenu=this;_5dc.from_item=_5db;var self=this;pm.open({parent:this,popup:_5dc,around:_5db.domNode,orient:this._orient||["after","before"],onCancel:function(){self.focusChild(_5db);self._cleanUp();_5db._setSelected(true);self.focusedChild=_5db;},onExecute:lang.hitch(this,"_cleanUp")});this.currentPopup=_5dc;if(this.popupHoverHandle){this.popupHoverHandle.remove();}this.own(this.popupHoverHandle=on.once(_5dc.domNode,"mouseover",lang.hitch(self,"_onPopupHover")));}if(_5da&&_5dc.focus){_5dc._focus_timer=this.defer(lang.hitch(_5dc,function(){this._focus_timer=null;this.focus();}));}},_markActive:function(){this.isActive=true;_5cc.replace(this.domNode,"dijitMenuActive","dijitMenuPassive");},onOpen:function(){this.isShowingNow=true;this._markActive();},_markInactive:function(){this.isActive=false;_5cc.replace(this.domNode,"dijitMenuPassive","dijitMenuActive");},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup){if(_5c9.indexOf(this._focusManager.activeStack,this.id)>=0){_5cb.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex);this.focusedChild.focusNode.focus();}pm.close(this.currentPopup);this.currentPopup=null;}if(this.focusedChild){this.focusedChild._setSelected(false);this.onItemUnhover(this.focusedChild);this.focusedChild=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this.onItemUnhover(this._hoveredChild);}},_onBlur:function(){this._cleanUp();this.inherited(arguments);},_cleanUp:function(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});});},"dijit/MenuSeparator":function(){require({cache:{"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>"}});define("dijit/MenuSeparator",["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_5dd,dom,_5de,_5df,_5e0,_5e1){return _5dd("dijit.MenuSeparator",[_5de,_5df,_5e0],{templateString:_5e1,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(_5e2,_5e3){return _5e2("dijit._Contained",null,{_getSibling:function(_5e4){var node=this.domNode;do{node=node[_5e4+"Sibling"];}while(node&&node.nodeType!=1);return node&&_5e3.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>","epi/shell/widget/WidgetFactory":function(){define(["dojo/_base/array","dojo/_base/Deferred","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/promise/all","dojo/when","epi/dependency","dijit/_Widget","dijit/_Container","dojox/layout/GridContainerLite","epi/shell/widget/ToolbarDropDownButton","epi/shell/widget/ToolbarSet"],function(_5e5,_5e6,_5e7,lang,win,dom,all,when,_5e8){return _5e7(null,{_domNodeName:"[domnode]",_handlers:null,moduleManager:null,messageService:undefined,onWidgetHierarchyCreated:null,onWidgetCreated:null,constructor:function(_5e9){_5e7.safeMixin(this,_5e9);this._handlers=[];this._addDefaultHandlers();this.messageService=this.messageService||_5e8.resolve("epi.shell.MessageService");this.moduleManager=this.moduleManager||_5e8.resolve("epi.ModuleManager");},createWidgets:function(root,_5ea,_5eb){var _5ec,_5ed,_5ee=[],_5ef=[],_5f0=new _5e6(),_5f1;_5eb===false?_5eb=false:_5eb=true;if(typeof (root)==="string"){root=dom.byId(root);}if(_5ea&&!lang.isArray(_5ea)){_5ea=[_5ea];}if(this.getHandler(root).type===this._domNodeName){_5ec=win.doc.createDocumentFragment();_5ec.tagName="documentFragment";}_5ed=lang.hitch(this,function(_5f2){if(_5f2 instanceof Array){for(var i in _5f2){_5ed(_5f2[i]);}}if(_5f2.components instanceof Array){_5ed(_5f2.components);}if(_5f2.moduleName){_5ef.push(this.moduleManager.startModules(_5f2.moduleName));}if(_5f2.widgetPackage){_5ee.push(_5f2.widgetPackage);}else{if(_5f2.widgetType){_5ee.push(_5f2.widgetType);}}});_5ed(_5ea);_5f1=require.on("error",function(_5f3){console.error(_5f3.stack||_5f3);_5f1.remove();_5f0.reject(_5f3);});all(_5ef).then(lang.hitch(this,function(){require(_5ee,lang.hitch(this,function(){_5f1.remove();this._createWidgets(_5ec||root,_5ea).then(function(_5f4){try{_5ec&&root.appendChild(_5ec);if(_5eb){_5e5.forEach(_5f4,function(w){!w._started&&w.startup&&w.startup();});}_5f0.resolve(_5f4);}catch(err){_5f0.reject(err);}},_5f0.reject);}));}));return _5f0;},_createWidgets:function(root,_5f5){var dfd=new _5e6(),_5f6=[],_5f7=this.getHandler(root),_5f8;if(!_5f7||!lang.isArray(_5f5)){dfd.resolve(_5f6);return dfd;}_5f8=_5e5.map(_5f5,lang.hitch(this,function(_5f9){var done=new _5e6(),_5fa=this._createInternal(root,_5f9,_5f7);_5fa.then(function(_5fb){if(_5fb){_5f6.push(_5fb);}done.resolve(_5fb);},function(e){console.error(e.stack||e);done.reject(e);});return done;}));all(_5f8).then(function(){dfd.resolve(_5f6);},function(_5fc){console.error("WidgetFactory: Could not resolve one or more widgets");dfd.reject(_5fc);});return dfd;},_createInternal:function(root,_5fd,_5fe){var _5ff=new _5e6();when(_5fe.instantiateWidgetFunction(_5fd),lang.hitch(this,function(_600){if(_600){try{if(typeof this.onWidgetCreated=="function"){this.onWidgetCreated(_600,_5fd);}_5fe.addWidgetToRootFunction(root,_600);}catch(e){_5ff.reject(e);return;}var _601=new _5e6();if(_5fd.components&&lang.isArray(_5fd.components)&&_5fd.components.length>0){_601=this._createWidgets(_600,_5fd.components);}else{_601.resolve();}_601.then(lang.hitch(this,function(){try{if(typeof this.onWidgetHierarchyCreated=="function"){this.onWidgetHierarchyCreated(_600,_5fd);}_5ff.resolve(_600);}catch(e){_5ff.reject(e);}}),_5ff.reject);}else{_5ff.reject();}}),function(_602){console.error(_602.stack||_602);_5ff.reject(_602);});return _5ff;},defaultWidgetInstantiator:function(_603){var def=new _5e6();var _604=lang.mixin({},_603.settings,{componentId:_603.id});var _605=_603.widgetType;var _606=_603.widgetPackage&&lang.getObject(_603.widgetType);var _607=require.on("error",function(_608){console.error(_608.stack||_608);_607.remove();def.reject(_608);});function _609(ctor){var _60a=new ctor(_604);if(_603.connections){for(var evt in _603.connections){if(_603.connections[evt]){_60a.connect(_60a,evt,_603.connections[evt]);}}}_607.remove();def.resolve(_60a);};if(_606){_609(_606);}else{require([_605],lang.hitch(this,_609));}return def;},_notifyError:function(msg){if(this.messageService){this.messageService.put("error",msg);}},_addDefaultHandlers:function(){this.addHandler(this._domNodeName,function(_60b,_60c){_60c.placeAt(_60b);},null,function(){return true;});this.addHandler("dijit/_Widget",function(_60d,_60e){_60d.set("content",_60e);});this.addHandler("dijit/_Container",function(_60f,_610){_60f.addChild(_610);});this.addHandler("dojox/layout/GridContainerLite",function(_611,_612){_611.addChild(_612,_612.params.column);});this.addHandler("epi/shell/widget/ToolbarDropDownButton",function(_613,_614){_613.addChild(_614);});this.addHandler("epi/shell/widget/ToolbarSet",function(_615,_616){_615.addChild(_616);});},addHandler:function(_617,_618,_619,_61a){var _61b=function(_61c,_61d){return _61d&&lang.isFunction(_61c.isInstanceOf)&&_61c.isInstanceOf(_61d);};var _61e=lang.hitch(this,function(type){var _61f=this.getHandlerByTypeName(_617);var _620=_61a||_61b;var _621=_61f?true:false;if(!_621){_61f={};}var _622=_619||lang.hitch(this,this.defaultWidgetInstantiator);_61f.type=_617;_61f.instantiateWidgetFunction=_622;_61f.addWidgetToRootFunction=_618;_61f.widgetConstructor=type;_61f.canHandle=_620;if(!_621){this._handlers.push(_61f);}});if(_617!==this._domNodeName){require([_617],_61e);}else{_61e();}},getHandler:function(root){var _623=this._handlers;for(var i=_623.length-1;i>=0;i--){if(_623[i].canHandle(root,_623[i].widgetConstructor)){return _623[i];}}return null;},getHandlerByTypeName:function(_624){var _625=this._handlers;for(var i=0;i<_625.length;i++){if(_625[i].type===_624){return _625[i];}}return null;},removeHandler:function(_626){var _627=this._handlers;for(var i=0;i<_627.length;i++){if(_627[i].type===_626){_627.splice(i,1);}}},listHandlers:function(){var _628=this._handlers;return _5e5.map(_628,function(_629){return _629.type;});}});});},"dojox/layout/GridContainerLite":function(){require({cache:{"url:dojox/layout/resources/GridContainer.html":"<div id=\"${id}\" class=\"gridContainer\" dojoAttachPoint=\"containerNode\" tabIndex=\"0\" dojoAttachEvent=\"onkeypress:_selectFocus\">\n\t<div dojoAttachPoint=\"gridContainerDiv\">\n\t\t<table class=\"gridContainerTable\" dojoAttachPoint=\"gridContainerTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t<tbody>\n\t\t\t\t<tr dojoAttachPoint=\"gridNode\" >\n\t\t\t\t\t\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>"}});define("dojox/layout/GridContainerLite",["dojo/_base/kernel","dojo/text!./resources/GridContainer.html","dojo/_base/declare","dojo/query","dojo/_base/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/dom-attr","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/keys","dojo/topic","dijit/registry","dijit/focus","dijit/_base/focus","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/layout/_LayoutWidget","dojo/_base/NodeList","dojox/mdnd/AreaManager","dojox/mdnd/DropIndicator","dojox/mdnd/dropMode/OverDropMode","dojox/mdnd/AutoScroll"],function(dojo,_62a,_62b,_62c,has,_62d,_62e,geom,_62f,_630,_631,lang,_632,keys,_633,_634,_635,_636,_637,_638,_639,_63a){var gcl=_62b("dojox.layout.GridContainerLite",[_639,_638],{autoRefresh:true,templateString:_62a,dragHandleClass:"dojoxDragHandle",nbZones:1,doLayout:true,isAutoOrganized:true,acceptTypes:[],colWidths:"",constructor:function(_63b,node){this.acceptTypes=(_63b||{}).acceptTypes||["text"];this._disabled=true;},postCreate:function(){this.inherited(arguments);this._grid=[];this._createCells();this.subscribe("/dojox/mdnd/drop","resizeChildAfterDrop");this.subscribe("/dojox/mdnd/drag/start","resizeChildAfterDragStart");this._dragManager=dojox.mdnd.areaManager();this._dragManager.autoRefresh=this.autoRefresh;this._dragManager.dragHandleClass=this.dragHandleClass;if(this.doLayout){this._border={h:has("ie")?geom.getBorderExtents(this.gridContainerTable).h:0,w:(has("ie")==6)?1:0};}else{_62e.set(this.domNode,"overflowY","hidden");_62e.set(this.gridContainerTable,"height","auto");}},startup:function(){if(this._started){return;}if(this.isAutoOrganized){this._organizeChildren();}else{this._organizeChildrenManually();}_631.forEach(this.getChildren(),function(_63c){_63c.startup();});if(this._isShown()){this.enableDnd();}this.inherited(arguments);},resizeChildAfterDrop:function(node,_63d,_63e){if(this._disabled){return false;}if(_634.getEnclosingWidget(_63d.node)==this){var _63f=_634.byNode(node);if(_63f.resize&&lang.isFunction(_63f.resize)){_63f.resize();}_63f.set("column",node.parentNode.cellIndex);if(this.doLayout){var _640=this._contentBox.h,_641=geom.getContentBox(this.gridContainerDiv).h;if(_641>=_640){_62e.set(this.gridContainerTable,"height",(_640-this._border.h)+"px");}}return true;}return false;},resizeChildAfterDragStart:function(node,_642,_643){if(this._disabled){return false;}if(_634.getEnclosingWidget(_642.node)==this){this._draggedNode=node;if(this.doLayout){geom.getMarginBox(this.gridContainerTable,{h:geom.getContentBox(this.gridContainerDiv).h-this._border.h});}return true;}return false;},getChildren:function(){var _644=new _63a();_631.forEach(this._grid,function(_645){_62c("> [widgetId]",_645.node).map(_634.byNode).forEach(function(item){_644.push(item);});});return _644;},_isShown:function(){if("open" in this){return this.open;}else{var node=this.domNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_62d.contains(node,"dijitHidden");}},layout:function(){if(this.doLayout){var _646=this._contentBox;geom.getMarginBox(this.gridContainerTable,{h:_646.h-this._border.h});geom.getContentBox(this.domNode,{w:_646.w-this._border.w});}_631.forEach(this.getChildren(),function(_647){if(_647.resize&&lang.isFunction(_647.resize)){_647.resize();}});},onShow:function(){if(this._disabled){this.enableDnd();}},onHide:function(){if(!this._disabled){this.disableDnd();}},_createCells:function(){if(this.nbZones===0){this.nbZones=1;}var _648=this.acceptTypes.join(","),i=0;var _649=this.colWidths||[];var _64a=[];var _64b;var _64c=0;for(i=0;i<this.nbZones;i++){if(_64a.length<_649.length){_64c+=_649[i];_64a.push(_649[i]);}else{if(!_64b){_64b=(100-_64c)/(this.nbZones-i);}_64a.push(_64b);}}i=0;while(i<this.nbZones){this._grid.push({node:_62f.create("td",{"class":"gridContainerZone",accept:_648,id:this.id+"_dz"+i,style:{"width":_64a[i]+"%"}},this.gridNode)});i++;}},_getZonesAttr:function(){return _62c(".gridContainerZone",this.containerNode);},enableDnd:function(){var m=this._dragManager;_631.forEach(this._grid,function(_64d){m.registerByNode(_64d.node);});m._dropMode.updateAreas(m._areaList);this._disabled=false;},disableDnd:function(){var m=this._dragManager;_631.forEach(this._grid,function(_64e){m.unregister(_64e.node);});m._dropMode.updateAreas(m._areaList);this._disabled=true;},_organizeChildren:function(){var _64f=dojox.layout.GridContainerLite.superclass.getChildren.call(this);var _650=this.nbZones,_651=Math.floor(_64f.length/_650),mod=_64f.length%_650,i=0;for(var z=0;z<_650;z++){for(var r=0;r<_651;r++){this._insertChild(_64f[i],z);i++;}if(mod>0){try{this._insertChild(_64f[i],z);i++;}catch(e){console.error("Unable to insert child in GridContainer",e);}mod--;}else{if(_651===0){break;}}}},_organizeChildrenManually:function(){var _652=dojox.layout.GridContainerLite.superclass.getChildren.call(this),_653=_652.length,_654;for(var i=0;i<_653;i++){_654=_652[i];try{this._insertChild(_654,_654.column-1);}catch(e){console.error("Unable to insert child in GridContainer",e);}}},_insertChild:function(_655,_656,p){var zone=this._grid[_656].node,_657=zone.childNodes.length;if(typeof p==="undefined"||p>_657){p=_657;}if(this._disabled){_62f.place(_655.domNode,zone,p);_630.set(_655.domNode,"tabIndex","0");}else{if(!_655.dragRestriction){this._dragManager.addDragItem(zone,_655.domNode,p,true);}else{_62f.place(_655.domNode,zone,p);_630.set(_655.domNode,"tabIndex","0");}}_655.set("column",_656);return _655;},removeChild:function(_658){if(this._disabled){this.inherited(arguments);}else{this._dragManager.removeDragItem(_658.domNode.parentNode,_658.domNode);}},addService:function(_659,_65a,p){kernel.deprecated("addService is deprecated.","Please use  instead.","Future");this.addChild(_659,_65a,p);},addChild:function(_65b,_65c,p){_65b.domNode.id=_65b.id;dojox.layout.GridContainerLite.superclass.addChild.call(this,_65b,0);if(_65c<0||_65c==undefined){_65c=0;}if(p<=0){p=0;}try{return this._insertChild(_65b,_65c,p);}catch(e){console.error("Unable to insert child in GridContainer",e);}return null;},_setColWidthsAttr:function(_65d){this.colWidths=lang.isString(_65d)?_65d.split(","):(lang.isArray(_65d)?_65d:[_65d]);if(this._started){this._updateColumnsWidth();}},_updateColumnsWidth:function(_65e){var _65f=this._grid.length;var _660=this.colWidths||[];var _661=[];var _662;var _663=0;var i;for(i=0;i<_65f;i++){if(_661.length<_660.length){_663+=_660[i]*1;_661.push(_660[i]);}else{if(!_662){_662=(100-_663)/(this.nbZones-i);if(_662<0){_662=100/this.nbZones;}}_661.push(_662);_663+=_662*1;}}if(_663>100){var _664=100/_663;for(i=0;i<_661.length;i++){_661[i]*=_664;}}for(i=0;i<_65f;i++){this._grid[i].node.style.width=_661[i]+"%";}},_selectFocus:function(_665){if(this._disabled){return;}var key=_665.keyCode,k=keys,zone=null,_666=_636.getFocus(),_667=_666.node,m=this._dragManager,_668,i,j,r,_669,area,_66a;if(_667==this.containerNode){area=this.gridNode.childNodes;switch(key){case k.DOWN_ARROW:case k.RIGHT_ARROW:_668=false;for(i=0;i<area.length;i++){_669=area[i].childNodes;for(j=0;j<_669.length;j++){zone=_669[j];if(zone!=null&&zone.style.display!="none"){_635.focus(zone);_632.stop(_665);_668=true;break;}}if(_668){break;}}break;case k.UP_ARROW:case k.LEFT_ARROW:area=this.gridNode.childNodes;_668=false;for(i=area.length-1;i>=0;i--){_669=area[i].childNodes;for(j=_669.length;j>=0;j--){zone=_669[j];if(zone!=null&&zone.style.display!="none"){_635.focus(zone);_632.stop(_665);_668=true;break;}}if(_668){break;}}break;}}else{if(_667.parentNode.parentNode==this.gridNode){var _66b=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"lastChild":"firstChild";var pos=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"previousSibling":"nextSibling";switch(key){case k.UP_ARROW:case k.DOWN_ARROW:_632.stop(_665);_668=false;var _66c=_667;while(!_668){_669=_66c.parentNode.childNodes;var num=0;for(i=0;i<_669.length;i++){if(_669[i].style.display!="none"){num++;}if(num>1){break;}}if(num==1){return;}if(_66c[pos]==null){zone=_66c.parentNode[_66b];}else{zone=_66c[pos];}if(zone.style.display==="none"){_66c=zone;}else{_668=true;}}if(_665.shiftKey){var _66d=_667.parentNode;for(i=0;i<this.gridNode.childNodes.length;i++){if(_66d==this.gridNode.childNodes[i]){break;}}_669=this.gridNode.childNodes[i].childNodes;for(j=0;j<_669.length;j++){if(zone==_669[j]){break;}}if(has("mozilla")||has("webkit")){i--;}_66a=_634.byNode(_667);if(!_66a.dragRestriction){r=m.removeDragItem(_66d,_667);this.addChild(_66a,i,j);_630.set(_667,"tabIndex","0");_635.focus(_667);}else{_633.publish("/dojox/layout/gridContainer/moveRestriction",this);}}else{_635.focus(zone);}break;case k.RIGHT_ARROW:case k.LEFT_ARROW:_632.stop(_665);if(_665.shiftKey){var z=0;if(_667.parentNode[pos]==null){if(has("ie")&&key==k.LEFT_ARROW){z=this.gridNode.childNodes.length-1;}}else{if(_667.parentNode[pos].nodeType==3){z=this.gridNode.childNodes.length-2;}else{for(i=0;i<this.gridNode.childNodes.length;i++){if(_667.parentNode[pos]==this.gridNode.childNodes[i]){break;}z++;}if(has("mozilla")||has("webkit")){z--;}}}_66a=_634.byNode(_667);var _66e=_667.getAttribute("dndtype");if(_66e==null){if(_66a&&_66a.dndType){_66e=_66a.dndType.split(/\s*,\s*/);}else{_66e=["text"];}}else{_66e=_66e.split(/\s*,\s*/);}var _66f=false;for(i=0;i<this.acceptTypes.length;i++){for(j=0;j<_66e.length;j++){if(_66e[j]==this.acceptTypes[i]){_66f=true;break;}}}if(_66f&&!_66a.dragRestriction){var _670=_667.parentNode,_671=0;if(k.LEFT_ARROW==key){var t=z;if(has("mozilla")||has("webkit")){t=z+1;}_671=this.gridNode.childNodes[t].childNodes.length;}r=m.removeDragItem(_670,_667);this.addChild(_66a,z,_671);_630.set(r,"tabIndex","0");_635.focus(r);}else{_633.publish("/dojox/layout/gridContainer/moveRestriction",this);}}else{var node=_667.parentNode;while(zone===null){if(node[pos]!==null&&node[pos].nodeType!==3){node=node[pos];}else{if(pos==="previousSibling"){node=node.parentNode.childNodes[node.parentNode.childNodes.length-1];}else{node=node.parentNode.childNodes[has("ie")?0:1];}}zone=node[_66b];if(zone&&zone.style.display=="none"){_669=zone.parentNode.childNodes;var _672=null;if(pos=="previousSibling"){for(i=_669.length-1;i>=0;i--){if(_669[i].style.display!="none"){_672=_669[i];break;}}}else{for(i=0;i<_669.length;i++){if(_669[i].style.display!="none"){_672=_669[i];break;}}}if(!_672){_667=zone;node=_667.parentNode;zone=null;}else{zone=_672;}}}_635.focus(zone);}break;}}}},destroy:function(){var m=this._dragManager;_631.forEach(this._grid,function(_673){m.unregister(_673.node);});this.inherited(arguments);}});gcl.ChildWidgetProperties={column:"1",dragRestriction:false};lang.extend(_637,gcl.ChildWidgetProperties);return gcl;});},"url:dojox/layout/resources/GridContainer.html":"<div id=\"${id}\" class=\"gridContainer\" dojoAttachPoint=\"containerNode\" tabIndex=\"0\" dojoAttachEvent=\"onkeypress:_selectFocus\">\n\t<div dojoAttachPoint=\"gridContainerDiv\">\n\t\t<table class=\"gridContainerTable\" dojoAttachPoint=\"gridContainerTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t<tbody>\n\t\t\t\t<tr dojoAttachPoint=\"gridNode\" >\n\t\t\t\t\t\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>","dijit/_base/focus":function(){define("dijit/_base/focus",["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../main"],function(_674,dom,lang,_675,win,_676,_677){var _678={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _677.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=win.doc.selection,cf=_676.curNode;if(win.global.getSelection){sel=win.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_679){var _67a=win.doc,mark=_679.mark;if(mark){if(win.global.getSelection){var sel=win.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_67a.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=_67a.body.createControlRange();_674.forEach(mark,function(n){rg.addElement(n);});}else{rg=_67a.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_67b){var node=!_676.curNode||(menu&&dom.isDescendant(_676.curNode,menu.domNode))?_677._prevFocus:_676.curNode;return {node:node,bookmark:node&&(node==_676.curNode)&&win.withGlobal(_67b||win.global,_677.getBookmark),openedForWindow:_67b};},_activeStack:[],registerIframe:function(_67c){return _676.registerIframe(_67c);},unregisterIframe:function(_67d){_67d&&_67d.remove();},registerWin:function(_67e,_67f){return _676.registerWin(_67e,_67f);},unregisterWin:function(_680){_680&&_680.remove();}};_676.focus=function(_681){if(!_681){return;}var node="node" in _681?_681.node:_681,_682=_681.bookmark,_683=_681.openedForWindow,_684=_682?_682.isCollapsed:false;if(node){var _685=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_685&&_685.focus){try{_685.focus();}catch(e){}}_676._onFocusNode(node);}if(_682&&win.withGlobal(_683||win.global,_677.isCollapsed)&&!_684){if(_683){_683.focus();}try{win.withGlobal(_683||win.global,_677.moveToBookmark,null,[_682]);}catch(e2){}}};_676.watch("curNode",function(name,_686,_687){_677._curFocus=_687;_677._prevFocus=_686;if(_687){_675.publish("focusNode",_687);}});_676.watch("activeStack",function(name,_688,_689){_677._activeStack=_689;});_676.on("widget-blur",function(_68a,by){_675.publish("widgetBlur",_68a,by);});_676.on("widget-focus",function(_68b,by){_675.publish("widgetFocus",_68b,by);});lang.mixin(_677,_678);return _677;});},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_68c,_68d,_68e,_68f,_690,_691,_692,_693){return _690("dijit.layout._LayoutWidget",[_68c,_68d,_68e],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_691.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _694=this.getParent&&this.getParent();if(!(_694&&_694.isLayoutContainer)){this.resize();this.own(_68f.on("resize",lang.hitch(this,"resize")));}},resize:function(_695,_696){var node=this.domNode;if(_695){_692.setMarginBox(node,_695);}var mb=_696||{};lang.mixin(mb,_695||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_692.getMarginBox(node),mb);}var cs=_693.getComputedStyle(node);var me=_692.getMarginExtents(node,cs);var be=_692.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_692.getPadExtents(node,cs);this._contentBox={l:_693.toPixelValue(node,cs.paddingLeft),t:_693.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_697){var cls=this.baseClass+"-child "+(_697.baseClass?this.baseClass+"-"+_697.baseClass:"");_691.add(_697.domNode,cls);},addChild:function(_698,_699){this.inherited(arguments);if(this._started){this._setupChild(_698);}},removeChild:function(_69a){var cls=this.baseClass+"-child"+(_69a.baseClass?" "+this.baseClass+"-"+_69a.baseClass:"");_691.remove(_69a.domNode,cls);this.inherited(arguments);}});});},"dojox/mdnd/AreaManager":function(){define("dojox/mdnd/AreaManager",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/window","dojo/_base/array","dojo/_base/sniff","dojo/_base/lang","dojo/query","dojo/topic","dojo/dom-class","dojo/dom-geometry","dojo/dom-construct","dijit/registry","dijit/_Widget","./Moveable"],function(dojo,_69b,_69c,win,_69d,_69e,lang,_69f,_6a0,_6a1,geom,_6a2,_6a3,_6a4,_6a5){var am=_69b("dojox.mdnd.AreaManager",null,{autoRefresh:true,areaClass:"dojoxDndArea",dragHandleClass:"dojoxDragHandle",constructor:function(){this._areaList=[];this.resizeHandler=_69c.connect(dojo.global,"onresize",this,function(){this._dropMode.updateAreas(this._areaList);});this._oldIndexArea=this._currentIndexArea=this._oldDropIndex=this._currentDropIndex=this._sourceIndexArea=this._sourceDropIndex=-1;},init:function(){this.registerByClass();},registerByNode:function(area,_6a6){var _6a7=this._getIndexArea(area);if(area&&_6a7==-1){var _6a8=area.getAttribute("accept");var _6a9=(_6a8)?_6a8.split(/\s*,\s*/):["text"];var obj={"node":area,"items":[],"coords":{},"margin":null,"accept":_6a9,"initItems":false};_69d.forEach(this._getChildren(area),function(item){this._setMarginArea(obj,item);obj.items.push(this._addMoveableItem(item));},this);this._areaList=this._dropMode.addArea(this._areaList,obj);if(!_6a6){this._dropMode.updateAreas(this._areaList);}_69c.publish("/dojox/mdnd/manager/register",[area]);}},registerByClass:function(){_69f("."+this.areaClass).forEach(function(area){this.registerByNode(area,true);},this);this._dropMode.updateAreas(this._areaList);},unregister:function(area){var _6aa=this._getIndexArea(area);if(_6aa!=-1){_69d.forEach(this._areaList[_6aa].items,function(item){this._deleteMoveableItem(item);},this);this._areaList.splice(_6aa,1);this._dropMode.updateAreas(this._areaList);return true;}return false;},_addMoveableItem:function(node){node.setAttribute("tabIndex","0");var _6ab=this._searchDragHandle(node);var _6ac=new _6a5({"handle":_6ab,"skip":true},node);_6a1.add(_6ab||node,"dragHandle");var type=node.getAttribute("dndType");var item={"item":_6ac,"type":type?type.split(/\s*,\s*/):["text"],"handlers":[_69c.connect(_6ac,"onDragStart",this,"onDragStart")]};if(_6a3&&_6a3.byNode){var _6ad=_6a3.byNode(node);if(_6ad){item.type=_6ad.dndType?_6ad.dndType.split(/\s*,\s*/):["text"];item.handlers.push(_69c.connect(_6ad,"uninitialize",this,function(){this.removeDragItem(node.parentNode,_6ac.node);}));}}return item;},_deleteMoveableItem:function(_6ae){_69d.forEach(_6ae.handlers,function(_6af){_69c.disconnect(_6af);});var node=_6ae.item.node,_6b0=this._searchDragHandle(node);_6a1.remove(_6b0||node,"dragHandle");_6ae.item.destroy();},_getIndexArea:function(area){if(area){for(var i=0;i<this._areaList.length;i++){if(this._areaList[i].node===area){return i;}}}return -1;},_searchDragHandle:function(node){if(node){var _6b1=this.dragHandleClass.split(" "),_6b2=_6b1.length,_6b3="";_69d.forEach(_6b1,function(css,i){_6b3+="."+css;if(i!=_6b2-1){_6b3+=", ";}});return _69f(_6b3,node)[0];}},addDragItem:function(area,node,_6b4,_6b5){var add=true;if(!_6b5){add=area&&node&&(node.parentNode===null||(node.parentNode&&node.parentNode.nodeType!==1));}if(add){var _6b6=this._getIndexArea(area);if(_6b6!==-1){var item=this._addMoveableItem(node),_6b7=this._areaList[_6b6].items;if(0<=_6b4&&_6b4<_6b7.length){var _6b8=_6b7.slice(0,_6b4),_6b9=_6b7.slice(_6b4,_6b7.length);_6b8[_6b8.length]=item;this._areaList[_6b6].items=_6b8.concat(_6b9);area.insertBefore(node,_6b7[_6b4].item.node);}else{this._areaList[_6b6].items.push(item);area.appendChild(node);}this._setMarginArea(this._areaList[_6b6],node);this._areaList[_6b6].initItems=false;return true;}}return false;},removeDragItem:function(area,node){var _6ba=this._getIndexArea(area);if(area&&_6ba!==-1){var _6bb=this._areaList[_6ba].items;for(var j=0;j<_6bb.length;j++){if(_6bb[j].item.node===node){this._deleteMoveableItem(_6bb[j]);_6bb.splice(j,1);return area.removeChild(node);}}}return null;},_getChildren:function(area){var _6bc=[];_69d.forEach(area.childNodes,function(_6bd){if(_6bd.nodeType==1){if(_6a3&&_6a3.byNode){var _6be=_6a3.byNode(_6bd);if(_6be){if(!_6be.dragRestriction){_6bc.push(_6bd);}}else{_6bc.push(_6bd);}}else{_6bc.push(_6bd);}}});return _6bc;},_setMarginArea:function(area,node){if(area&&area.margin===null&&node){area.margin=geom.getMarginExtents(node);}},findCurrentIndexArea:function(_6bf,size){this._oldIndexArea=this._currentIndexArea;this._currentIndexArea=this._dropMode.getTargetArea(this._areaList,_6bf,this._currentIndexArea);if(this._currentIndexArea!=this._oldIndexArea){if(this._oldIndexArea!=-1){this.onDragExit(_6bf,size);}if(this._currentIndexArea!=-1){this.onDragEnter(_6bf,size);}}return this._currentIndexArea;},_isAccepted:function(type,_6c0){this._accept=false;for(var i=0;i<_6c0.length;++i){for(var j=0;j<type.length;++j){if(type[j]==_6c0[i]){this._accept=true;break;}}}},onDragStart:function(node,_6c1,size){if(this.autoRefresh){this._dropMode.updateAreas(this._areaList);}var _6c2=(_69e("webkit"))?dojo.body():dojo.body().parentNode;if(!this._cover){this._cover=_6a2.create("div",{"class":"dndCover"});this._cover2=lang.clone(this._cover);_6a1.add(this._cover2,"dndCover2");}var h=_6c2.scrollHeight+"px";this._cover.style.height=this._cover2.style.height=h;dojo.body().appendChild(this._cover);dojo.body().appendChild(this._cover2);this._dragStartHandler=_69c.connect(node.ownerDocument,"ondragstart",dojo,"stopEvent");this._sourceIndexArea=this._lastValidIndexArea=this._currentIndexArea=this._getIndexArea(node.parentNode);var _6c3=this._areaList[this._sourceIndexArea];var _6c4=_6c3.items;for(var i=0;i<_6c4.length;i++){if(_6c4[i].item.node==node){this._dragItem=_6c4[i];this._dragItem.handlers.push(_69c.connect(this._dragItem.item,"onDrag",this,"onDrag"));this._dragItem.handlers.push(_69c.connect(this._dragItem.item,"onDragEnd",this,"onDrop"));_6c4.splice(i,1);this._currentDropIndex=this._sourceDropIndex=i;break;}}var _6c5=null;if(this._sourceDropIndex!==_6c3.items.length){_6c5=_6c3.items[this._sourceDropIndex].item.node;}if(_69e("ie")>7){this._eventsIE7=[_69c.connect(this._cover,"onmouseover",dojo,"stopEvent"),_69c.connect(this._cover,"onmouseout",dojo,"stopEvent"),_69c.connect(this._cover,"onmouseenter",dojo,"stopEvent"),_69c.connect(this._cover,"onmouseleave",dojo,"stopEvent")];}var s=node.style;s.left=_6c1.x+"px";s.top=_6c1.y+"px";if(s.position=="relative"||s.position==""){s.position="absolute";}this._cover.appendChild(node);this._dropIndicator.place(_6c3.node,_6c5,size);_6a1.add(node,"dragNode");this._accept=true;_69c.publish("/dojox/mdnd/drag/start",[node,_6c3,this._sourceDropIndex]);},onDragEnter:function(_6c6,size){if(this._currentIndexArea===this._sourceIndexArea){this._accept=true;}else{this._isAccepted(this._dragItem.type,this._areaList[this._currentIndexArea].accept);}},onDragExit:function(_6c7,size){this._accept=false;},onDrag:function(node,_6c8,size,_6c9){var _6ca=this._dropMode.getDragPoint(_6c8,size,_6c9);this.findCurrentIndexArea(_6ca,size);if(this._currentIndexArea!==-1&&this._accept){this.placeDropIndicator(_6ca,size);}},placeDropIndicator:function(_6cb,size){this._oldDropIndex=this._currentDropIndex;var area=this._areaList[this._currentIndexArea];if(!area.initItems){this._dropMode.initItems(area);}this._currentDropIndex=this._dropMode.getDropIndex(area,_6cb);if(!(this._currentIndexArea===this._oldIndexArea&&this._oldDropIndex===this._currentDropIndex)){this._placeDropIndicator(size);}return this._currentDropIndex;},_placeDropIndicator:function(size){var _6cc=this._areaList[this._lastValidIndexArea];var _6cd=this._areaList[this._currentIndexArea];this._dropMode.refreshItems(_6cc,this._oldDropIndex,size,false);var node=null;if(this._currentDropIndex!=-1){node=_6cd.items[this._currentDropIndex].item.node;}this._dropIndicator.place(_6cd.node,node);this._lastValidIndexArea=this._currentIndexArea;this._dropMode.refreshItems(_6cd,this._currentDropIndex,size,true);},onDropCancel:function(){if(!this._accept){var _6ce=this._getIndexArea(this._dropIndicator.node.parentNode);if(_6ce!=-1){this._currentIndexArea=_6ce;}else{this._currentIndexArea=0;}}},onDrop:function(node){this.onDropCancel();var _6cf=this._areaList[this._currentIndexArea];_6a1.remove(node,"dragNode");var _6d0=node.style;_6d0.position="relative";_6d0.left="0";_6d0.top="0";_6d0.width="auto";if(_6cf.node==this._dropIndicator.node.parentNode){_6cf.node.insertBefore(node,this._dropIndicator.node);}else{_6cf.node.appendChild(node);this._currentDropIndex=_6cf.items.length;}var _6d1=this._currentDropIndex;if(_6d1==-1){_6d1=_6cf.items.length;}var _6d2=_6cf.items;var _6d3=_6d2.slice(0,_6d1);var _6d4=_6d2.slice(_6d1,_6d2.length);_6d3[_6d3.length]=this._dragItem;_6cf.items=_6d3.concat(_6d4);this._setMarginArea(_6cf,node);_69d.forEach(this._areaList,function(obj){obj.initItems=false;});_69c.disconnect(this._dragItem.handlers.pop());_69c.disconnect(this._dragItem.handlers.pop());this._resetAfterDrop();if(this._cover){dojo.body().removeChild(this._cover);dojo.body().removeChild(this._cover2);}_69c.publish("/dojox/mdnd/drop",[node,_6cf,_6d1]);},_resetAfterDrop:function(){this._accept=false;this._dragItem=null;this._currentDropIndex=-1;this._currentIndexArea=-1;this._oldDropIndex=-1;this._sourceIndexArea=-1;this._sourceDropIndex=-1;this._dropIndicator.remove();if(this._dragStartHandler){_69c.disconnect(this._dragStartHandler);}if(_69e("ie")>7){_69d.forEach(this._eventsIE7,_69c.disconnect);}},destroy:function(){while(this._areaList.length>0){if(!this.unregister(this._areaList[0].node)){throw new Error("Error while destroying AreaManager");}}_69c.disconnect(this.resizeHandler);this._dropIndicator.destroy();this._dropMode.destroy();if(dojox.mdnd.autoScroll){dojox.mdnd.autoScroll.destroy();}if(this.refreshListener){_69c.unsubscribe(this.refreshListener);}if(this._cover){_6a2.destroy(this._cover);_6a2.destroy(this._cover2);delete this._cover;delete this._cover2;}}});if(_6a4){lang.extend(_6a4,{dndType:"text"});}dojox.mdnd._areaManager=null;dojox.mdnd.areaManager=function(){if(!dojox.mdnd._areaManager){dojox.mdnd._areaManager=new dojox.mdnd.AreaManager();}return dojox.mdnd._areaManager;};return am;});},"dojox/mdnd/Moveable":function(){define("dojox/mdnd/Moveable",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/_base/window"],function(dojo,_6d5,_6d6,_6d7,_6d8,_6d9,dom,geom,_6da){return _6d5("dojox.mdnd.Moveable",null,{handle:null,skip:true,dragDistance:3,constructor:function(_6db,node){this.node=dom.byId(node);this.d=this.node.ownerDocument;if(!_6db){_6db={};}this.handle=_6db.handle?dom.byId(_6db.handle):null;if(!this.handle){this.handle=this.node;}this.skip=_6db.skip;this.events=[_6d7.connect(this.handle,"onmousedown",this,"onMouseDown")];if(dojox.mdnd.autoScroll){this.autoScroll=dojox.mdnd.autoScroll;}},isFormElement:function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;},onMouseDown:function(e){if(this._isDragging){return;}var _6dc=(e.which||e.button)==1;if(!_6dc){return;}if(this.skip&&this.isFormElement(e)){return;}if(this.autoScroll){this.autoScroll.setAutoScrollNode(this.node);this.autoScroll.setAutoScrollMaxPage();}this.events.push(_6d7.connect(this.d,"onmouseup",this,"onMouseUp"));this.events.push(_6d7.connect(this.d,"onmousemove",this,"onFirstMove"));this._selectStart=_6d7.connect(dojo.body(),"onselectstart",_6d8.stop);this._firstX=e.clientX;this._firstY=e.clientY;_6d8.stop(e);},onFirstMove:function(e){_6d8.stop(e);var d=(this._firstX-e.clientX)*(this._firstX-e.clientX)+(this._firstY-e.clientY)*(this._firstY-e.clientY);if(d>this.dragDistance*this.dragDistance){this._isDragging=true;_6d7.disconnect(this.events.pop());_6da.set(this.node,"width",geom.getContentBox(this.node).w+"px");this.initOffsetDrag(e);this.events.push(_6d7.connect(this.d,"onmousemove",this,"onMove"));}},initOffsetDrag:function(e){this.offsetDrag={"l":e.pageX,"t":e.pageY};var s=this.node.style;var _6dd=geom.position(this.node,true);this.offsetDrag.l=_6dd.x-this.offsetDrag.l;this.offsetDrag.t=_6dd.y-this.offsetDrag.t;var _6de={"x":_6dd.x,"y":_6dd.y};this.size={"w":_6dd.w,"h":_6dd.h};this.onDragStart(this.node,_6de,this.size);},onMove:function(e){_6d8.stop(e);if(_6d9("ie")==8&&new Date()-this.date<20){return;}if(this.autoScroll){this.autoScroll.checkAutoScroll(e);}var _6df={"x":this.offsetDrag.l+e.pageX,"y":this.offsetDrag.t+e.pageY};var s=this.node.style;s.left=_6df.x+"px";s.top=_6df.y+"px";this.onDrag(this.node,_6df,this.size,{"x":e.pageX,"y":e.pageY});if(_6d9("ie")==8){this.date=new Date();}},onMouseUp:function(e){if(this._isDragging){_6d8.stop(e);this._isDragging=false;if(this.autoScroll){this.autoScroll.stopAutoScroll();}delete this.onMove;this.onDragEnd(this.node);this.node.focus();}_6d7.disconnect(this.events.pop());_6d7.disconnect(this.events.pop());},onDragStart:function(node,_6e0,size){},onDragEnd:function(node){},onDrag:function(node,_6e1,size,_6e2){},destroy:function(){_6d6.forEach(this.events,_6d7.disconnect);this.events=this.node=null;}});});},"dojox/mdnd/DropIndicator":function(){define("dojox/mdnd/DropIndicator",["dojo/_base/kernel","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","./AreaManager"],function(dojo,_6e3,_6e4,_6e5){var di=_6e3("dojox.mdnd.DropIndicator",null,{node:null,constructor:function(){var _6e6=document.createElement("div");var _6e7=document.createElement("div");_6e6.appendChild(_6e7);_6e4.add(_6e6,"dropIndicator");this.node=_6e6;},place:function(area,_6e8,size){if(size){this.node.style.height=size.h+"px";}try{if(_6e8){area.insertBefore(this.node,_6e8);}else{area.appendChild(this.node);}return this.node;}catch(e){return null;}},remove:function(){if(this.node){this.node.style.height="";if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}}},destroy:function(){if(this.node){if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}_6e5.destroy(this.node);delete this.node;}}});dojox.mdnd.areaManager()._dropIndicator=new dojox.mdnd.DropIndicator();return di;});},"dojox/mdnd/dropMode/OverDropMode":function(){define("dojox/mdnd/dropMode/OverDropMode",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/array","dojo/dom-geometry","dojox/mdnd/AreaManager"],function(dojo,_6e9,_6ea,_6eb,geom){var odm=_6e9("dojox.mdnd.dropMode.OverDropMode",null,{_oldXPoint:null,_oldYPoint:null,_oldBehaviour:"up",constructor:function(){this._dragHandler=[_6ea.connect(dojox.mdnd.areaManager(),"onDragEnter",function(_6ec,size){var m=dojox.mdnd.areaManager();if(m._oldIndexArea==-1){m._oldIndexArea=m._lastValidIndexArea;}})];},addArea:function(_6ed,_6ee){var _6ef=_6ed.length,_6f0=geom.position(_6ee.node,true);_6ee.coords={"x":_6f0.x,"y":_6f0.y};if(_6ef==0){_6ed.push(_6ee);}else{var x=_6ee.coords.x;for(var i=0;i<_6ef;i++){if(x<_6ed[i].coords.x){for(var j=_6ef-1;j>=i;j--){_6ed[j+1]=_6ed[j];}_6ed[i]=_6ee;break;}}if(i==_6ef){_6ed.push(_6ee);}}return _6ed;},updateAreas:function(_6f1){var _6f2=_6f1.length;for(var i=0;i<_6f2;i++){this._updateArea(_6f1[i]);}},_updateArea:function(area){var _6f3=geom.position(area.node,true);area.coords.x=_6f3.x;area.coords.x2=_6f3.x+_6f3.w;area.coords.y=_6f3.y;},initItems:function(area){_6eb.forEach(area.items,function(obj){var node=obj.item.node;var _6f4=geom.position(node,true);var y=_6f4.y+_6f4.h/2;obj.y=y;});area.initItems=true;},refreshItems:function(area,_6f5,size,_6f6){if(_6f5==-1){return;}else{if(area&&size&&size.h){var _6f7=size.h;if(area.margin){_6f7+=area.margin.t;}var _6f8=area.items.length;for(var i=_6f5;i<_6f8;i++){var item=area.items[i];if(_6f6){item.y+=_6f7;}else{item.y-=_6f7;}}}}},getDragPoint:function(_6f9,size,_6fa){return {"x":_6fa.x,"y":_6fa.y};},getTargetArea:function(_6fb,_6fc,_6fd){var _6fe=0;var x=_6fc.x;var y=_6fc.y;var end=_6fb.length;var _6ff=0,_700="right",_701=false;if(_6fd==-1||arguments.length<3){_701=true;}else{if(this._checkInterval(_6fb,_6fd,x,y)){_6fe=_6fd;}else{if(this._oldXPoint<x){_6ff=_6fd+1;}else{_6ff=_6fd-1;end=0;_700="left";}_701=true;}}if(_701){if(_700==="right"){for(var i=_6ff;i<end;i++){if(this._checkInterval(_6fb,i,x,y)){_6fe=i;break;}}if(i==end){_6fe=-1;}}else{for(var i=_6ff;i>=end;i--){if(this._checkInterval(_6fb,i,x,y)){_6fe=i;break;}}if(i==end-1){_6fe=-1;}}}this._oldXPoint=x;return _6fe;},_checkInterval:function(_702,_703,x,y){var area=_702[_703];var node=area.node;var _704=area.coords;var _705=_704.x;var endX=_704.x2;var _706=_704.y;var endY=_706+node.offsetHeight;if(_705<=x&&x<=endX&&_706<=y&&y<=endY){return true;}return false;},getDropIndex:function(_707,_708){var _709=_707.items.length;var _70a=_707.coords;var y=_708.y;if(_709>0){for(var i=0;i<_709;i++){if(y<_707.items[i].y){return i;}else{if(i==_709-1){return -1;}}}}return -1;},destroy:function(){_6eb.forEach(this._dragHandler,_6ea.disconnect);}});dojox.mdnd.areaManager()._dropMode=new dojox.mdnd.dropMode.OverDropMode();return odm;});},"dojox/mdnd/AutoScroll":function(){define("dojox/mdnd/AutoScroll",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/ready","dojo/_base/window"],function(dojo,_70b,lang,_70c,_70d,_70e){var as=_70b("dojox.mdnd.AutoScroll",null,{interval:3,recursiveTimer:10,marginMouse:50,constructor:function(){this.resizeHandler=_70c.connect(dojo.global,"onresize",this,function(){this.getViewport();});_70e(lang.hitch(this,"init"));},init:function(){this._html=(_70d("webkit"))?dojo.body():dojo.body().parentNode;this.getViewport();},getViewport:function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){this._v={"w":dd.clientWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){this._v={"w":w.innerWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){this._v={"w":dd.clientWidth,"h":dd.clientHeight};}else{if(b.clientWidth){this._v={"w":b.clientWidth,"h":b.clientHeight};}}}}},setAutoScrollNode:function(node){this._node=node;},setAutoScrollMaxPage:function(){this._yMax=this._html.scrollHeight;this._xMax=this._html.scrollWidth;},checkAutoScroll:function(e){if(this._autoScrollActive){this.stopAutoScroll();}this._y=e.pageY;this._x=e.pageX;if(e.clientX<this.marginMouse){this._autoScrollActive=true;this._autoScrollLeft(e);}else{if(e.clientX>this._v.w-this.marginMouse){this._autoScrollActive=true;this._autoScrollRight(e);}}if(e.clientY<this.marginMouse){this._autoScrollActive=true;this._autoScrollUp(e);}else{if(e.clientY>this._v.h-this.marginMouse){this._autoScrollActive=true;this._autoScrollDown();}}},_autoScrollDown:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y+this.marginMouse<this._yMax){this._html.scrollTop+=this.interval;this._node.style.top=(parseInt(this._node.style.top)+this.interval)+"px";this._y+=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollDown"),this.recursiveTimer);}},_autoScrollUp:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y-this.marginMouse>0){this._html.scrollTop-=this.interval;this._node.style.top=(parseInt(this._node.style.top)-this.interval)+"px";this._y-=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollUp"),this.recursiveTimer);}},_autoScrollRight:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x+this.marginMouse<this._xMax){this._html.scrollLeft+=this.interval;this._node.style.left=(parseInt(this._node.style.left)+this.interval)+"px";this._x+=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollRight"),this.recursiveTimer);}},_autoScrollLeft:function(e){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x-this.marginMouse>0){this._html.scrollLeft-=this.interval;this._node.style.left=(parseInt(this._node.style.left)-this.interval)+"px";this._x-=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollLeft"),this.recursiveTimer);}},stopAutoScroll:function(){if(this._timer){clearTimeout(this._timer);}this._autoScrollActive=false;},destroy:function(){_70c.disconnect(this.resizeHandler);}});dojox.mdnd.autoScroll=null;dojox.mdnd.autoScroll=new dojox.mdnd.AutoScroll();return as;});},"epi/shell/widget/ToolbarDropDownButton":function(){define(["dojo","dojo/dom-style","dijit/form/DropDownButton","dijit/Menu"],function(dojo,_70f,_710,Menu){return dojo.declare([_710],{constructor:function(){this.dropDown=new Menu();},buildRendering:function(){this.inherited(arguments);this._setVisibility();},addChild:function(_711,_712){if(!_711.separator){_711.set("separator","dijit/MenuSeparator");}var _713=this.dropDown.addChild(_711,_712);this._setVisibility();return _713;},getChildren:function(){return this.dropDown.getChildren();},removeChild:function(_714){var _715=this.dropDown.removeChild(_714);this._setVisibility();return _715;},_setVisibility:function(){if(this.hasChildren()){_70f.set(this.domNode,"display","");}else{_70f.set(this.domNode,"display","none");}}});});},"dijit/form/DropDownButton":function(){require({cache:{"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n"}});define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_716,lang,_717,_718,_719,_71a,_71b,_71c,_71d){return _716("dijit.form.DropDownButton",[_71a,_71b,_71c],{baseClass:"dijitDropDownButton",templateString:_71d,_fillContent:function(){if(this.srcNodeRef){var _71e=_717("*",this.srcNodeRef);this.inherited(arguments,[_71e[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _71f=_717("[widgetId]",this.dropDownContainer)[0];this.dropDown=_718.byNode(_71f);delete this.dropDownContainer;}if(this.dropDown){_719.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _720=this.dropDown;return (!!_720&&(!_720.href||_720.isLoaded));},loadDropDown:function(_721){var _722=this.dropDown;var _723=_722.on("load",lang.hitch(this,function(){_723.remove();_721();}));_722.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/_HasDropDown":function(){define("dijit/_HasDropDown",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./registry","./focus","./popup","./_FocusMixin","./Viewport"],function(_724,_725,_726,dom,_727,_728,_729,_72a,has,keys,lang,on,_72b,_72c,_72d,_72e,_72f){return _724("dijit._HasDropDown",_72e,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"&&e.type!="pointerdown"){e.preventDefault();}this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _730=this.dropDown,_731=false;if(e&&this._opened){var c=_729.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_731){if(_728.contains(t,"dijitPopup")){_731=true;}else{t=t.parentNode;}}if(_731){t=e.target;if(_730.onItemClick){var _732;while(t&&!(_732=_72b.byNode(t))){t=t.parentNode;}if(_732&&_732.onClick&&_732.getParent){_732.getParent().onItemClick(_732,e);}}return;}}}if(this._opened){if(_730.focus&&(_730.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_730.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}if(has("touch")){this._justGotMouseUp=true;this.defer(function(){this._justGotMouseUp=false;});}},_onDropDownClick:function(e){if(has("touch")&&!this._justGotMouseUp){this._onDropDownMouseDown(e);this._onDropDownMouseUp(e);}if(this._stopClickEvents){_726.stop(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _733={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_728.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_733+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _734=this.focusNode||this.domNode;this.own(on(this._buttonNode,"mousedown",lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_734,"keydown",lang.hitch(this,"_onKey")),on(_734,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_735=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){_726.stop(e);return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();_726.stop(e);}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||e.keyCode==keys.SPACE)&&((_735.tagName||"").toLowerCase()!=="input"||(_735.type&&_735.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;_726.stop(e);}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){var _736=_72c.curNode&&this.dropDown&&dom.isDescendant(_72c.curNode,this.dropDown.domNode);this.closeDropDown(_736);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_737){_737();},loadAndOpenDropDown:function(){var d=new _725(),_738=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_738);}else{_738();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown();}},openDropDown:function(){var _739=this.dropDown,_73a=_739.domNode,_73b=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_73a.style.width){this._explicitDDWidth=true;}if(_73a.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _73c={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_73c.width="";}if(!this._explicitDDHeight){_73c.height="";}_72a.set(_73a,_73c);var _73d=this.maxHeight;if(_73d==-1){var _73e=_72f.getEffectiveBox(this.ownerDocument),_73f=_729.position(_73b,false);_73d=Math.floor(Math.max(_73f.y,_73e.h-(_73f.y+_73f.h)));}_72d.moveOffScreen(_739);if(_739.startup&&!_739._started){_739.startup();}var mb=_729.getMarginSize(_73a);var _740=(_73d&&mb.h>_73d);_72a.set(_73a,{overflow:_740?"auto":"visible"});if(_740){mb.h=_73d;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_73b.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_73b.offsetWidth);}else{delete mb.w;}}if(lang.isFunction(_739.resize)){_739.resize(mb);}else{_729.setMarginBox(_73a,mb);}}var _741=_72d.open({parent:this,popup:_739,around:_73b,orient:this.dropDownPosition,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_727.set(self._popupStateNode,"popupActive",false);_728.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});_727.set(this._popupStateNode,"popupActive","true");_728.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_739.id);if(_73a.getAttribute("role")!=="presentation"&&!_73a.getAttribute("aria-labelledby")){_73a.setAttribute("aria-labelledby",this.id);}return _741;},closeDropDown:function(_742){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(_742){this.focus();}_72d.close(this.dropDown);this._opened=false;}}});});},"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n","dijit/CheckedMenuItem":function(){require({cache:{"url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\" aria-checked=\"${checked}\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n"}});define("dijit/CheckedMenuItem",["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_743,_744,_745,_746){return _743("dijit.CheckedMenuItem",_745,{templateString:_746,checked:false,_setCheckedAttr:function(_747){_744.toggle(this.domNode,"dijitCheckedMenuItemChecked",_747);this.domNode.setAttribute("aria-checked",_747?"true":"false");this._set("checked",_747);},iconClass:"",onChange:function(){},_onClick:function(evt){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.onClick(evt);}});});},"dijit/MenuItem":function(){require({cache:{"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"}});define("dijit/MenuItem",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_748,dom,_749,_74a,_74b,has,_74c,_74d,_74e,_74f,_750){return _748("dijit.MenuItem",[_74c,_74d,_74e,_74f],{templateString:_750,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this.containerNode.innerHTML=val;this._set("label",val);if(this.textDir==="auto"){this.applyTextDir(this.focusNode,this.label);}},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_751){if(_751&&!("label" in this.params)){this.set("label",_751.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _752=this.id+"_text";_749.set(this.containerNode,"id",_752);if(this.accelKeyNode){_749.set(this.accelKeyNode,"id",this.id+"_accel");_752+=" "+this.id+"_accel";}this.domNode.setAttribute("aria-labelledby",_752);dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_onFocus:function(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_753){_74a.toggle(this.domNode,"dijitMenuItemSelected",_753);},setLabel:function(_754){_74b.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_754);},setDisabled:function(_755){_74b.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_755);},_setDisabledAttr:function(_756){this.focusNode.setAttribute("aria-disabled",_756?"true":"false");this._set("disabled",_756);},_setAccelKeyAttr:function(_757){this.accelKeyNode.style.display=_757?"":"none";this.accelKeyNode.innerHTML=_757;_749.set(this.containerNode,"colSpan",_757?"1":"2");this._set("accelKey",_757);},_setTextDirAttr:function(_758){if(!this._created||this.textDir!=_758){this._set("textDir",_758);this.applyTextDir(this.focusNode,this.label);}}});});},"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n","url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\" aria-checked=\"${checked}\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n","dijit/form/ComboButton":function(){require({cache:{"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t/></td></tr></tbody\n></table>\n"}});define("dijit/form/ComboButton",["dojo/_base/declare","dojo/_base/event","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_759,_75a,keys,_75b,_75c,_75d){return _759("dijit.form.ComboButton",_75c,{templateString:_75d,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_75b.focus(this._popupStateNode);_75a.stop(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_75b.focus(this.titleNode);_75a.stop(evt);}},focus:function(_75e){if(!this.disabled){_75b.focus(_75e=="start"?this.titleNode:this._popupStateNode);}}});});},"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t/></td></tr></tbody\n></table>\n","dijit/form/RadioButton":function(){define("dijit/form/RadioButton",["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_75f,_760,_761){return _75f("dijit.form.RadioButton",[_760,_761],{baseClass:"dijitRadio"});});},"dijit/form/CheckBox":function(){require({cache:{"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n"}});define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom"],function(_762,_763,_764,has,_765,_766,_767,_768,_769){if(has("dijit-legacy-requires")){_766(0,function(){var _76a=["dijit/form/RadioButton"];_762(_76a);});}return _763("dijit.form.CheckBox",[_767,_768],{templateString:_769,baseClass:"dijitCheckBox",_setValueAttr:function(_76b,_76c){if(typeof _76b=="string"){this.inherited(arguments);_76b=true;}if(this._created){this.set("checked",_76b,_76c);}},_getValueAttr:function(){return (this.checked?this.value:false);},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting="";},_fillContent:function(){},_onFocus:function(){if(this.id){_765("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_765("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"dijit/form/ToggleButton":function(){define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_76d,_76e,_76f,_770){return _76d("dijit.form.ToggleButton",[_76f,_770],{baseClass:"dijitToggleButton",setChecked:function(_771){_76e.deprecated("setChecked("+_771+") is deprecated. Use set('checked',"+_771+") instead.","","2.0");this.set("checked",_771);}});});},"dijit/form/_ToggleButtonMixin":function(){define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(_772,_773){return _772("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _774=this.checked;this._set("checked",!_774);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_774);return ret;},_setCheckedAttr:function(_775,_776){this._set("checked",_775);var node=this.focusNode||this.domNode;if(this._created){if(_773.get(node,"checked")!=!!_775){_773.set(node,"checked",!!_775);}}node.setAttribute(this._aria_attr,String(_775));this._handleOnChange(_775,_776);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.checked;}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dijit/form/_CheckBoxMixin":function(){define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(_777,_778,_779){return _777("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_77a){this._set("readOnly",_77a);_778.set(this.focusNode,"readOnly",_77a);},_setLabelAttr:undefined,_getSubmitValue:function(_77b){return (_77b==null||_77b==="")?"on":_77b;},_setValueAttr:function(_77c){_77c=this._getSubmitValue(_77c);this._set("value",_77c);_778.set(this.focusNode,"value",_77c);},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));_778.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){_779.stop(e);return false;}return this.inherited(arguments);}});});},"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n","dijit/form/_RadioButtonMixin":function(){define("dijit/form/_RadioButtonMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/lang","dojo/query","../registry"],function(_77d,_77e,_77f,_780,lang,_781,_782){return _77e("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];_781("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_783){if(_783.name==this.name&&_783.form==this.focusNode.form){var _784=_782.getEnclosingWidget(_783);if(_784){ary.push(_784);}}}));return ary;},_setCheckedAttr:function(_785){this.inherited(arguments);if(!this._created){return;}if(_785){_77d.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_786){if(_786!=this&&_786.checked){_786.set("checked",false);}}));}},_getSubmitValue:function(_787){return _787==null?"on":_787;},_onClick:function(e){if(this.checked||this.disabled){_780.stop(e);return false;}if(this.readOnly){_780.stop(e);_77d.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_788){_77f.set(this.focusNode||this.domNode,"checked",_788.checked);}));return false;}return this.inherited(arguments);}});});},"epi/shell/widget/PopupMenuItem":function(){define(["dojo/_base/declare","dijit/_Container","dijit/Menu","dijit/PopupMenuItem"],function(_789,_78a,Menu,_78b){return _789([_78b,_78a],{constructor:function(){this.popup=new Menu();},addChild:function(_78c,_78d){return this.popup.addChild(_78c,_78d);},getChildren:function(){return this.popup.getChildren();},removeChild:function(_78e){return this.popup.removeChild(_78e);}});});},"dijit/PopupMenuItem":function(){define("dijit/PopupMenuItem",["dojo/_base/declare","dojo/dom-style","dojo/query","./registry","./MenuItem","./hccss"],function(_78f,_790,_791,_792,_793){return _78f("dijit.PopupMenuItem",_793,{_fillContent:function(){if(this.srcNodeRef){var _794=_791("*",this.srcNodeRef);this.inherited(arguments,[_794[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=_791("[widgetId]",this.dropDownContainer)[0];this.popup=_792.byNode(node);}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){_790.set(this.arrowWrapper,"visibility","");}this.focusNode.setAttribute("aria-haspopup","true");},destroyDescendants:function(_795){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive(_795);}delete this.popup;}this.inherited(arguments);}});});},"epi/shell/widget/ToolbarLabel":function(){define(["dojo","dojo/dom-construct","dijit/_WidgetBase"],function(dojo,_796,_797){return dojo.declare([_797],{baseClass:"epi-breadCrumbsCurrentItem dijitInline",label:null,buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||_796.create("h1");}this.inherited(arguments);},_setLabelAttr:{node:"domNode",type:"innerText"}});});},"epi/UriParser":function(){define("epi/UriParser",["dojo","epi"],function(dojo,epi){return dojo.declare(null,{constructor:function(uri){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$");var r=uri.match(ore);if(!this.scheme){this.scheme=r[2]||(r[1]?"":null);}if(!this.authority){this.authority=r[4]||(r[3]?"":null);}if(!this.path){this.path=r[5];}},getModuleArea:function(){return this.scheme.split(".")[1];},getStoreName:function(){return this.scheme.split(".")[2];},getType:function(){return this.scheme;},getId:function(){return this.path.substr(1);},toString:function(){return this.scheme+"://"+this.authority+this.path;}});});},"epi/shell/conversion/ObjectConverterRegistry":function(){define(["dojo/_base/array","dojo/_base/lang"],function(_798,lang){return {_converterMappings:{},clear:function(){this._converterMappings={};},registerConverter:function(_799,_79a,_79b){var _79c=this._converterMappings[_799];if(!_79c){_79c={};this._converterMappings[_799]=_79c;}_79c[_79a]=_79b;},getConverters:function(_79d){var _79e;if(lang.isArray(_79d)){_79e=_798.map(_79d,function(name){if(name in this._converterMappings){return this._converterMappings[name];}},this);_79e=_798.filter(_79e,function(item){return item!==undefined;},this);return _79e;}else{if(this._converterMappings[_79d]===undefined){return undefined;}return [this._converterMappings[_79d]];}},getConverter:function(_79f,_7a0){var _7a1=this.getConverters(_79f);var _7a2;if(_7a1===undefined){return null;}_798.some(_7a1,function(item,i){if((item[_7a0])){_7a2=item[_7a0];return true;}});return _7a2;}};});},"epi/shell/dnd/Target":function(){define(["dojo/_base/declare","dojo/dom-class","./Source"],function(_7a3,_7a4,_7a5){return _7a3([_7a5],{constructor:function(node,_7a6){this.isSource=false;_7a4.remove(this.node,"dojoDndSource");}});});},"epi/shell/dnd/Source":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/dom-construct","dojo/dnd/Source","./_DndDataMixin","epi/shell/TypeDescriptorManager"],function(_7a7,_7a8,lang,_7a9,_7aa,_7ab,_7ac,_7ad){return _7a8([_7ab,_7ac],{alwaysCopy:true,createItemOnDrop:true,singular:true,generateText:false,_dummyDropItemContainer:null,readOnly:null,postscript:function(){this.inherited(arguments);if(!this.createItemOnDrop){this.parent=this._dummyDropItemContainer=_7aa.create("div");}var _7ae=this.reject;if(_7ae){var _7af=[];for(var key in this.accept){_7af.push(key);}this.accept={};_7af=_7ad.removeIntersectingTypes(_7af,this.reject);_7a7.forEach(_7af,function(_7b0){this.accept[_7b0]=1;},this);for(var i=0;i<_7ae.length;++i){this.accept[_7ae[i]]=0;}}},destroy:function(){if(this._dummyDropItemContainer){_7aa.destroy(this._dummyDropItemContainer);this._dummyDropItemContainer=null;}this.inherited(arguments);},checkAcceptance:function(_7b1,_7b2){if(this.readOnly){return false;}var _7b3=_7a7.map(_7b2,function(node){return _7b1.getItem(node.id);});return this._checkAcceptanceForItems(_7b3,this.accept);},getOrderedItems:function(){return _7a7.map(this.getAllNodes(),function(node){return this.getItem(node.id);},this);},onDndItemRemoved:function(_7b4,_7b5,_7b6,copy,_7b7){},onDropData:function(_7b8,_7b9,_7ba,copy){},onDrop:function(_7bb,_7bc,copy){var _7bd=_7a7.map(_7bc,function(node){return this._getDndData(_7bb.getItem(node.id),this.accept,this===_7bb);},this);this.inherited(arguments,[_7bb,_7bc,this.alwaysCopy||copy]);if(!this.createItemOnDrop){_7aa.empty(this._dummyDropItemContainer);}this.onDropData(_7bd,_7bb,_7bc,this.alwaysCopy||copy);if(!copy&&this!==_7bb&&_7bb.onDndItemRemoved){_7bb.onDndItemRemoved(_7bd,_7bb,_7bc,copy,this);}_7a9.publish("/epi/dnd/dropdata",_7bd,_7bb,_7bc,this.alwaysCopy||copy);}});});},"epi/shell/dnd/_DndDataMixin":function(){define(["dojo/_base/array","dojo/_base/declare","epi/dependency","epi/shell/conversion/ObjectConverterRegistry"],function(_7be,_7bf,_7c0,_7c1){return _7bf(null,{_checkAcceptanceForItems:function(_7c2,_7c3){return _7be.every(_7c2,function(item){return this._acceptsTypeWithoutConversion(item.type,_7c3)||this._converterExistsForAnyType(item.type,_7c3);},this);},_acceptsTypeWithoutConversion:function(_7c4,_7c5){var flag=false;for(var j=0;j<_7c4.length;++j){if(_7c4[j] in _7c5){flag=!!_7c5[_7c4[j]];break;}}return flag;},_converterExistsForAnyType:function(_7c6,_7c7){for(var j=0;j<_7c6.length;++j){for(var type in _7c7){if(_7c1.getConverter(_7c6[j],type)){return !!_7c7[type];}}}return false;},_getDndData:function(item,_7c8,_7c9){if(!item||!item.data){return null;}var _7ca=null;var data=item.data.dndData||item.data;var _7cb=null;if(this._acceptsTypeWithoutConversion(item.type,_7c8)){_7cb={type:item.type,data:data,options:item.options};_7ca=_7cb;}else{for(var type in _7c8){var _7cc=_7c1.getConverter(item.type,type);if(_7cc){_7cb={type:[type]};_7cb.data=_7cc.convert(item.type,type,data);_7cb.options=item.options;_7ca=_7cb;break;}}}if(!_7c9){item.data.getNormalizedData=function(){return _7cb;};}return _7ca;}});});},"epi/shell/TypeDescriptorManager":function(){define("epi/shell/TypeDescriptorManager",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/promise/all","dojo/when","epi/dependency","epi/i18n!epi/shell/ui/nls/contenttypes"],function(_7cd,_7ce,lang,all,when,_7cf,_7d0){return {_uiDescriptors:{},resources:_7d0,store:null,initialize:function(){this.store=this.store||_7cf.resolve("epi.storeregistry").get("epi.shell.uidescriptor");return when(this.store.query()).then(lang.hitch(this,function(_7d1){return this.registerTypeSettings(_7d1);}));},clear:function(){this._uiDescriptors={};},registerTypeSettings:function(_7d2){var _7d3=this._uiDescriptors={},_7d4=[];function _7d5(_7d6){if(_7d6&&!(_7d6 instanceof Array)){_7d6=[_7d6];}return _7d6?_7d6.map(function(_7d7){return _7d8(_7d3[_7d7]);}):[];};function _7d8(type){var _7d9=type.descriptor,_7da=_7d9.baseTypes||_7d9.baseTypeIdentifier;return type.ctor||all(_7d5(_7da)).then(function(_7db){type.ctor=_7ce(_7db,_7d9);type.instance=new type.ctor();return type.ctor;});};_7d2.forEach(lang.hitch(this,function(_7dc){this._prepareDescriptor(_7dc);_7d3[_7dc.typeIdentifier]={instance:null,ctor:null,descriptor:_7dc};}));Object.keys(_7d3).forEach(function(key){var type=_7d3[key];_7d4.push(_7d8(type));});return all(_7d4).then(function(){return true;});},registerTypeSetting:function(name,_7dd){_7dd.typeIdentifier=name;this.registerTypeSettings([_7dd]);},getValue:function(type,_7de){var _7df=this._uiDescriptors[type];return _7df?_7df.instance[_7de]:undefined;},getResourceValue:function(type,_7e0,_7e1){var _7e2=this._uiDescriptors[type];return _7e2?_7e2.instance.getResource(_7e0,_7e1):undefined;},getAndConcatenateValues:function(type,_7e3){var _7e4=[],_7e5=this._uiDescriptors[type];_7e5&&_7e5.instance.getRecursive(_7e3,_7e4);return _7e4;},getInheritanceChain:function(type){var _7e6=[],_7e7=this._uiDescriptors[type];if(!_7e7){return _7e6;}_7e7.instance.constructor._meta.bases.forEach(function(base){_7e6.push(base._meta.hidden.typeIdentifier);});return _7e6;},isBaseTypeIdentifier:function(_7e8,_7e9){_7e8=this._uiDescriptors[_7e8];_7e9=this._uiDescriptors[_7e9];if(!_7e8||!_7e9){return false;}return _7e8.instance.isInstanceOf(_7e9.ctor);},removeIntersectingTypes:function(_7ea,_7eb){var _7ec=[];if(_7ea){_7ea.forEach(function(_7ed){if(_7cd.indexOf(_7eb,_7ed)===-1&&_7cd.some(_7eb,function(_7ee){return this.isBaseTypeIdentifier(_7ed,_7ee);},this)===false){_7ec.push(_7ed);}},this);}return _7ec;},getValidAcceptedTypes:function(_7ef,_7f0,_7f1){var _7f2=_7f0||[];var _7f3=_7f1||[];var _7f4=_7ef||[];if(_7f2.length===0&&_7f3.length===0){return _7f4;}var _7f5=function(_7f6,_7f7){return _7cd.some(_7f7,function(_7f8){return this.isBaseTypeIdentifier(_7f6,_7f8);},this);};var _7f9=_7cd.filter(_7f4,function(_7fa){return (!(_7f5.call(this,_7fa,_7f3))&&_7f5.call(this,_7fa,_7f2));},this);return _7f9;},_prepareDescriptor:function(_7fb){var _7fc,_7fd=_7fb.languageKey;Object.keys(_7fb).forEach(function(key){var prop=_7fb[key];if(prop===null||prop===undefined){delete _7fb[key];}});if(_7fd){_7fc=this.resources[_7fd];}lang.mixin(_7fb,{getRecursive:function(key,_7fe){var _7ff=_7fb[key];if(_7ff){if(_7ff instanceof Array){_7ff.forEach(function(v){_7fe.push(v);});}else{_7fe.push(_7ff);}}this.inherited(arguments);},getResource:function(key,_800){var _801=_7fb.resource,_7fc;if(_801){if(!_800||(_800&&_7fb.isPrimaryType)){_7fc=lang.getObject(key,false,_801);if(_7fc!==undefined){return _7fc;}}}return this.inherited(arguments);},resource:_7fc});}};});},"epi/shell/form/AutoCompleteSelectionEditor":function(){define(["dojo/_base/declare","epi/shell/store/JsonRest","dijit/form/FilteringSelect"],function(_802,_803,_804){return _802([_804],{required:false,postMixInProperties:function(){var _805=new _803({target:this.storeurl});this.set("store",_805);this.inherited(arguments);},destroy:function(){this.displayMessage();this.inherited(arguments);}});});},"epi/shell/store/JsonRest":function(){define(["dojo/_base/declare","dojo/_base/json","dojo/_base/lang","dojo/io-query","dojo/store/JsonRest","dojo/store/util/QueryResults","epi/shell/XhrWrapper"],function(_806,json,lang,_807,_808,_809,_80a){return _806([_808],{xhrHandler:null,idAttribute:"id",preventCache:false,defaultRequestParams:null,constructor:function(_80b){this.defaultRequestParams=_80b&&_80b.defaultRequestParams;if(!this.xhrHandler){this.xhrHandler=new _80a({preventLocalizationHeader:_80b&&_80b.preventLocalizationHeader});}},get:function(id,_80c){var _80d=_80c||{};_80d.Accept="application/javascript, application/json";var _80e=typeof id!="undefined";var _80f={url:_80e?this.target+id:this.target,handleAs:"json",headers:_80d,preventCache:this.preventCache};return this.xhrHandler.xhrGet(this._mixinDefaultParams(_80f));},put:function(_810,_811){_811=_811||{};var _812={"Content-Type":"application/json","If-Match":_811.overwrite===true?"*":null,"If-None-Match":_811.overwrite===false?"*":null,Accept:"application/javascript, application/json"};var id=("id" in _811)?_811.id:this.getIdentity(_810);var _813=typeof id!="undefined";if(_813&&!_811.incremental){_812["X-Http-Method-Override"]="PUT";}var _814={url:_813?this.target+id:this.target,postData:json.toJson(_810),handleAs:"json",headers:_812,xsrfProtection:true};return this.xhrHandler.xhr("POST",this._mixinDefaultParams(_814));},patch:function(_815,_816){var _817=_816||{};_817.Accept="application/javascript, application/json";_817["X-Http-Method-Override"]="PATCH";_817["Content-Type"]="application/json";var id=("id" in _816)?_816.id:this.getIdentity(_815);var _818=typeof id!="undefined";var _819={url:_818?this.target+id:this.target,postData:json.toJson(_815),handleAs:"json",headers:_817,xsrfProtection:true};return this.xhrHandler.xhr("POST",this._mixinDefaultParams(_819));},remove:function(id,_81a){var _81b={};_81b.Accept="application/javascript, application/json";_81b["Content-Type"]="application/json";_81b["X-Http-Method-Override"]="DELETE";_81a=_81a||{};return this.xhrHandler.xhr("POST",this._mixinDefaultParams({url:this.target+id,headers:_81b,postData:json.toJson(_81a),handleAs:"json",xsrfProtection:true}));},query:function(_81c,_81d){var _81e={Accept:"application/javascript, application/json"};var _81f;_81d=_81d||{};if(_81d.start>=0||_81d.count>=0){_81e.Range="items="+(_81d.start||"0")+"-"+(("count" in _81d&&_81d.count!==Infinity)?(_81d.count+(_81d.start||0)-1):"");}if(lang.isObject(_81c)){_81c=lang.mixin({},_81c);if(_81c[this.idAttribute]){_81f=_81c[this.idAttribute];_81c[this.idAttribute]=null;}_81c=_807.objectToQuery(_81c);_81c=_81c?"?"+_81c:"";}if(_81d&&_81d.sort){_81c+=(_81c?"&":"?")+"sort(";for(var i=0;i<_81d.sort.length;i++){var sort=_81d.sort[i];_81c+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}_81c+=")";}var _820=this.xhrHandler.xhrGet(this._mixinDefaultParams({url:this.target+(_81f||"")+(_81c||""),handleAs:"json",headers:_81e,preventCache:this.preventCache}));_820.total=_820.then(function(){var _821=_820.ioArgs.xhr.getResponseHeader("Content-Range");return _821&&(_821=_821.match(/\/(.*)/))&&+_821[1];});return _809(_820);},move:function(id,_822,_823){return this._send("MOVE",id,_822,_823);},copy:function(id,_824,_825){return this._send("COPY",id,_824,_825);},executeMethod:function(_826,id,data,_827){var _828=id!==null&&typeof id!=="undefined",url=this.target+(_828?id:""),_829=_827||{};_829.Accept="application/javascript, application/json";_829["Content-Type"]="application/json";_829["X-Http-Method-Override"]=_826;data=data||{};return this.xhrHandler.xhr("POST",this._mixinDefaultParams({url:url,headers:_829,postData:json.toJson(data),handleAs:"json",xsrfProtection:true}));},_send:function(_82a,id,_82b,_82c){var _82d=_82c||{};_82d.Accept="application/javascript, application/json";_82d["X-Http-Method-Override"]=_82a;var _82e=lang.isObject(_82b)?_82b:{targetId:_82b};return this.xhrHandler.xhr("POST",this._mixinDefaultParams({url:this.target+id,headers:_82d,content:_82e,handleAs:"json",xsrfProtection:true}));},_mixinDefaultParams:function(_82f){return lang.mixin({},this.defaultRequestParams,_82f);}});});},"dojo/store/JsonRest":function(){define("dojo/store/JsonRest",["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(xhr,lang,JSON,_830,_831){var base=null;return _830("dojo.store.JsonRest",base,{constructor:function(_832){this.headers={};_830.safeMixin(this,_832);},headers:{},target:"",idProperty:"id",get:function(id,_833){_833=_833||{};var _834=lang.mixin({Accept:this.accepts},this.headers,_833.headers||_833);return xhr("GET",{url:this.target+id,handleAs:"json",headers:_834});},accepts:"application/javascript, application/json",getIdentity:function(_835){return _835[this.idProperty];},put:function(_836,_837){_837=_837||{};var id=("id" in _837)?_837.id:this.getIdentity(_836);var _838=typeof id!="undefined";return xhr(_838&&!_837.incremental?"PUT":"POST",{url:_838?this.target+id:this.target,postData:JSON.stringify(_836),handleAs:"json",headers:lang.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":_837.overwrite===true?"*":null,"If-None-Match":_837.overwrite===false?"*":null},this.headers,_837.headers)});},add:function(_839,_83a){_83a=_83a||{};_83a.overwrite=false;return this.put(_839,_83a);},remove:function(id,_83b){_83b=_83b||{};return xhr("DELETE",{url:this.target+id,headers:lang.mixin({},this.headers,_83b.headers)});},query:function(_83c,_83d){_83d=_83d||{};var _83e=lang.mixin({Accept:this.accepts},this.headers,_83d.headers);if(_83d.start>=0||_83d.count>=0){_83e.Range=_83e["X-Range"]="items="+(_83d.start||"0")+"-"+(("count" in _83d&&_83d.count!=Infinity)?(_83d.count+(_83d.start||0)-1):"");}var _83f=this.target.indexOf("?")>-1;if(_83c&&typeof _83c=="object"){_83c=xhr.objectToQuery(_83c);_83c=_83c?(_83f?"&":"?")+_83c:"";}if(_83d&&_83d.sort){var _840=this.sortParam;_83c+=(_83c||_83f?"&":"?")+(_840?_840+"=":"sort(");for(var i=0;i<_83d.sort.length;i++){var sort=_83d.sort[i];_83c+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}if(!_840){_83c+=")";}}var _841=xhr("GET",{url:this.target+(_83c||""),handleAs:"json",headers:_83e});_841.total=_841.then(function(){var _842=_841.ioArgs.xhr.getResponseHeader("Content-Range");return _842&&(_842=_842.match(/\/(.*)/))&&+_842[1];});return _831(_841);}});});},"dojo/store/util/QueryResults":function(){define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../_base/Deferred"],function(_843,lang,_844){var _845=function(_846){if(!_846){return _846;}var _847=!!_846.then;if(_847){_846=lang.delegate(_846);}function _848(_849){_846[_849]=function(){var args=arguments;var _84a=_844.when(_846,function(_84b){Array.prototype.unshift.call(args,_84b);return _845(_843[_849].apply(_843,args));});if(_849!=="forEach"||_847){return _84a;}};};_848("forEach");_848("filter");_848("map");if(_846.total==null){_846.total=_844.when(_846,function(_84c){return _84c.length;});}return _846;};lang.setObject("dojo.store.util.QueryResults",_845);return _845;});},"epi/shell/XhrWrapper":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/when","epi","epi/shell/request/xhr","epi/shell/widget/dialog/Dialog","epi/shell/widget/LoginForm"],function(_84d,_84e,_84f,lang,_850,when,epi,xhr,_851,_852){var _853;var cls=_84f(null,{xhrHandler:null,_headerKeys:{validation:"X-EpiRestAntiForgeryToken",loginScreen:"X-EPiLogOnScreen",postUrl:"X-EPiLogOnScreen-PostUrl",readOnlyMode:"X-EPiReadOnlyMode",readOnlyModeRedirectUrl:"X-EPiReadOnlyMode-RedirectUrl"},constructor:function(_854){_84f.safeMixin(this,_854);if(!this.xhrHandler){this.xhrHandler=xhr;}},xhr:function(_855,args,_856){var _857=arguments;args.headers=args.headers||{};if(args.xsrfProtection){var _858=new _850();when(this._getXsrfHeader(args.url),lang.hitch(this,function(_859){args.headers=lang.mixin({},args.headers,_859);when(this._xhr.apply(this,_857),_858.resolve,_858.reject);}),_858.reject);return _858;}else{return this._xhr.apply(this,_857);}},xhrDelete:function(args){return this.xhr("DELETE",args);},xhrGet:function(args){return this.xhr("GET",args);},xhrPost:function(args){return this.xhr("POST",args,true);},xhrPut:function(args){return this.xhr("PUT",args,true);},_getXsrfHeader:function(_85a){if(cls.sharedXsrfHeader){return cls.sharedXsrfHeader;}var _85b={url:_85a,handleAs:"json",headers:{}};_85b.headers[this._headerKeys.validation]="_CreateToken_";var _85c=new _850();this.xhrGet(_85b).then(lang.hitch(this,function(){_85c.resolve(cls.sharedXsrfHeader);}),_85c.reject);return _85c;},_xhr:function(_85d,args,_85e){var _85f=arguments;var _860=lang.delegate({method:_85d,data:args.content||args.postData},args);var _861=this.xhrHandler(_860.url,_860,true);var _862=new _850();_862.ioArgs=_861.ioArgs;when(_861,lang.hitch(this,function(data){var _863=_861.ioArgs.xhr.getResponseHeader(this._headerKeys.validation);if(_863){if(!cls.sharedXsrfHeader){cls.sharedXsrfHeader={};}cls.sharedXsrfHeader[this._headerKeys.validation]=_863;}_862.ioArgs=_861.ioArgs;_862.resolve(data);}),lang.hitch(this,function(err){var _864=_861.ioArgs.xhr.getResponseHeader(this._headerKeys.loginScreen);if(_864==="true"||_861.ioArgs.xhr.status===401){var _865={postUrl:_861.ioArgs.xhr.getResponseHeader(this._headerKeys.postUrl)};cls.sharedXsrfHeader=undefined;var _866=this._showLogin(_865);when(_866,lang.hitch(this,function(){when(this.xhr.apply(this,_85f),_862.resolve,_862.reject);}),function(){_862.reject(err);});}else{if(_861.ioArgs.xhr.status===503){var _867=_861.ioArgs.xhr.getResponseHeader(this._headerKeys.readOnlyMode);var _868=_861.ioArgs.xhr.getResponseHeader(this._headerKeys.readOnlyModeRedirectUrl);if(_867&&_868){this._redirect(_868);}else{_862.reject(err);}}else{_862.reject(err);}}}));return _862;},_redirect:function(url){window.top.location=url;},_showLogin:function(_869){if(!_853){_853=new _850();var form=new _852();var _86a=new _851({title:epi.resources.action.login,confirmActionText:epi.resources.action.login,content:form,dialogClass:"",_onAfterShow:function(){}});var _86b=[];var _86c=function(_86d){_84d.forEach(_86b,_84e.disconnect);form.destroyRecursive();_86a.hide();if(_86d){_853.resolve();}else{_853.reject();}_853=null;};_86a.addValidator(lang.hitch(this,function(){var _86e=new _850();var _86f=form.serializeForm();var _870=this.xhr("POST",{url:_869.postUrl,content:_86f,xsrfProtection:false,handleAs:"json"},true);when(_870,function(data){if(data.authenticationSuccessful){_86c(true);_86e.resolve();}else{form.authenticationFailed();_86e.reject();}},function(){_86c(false);_86e.reject();});return _86e;}));_86a.show();_86b.push(_84e.connect(_86a,"onCancel",function(){_86c(false);}));}return _853;}});cls.sharedXsrfHeader=undefined;return cls;});},"epi/shell/request/xhr":function(){define(["dojo/_base/xhr","dojo/request/util","./Extender","./mutators"],function(_871,util,_872,_873){var _874=new _872(_871,_873);var xhr=function(url,_875){return _874.xhr.apply(_874,arguments);};util.addCommonMethods(xhr);return xhr;});},"epi/shell/request/Extender":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred"],function(_876,lang,_877){return _876([],{_mutators:null,_request:null,constructor:function(_878,_879){this._request=_878;this._mutators=_879;},xhr:function(url,_87a,_87b){var _87c=new _877(),_87d=this._mutators;_87a=_87a||{};_87a.headers=_87a.headers||{};_87d.execute("beforeSend",{url:url,options:_87a}).then(lang.hitch(this,function(_87e){var _87f=this._sendRequest(_87e);_87c.response=_87f.response||this._response(_87f.ioArgs);_87c.ioArgs=_87f.ioArgs;return _87f.promise;})).then(function(data){return _87d.execute("afterReceive",{response:_87c.response,data:data});}).then(function(_880){_87c.resolve(_880.data);}).otherwise(_87c.reject);return _87b?_87c:_87c.promise;},_sendRequest:function(_881){var _882=_881.options;_882.url=_881.url;return this._request(_882.method,_882);},_response:function(_883){return {getHeader:function getHeader(name){return this.xhr.getResponseHeader(name);},options:_883.args,url:_883.url,xhr:_883.xhr};}});});},"epi/shell/request/mutators":function(){define(["dojo/when"],function(when){var _884=[];var _885=function(){return _884.concat();};_885.add=function(_886){_884.push(_886);};_885.remove=function(_887){var _888=_884.indexOf(_887);if(_888!==-1){return _884.splice(_888,1)[0];}return null;};_885.execute=function(_889,data){var _88a=when(data);_884.forEach(function(_88b){var _88c=_88b[_889];_88a=_88c?_88a.then(_88c.bind(_88b)):_88a;});return _88a;};return _885;});},"epi/shell/widget/LoginForm":function(){define(["epi","dojo","dojo/keys","dojo/text!./templates/LoginForm.htm","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/ValidationTextBox","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.LoginForm"],function(epi,dojo,keys,_88d,_88e,_88f,_890,_891,_892){return dojo.declare([_88e,_88f,_890],{templateString:_88d,postMixInProperties:function(){this.inherited(arguments);this.resources=dojo.mixin(epi.resources.action,_892);this.connect(this.passwordNode,"onkeydown",this._onKeyDown);},serializeForm:function(){return {username:this.usernameNode.get("value"),password:this.passwordNode.get("value")};},authenticationFailed:function(){this.passwordNode.set("value","");this.passwordNode.focus();this.passwordNode.displayMessage(this.resources.loginfailed);},_onKeyDown:function(e){if(e.keyCode===keys.ENTER&&!(e.ctrlKey||e.altKey||e.metaKey)){this.onSubmit(e);}},onSubmit:function(){}});});},"url:epi/shell/widget/templates/LoginForm.htm":"<div class=\"epi-form\">\r\n    <ul class=\"dijitReset\" data-dojo-attach-point=\"containerNode\">\r\n        <li>${resources.loggedout}</li>\r\n        <li>\r\n            <label>${resources.username}</label>\r\n            <input data-dojo-type=\"dijit/form/ValidationTextBox\" required=\"true\" data-dojo-attach-point=\"usernameNode\" name=\"username\" />\r\n        </li>\r\n        <li>\r\n            <label>${resources.password}</label>\r\n            <input data-dojo-type=\"dijit/form/ValidationTextBox\" required=\"true\" data-dojo-attach-point=\"passwordNode\" name=\"password\" type=\"password\" />\r\n        </li>\r\n    </ul>\r\n</div>\r\n","dijit/form/ValidationTextBox":function(){require({cache:{"url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"}});define("dijit/form/ValidationTextBox",["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_893,_894,i18n,_895,_896,_897){var _898;return _898=_893("dijit.form.ValidationTextBox",_895,{templateString:_897,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,_899){if(_899!=_898.prototype[attr]){_894.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");this.set("pattern",_899);}},_setRegExpGenAttr:function(_89a){this._deprecateRegExp("regExpGen",_89a);this.regExpGen=this._getPatternAttr;},_setRegExpAttr:function(_89b){this._deprecateRegExp("regExp",_89b);},_setValueAttr:function(){this.inherited(arguments);this._refreshState();},validator:function(_89c,_89d){return (new RegExp("^(?:"+this._getPatternAttr(_89d)+")"+(this.required?"":"?")+"$")).test(_89c)&&(!this.required||!this._isEmpty(_89c))&&(this._isEmpty(_89c)||this.parse(_89c,_89d)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_89e){return (this.trim?/^\s*$/:/^$/).test(_89e);},getErrorMessage:function(){var _89f=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _8a0=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_89f:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_8a0:_89f;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_8a1){var _8a2="";var _8a3=this.disabled||this.isValid(_8a1);if(_8a3){this._maskValidSubsetError=true;}var _8a4=this._isEmpty(this.textbox.value);var _8a5=!_8a3&&_8a1&&this._isValidSubset();this._set("state",_8a3?"":(((((!this._hasBeenBlurred||_8a1)&&_8a4)||_8a5)&&(this._maskValidSubsetError||(_8a5&&!this._hasBeenBlurred&&_8a1)))?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",_8a3?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_8a1&&_8a5;_8a2=this.getErrorMessage(_8a1);}else{if(this.state=="Incomplete"){_8a2=this.getPromptMessage(_8a1);this._maskValidSubsetError=!this._hasBeenBlurred||_8a1;}else{if(_8a4){_8a2=this.getPromptMessage(_8a1);}}}this.set("message",_8a2);return _8a3;},displayMessage:function(_8a6){if(_8a6&&this.focused){_896.show(_8a6,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_896.hide(this.domNode);}},_refreshState:function(){if(this._created){this.validate(this.focused);}this.inherited(arguments);},constructor:function(_8a7){this.constraints={};this.baseClass+=" dijitValidationTextBox";},startup:function(){this.inherited(arguments);this._refreshState();},_setConstraintsAttr:function(_8a8){if(!_8a8.locale&&this.lang){_8a8.locale=this.lang;}this._set("constraints",_8a8);this._refreshState();},_setPatternAttr:function(_8a9){this._set("pattern",_8a9);this._refreshState();},_getPatternAttr:function(_8aa){var p=this.pattern;var type=(typeof p).toLowerCase();if(type=="function"){p=this.pattern(_8aa||this.constraints);}if(p!=this._lastRegExp){var _8ab="";this._lastRegExp=p;if(p!=".*"){p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_8ab+=re;break;case ")":_8ab+="|$)";break;default:_8ab+="(?:"+re+"|$)";break;}});}try{"".search(_8ab);}catch(e){_8ab=this.pattern;console.warn("RegExp error in "+this.declaredClass+": "+this.pattern);}this._partialre="^(?:"+_8ab+")$";}return p;},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_8ac){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_8ad){this._set("required",_8ad);this.focusNode.setAttribute("aria-required",_8ad);this._refreshState();},_setMessageAttr:function(_8ae){this._set("message",_8ae);this.displayMessage(_8ae);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});});},"dijit/Tooltip":function(){require({cache:{"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n"}});define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_8af,_8b0,fx,dom,_8b1,_8b2,_8b3,lang,_8b4,on,has,_8b5,_8b6,_8b7,_8b8,_8b9,_8ba,_8bb){var _8bc=_8b0("dijit._MasterTooltip",[_8b7,_8b8],{duration:_8b5.defaultDuration,templateString:_8ba,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _8b9(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_8bd,_8be,_8bf,rtl,_8c0){if(this.aroundNode&&this.aroundNode===_8be&&this.containerNode.innerHTML==_8bd){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_8bd;if(_8c0){this.set("textDir",_8c0);}this.containerNode.align=rtl?"right":"left";var pos=_8b6.around(this.domNode,_8be,_8bf&&_8bf.length?_8bf:_8c1.defaultPosition,!rtl,lang.hitch(this,"orient"));var _8c2=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_8c2.y+((_8c2.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_8c2.x+((_8c2.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_8b3.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_8be;},orient:function(node,_8c3,_8c4,_8c5,_8c6){this.connectorNode.style.top="";var _8c7=_8c5.h,_8c8=_8c5.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_8c3+"-"+_8c4];this.domNode.style.width="auto";var size=_8b2.position(this.domNode);if(has("ie")||has("trident")){size.w+=2;}var _8c9=Math.min((Math.max(_8c8,1)),size.w);_8b2.setMarginBox(this.domNode,{w:_8c9});if(_8c4.charAt(0)=="B"&&_8c3.charAt(0)=="B"){var bb=_8b2.position(node);var _8ca=this.connectorNode.offsetHeight;if(bb.h>_8c7){var _8cb=_8c7-((_8c6.h+_8ca)>>1);this.connectorNode.style.top=_8cb+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_8c6.h/2-_8ca/2,0),bb.h-_8ca)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_8c8);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_8cc){if(this._onDeck&&this._onDeck[1]==_8cc){this._onDeck=null;}else{if(this.aroundNode===_8cc){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}},_setAutoTextDir:function(node){this.applyTextDir(node,has("ie")?node.outerText:node.textContent);_8af.forEach(node.children,function(_8cd){this._setAutoTextDir(_8cd);},this);},_setTextDirAttr:function(_8ce){this._set("textDir",_8ce);if(_8ce=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});_8bb.showTooltip=function(_8cf,_8d0,_8d1,rtl,_8d2){if(_8d1){_8d1=_8af.map(_8d1,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_8c1._masterTT){_8bb._masterTT=_8c1._masterTT=new _8bc();}return _8c1._masterTT.show(_8cf,_8d0,_8d1,rtl,_8d2);};_8bb.hideTooltip=function(_8d3){return _8c1._masterTT&&_8c1._masterTT.hide(_8d3);};var _8c1=_8b0("dijit.Tooltip",_8b7,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_8d4){_8af.forEach(this._connections||[],function(_8d5){_8af.forEach(_8d5,function(_8d6){_8d6.remove();});},this);this._connectIds=_8af.filter(lang.isArrayLike(_8d4)?_8d4:(_8d4?[_8d4]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_8af.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_8d7=this.selector,_8d8=_8d7?function(_8d9){return on.selector(_8d7,_8d9);}:function(_8da){return _8da;},self=this;return [on(node,_8d8(_8b4.enter),function(){self._onHover(this);}),on(node,_8d8("focusin"),function(){self._onHover(this);}),on(node,_8d8(_8b4.leave),lang.hitch(self,"_onUnHover")),on(node,_8d8("focusout"),lang.hitch(self,"_onUnHover"))];},this);this._set("connectId",_8d4);},addTarget:function(node){var id=node.id||node;if(_8af.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_8af.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_8b1.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_8af.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},_onHover:function(_8db){if(!this._showTimer){this._showTimer=this.defer(function(){this.open(_8db);},this.showDelay);}},_onUnHover:function(){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}this.close();},open:function(_8dc){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}var _8dd=this.getContent(_8dc);if(!_8dd){return;}_8c1.show(_8dd,_8dc,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_8dc;this.onShow(_8dc,this.position);},close:function(){if(this._connectNode){_8c1.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}},onShow:function(){},onHide:function(){},destroy:function(){this.close();_8af.forEach(this._connections||[],function(_8de){_8af.forEach(_8de,function(_8df){_8df.remove();});},this);this.inherited(arguments);}});_8c1._MasterTooltip=_8bc;_8c1.show=_8bb.showTooltip;_8c1.hide=_8bb.hideTooltip;_8c1.defaultPosition=["after-centered","before-centered"];return _8c1;});},"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","dijit/form/FilteringSelect":function(){define("dijit/form/FilteringSelect",["dojo/data/util/filter","dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(_8e0,_8e1,lang,when,_8e2,_8e3){return _8e1("dijit.form.FilteringSelect",[_8e2,_8e3],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return !!this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_8e4,_8e5,_8e6,_8e7){if((_8e5&&_8e5[this.searchAttr]!==this._lastQuery)||(!_8e5&&_8e4.length&&this.store.getIdentity(_8e4[0])!=this._lastQuery)){return;}if(!_8e4.length){this.set("value","",_8e7||(_8e7===undefined&&!this.focused),this.textbox.value,null);}else{this.set("item",_8e4[0],_8e7);}},_openResultList:function(_8e8,_8e9,_8ea){if(_8e9[this.searchAttr]!==this._lastQuery){return;}this.inherited(arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_8eb,_8ec,_8ed,item){if(!this._onChangeActive){_8ec=null;}if(item===undefined){if(_8eb===null||_8eb===""){_8eb="";if(!lang.isString(_8ed)){this._setDisplayedValueAttr(_8ed||"",_8ec);return;}}var self=this;this._lastQuery=_8eb;when(this.store.get(_8eb),function(item){self._callbackSetLabel(item?[item]:[],undefined,undefined,_8ec);});}else{this.valueNode.value=_8eb;this.inherited(arguments);}},_setItemAttr:function(item,_8ee,_8ef){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_8f0,_8f1){if(_8f0==null){_8f0="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_8f1=false;}if(this.store){this.closeDropDown();var _8f2=lang.clone(this.query);var qs=this._getDisplayQueryString(_8f0),q;if(this.store._oldAPI){q=qs;}else{q=_8e0.patternToRegExp(qs,this.ignoreCase);q.toString=function(){return qs;};}this._lastQuery=_8f2[this.searchAttr]=q;this.textbox.value=_8f0;this._lastDisplayedValue=_8f0;this._set("displayedValue",_8f0);var _8f3=this;var _8f4={queryOptions:{ignoreCase:this.ignoreCase,deep:true}};lang.mixin(_8f4,this.fetchProperties);this._fetchHandle=this.store.query(_8f2,_8f4);when(this._fetchHandle,function(_8f5){_8f3._fetchHandle=null;_8f3._callbackSetLabel(_8f5||[],_8f2,_8f4,_8f1);},function(err){_8f3._fetchHandle=null;if(!_8f3._cancelingQuery){console.error("dijit.form.FilteringSelect: "+err.toString());}});}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});});},"dojo/data/util/filter":function(){define("dojo/data/util/filter",["../../_base/lang"],function(lang){var _8f6={};lang.setObject("dojo.data.util.filter",_8f6);_8f6.patternToRegExp=function(_8f7,_8f8){var rxp="^";var c=null;for(var i=0;i<_8f7.length;i++){c=_8f7.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_8f7.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_8f8){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};return _8f6;});},"dijit/form/MappedTextBox":function(){define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(_8f9,_8fa,_8fb){return _8f9("dijit.form.MappedTextBox",_8fb,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:null,serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_8fa.place("<input type='hidden'"+(this.name?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"dijit/form/ComboBoxMixin":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n"}});define("dijit/form/ComboBoxMixin",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_8fc,_8fd,_8fe,lang,_8ff,_900,_901,_902,_903){return _8fc("dijit.form.ComboBoxMixin",[_902,_900],{dropDownClass:_901,hasDownArrow:true,templateString:_903,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){this._set("hasDownArrow",val);this._buttonNode.style.display=val?"":"none";},_showResultList:function(){this.displayMessage("");this.inherited(arguments);},_setStoreAttr:function(_904){if(!_904.get){lang.mixin(_904,{_oldAPI:true,get:function(id){var _905=new _8fd();this.fetchItemByIdentity({identity:id,onItem:function(_906){_905.resolve(_906);},onError:function(_907){_905.reject(_907);}});return _905.promise;},query:function(_908,_909){var _90a=new _8fd(function(){_90b.abort&&_90b.abort();});_90a.total=new _8fd();var _90b=this.fetch(lang.mixin({query:_908,onBegin:function(_90c){_90a.total.resolve(_90c);},onComplete:function(_90d){_90a.resolve(_90d);},onError:function(_90e){_90a.reject(_90e);}},_909));return _8ff(_90a);}});}this._set("store",_904);},postMixInProperties:function(){var _90f=this.params.store||this.store;if(_90f){this._setStoreAttr(_90f);}this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var _910=this.declaredClass;lang.mixin(this.store,{getValue:function(item,attr){_8fe.deprecated(_910+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return item[attr];},getLabel:function(item){_8fe.deprecated(_910+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return item.name;},fetch:function(args){_8fe.deprecated(_910+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var shim=["dojo/data/ObjectStore"];require(shim,lang.hitch(this,function(_911){new _911({objectStore:this}).fetch(args);}));}});}}});});},"dijit/form/_AutoCompleterMixin":function(){define("dijit/form/_AutoCompleterMixin",["dojo/data/util/filter","dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","dojo/string","./DataList","../registry","./_TextBoxMixin","./_SearchMixin"],function(_912,_913,_914,_915,keys,lang,_916,_917,has,_918,_919,_91a,_91b,_91c){return _913("dijit.form._AutoCompleterMixin",_91c,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_91d){var pos=0;if(typeof (_91d.selectionStart)=="number"){pos=_91d.selectionStart;}else{if(has("ie")){var tr=_91d.ownerDocument.selection.createRange().duplicate();var ntr=_91d.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_91e,_91f){_91f=parseInt(_91f);_91b.selectInputText(_91e,_91f,_91f);},_setDisabledAttr:function(_920){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",_920?"true":"false");},_onKey:function(evt){if(evt.charCode>=32){return;}var key=evt.charCode||evt.keyCode;if(key==keys.ALT||key==keys.CTRL||key==keys.META||key==keys.SHIFT){return;}var pw=this.dropDown;var _921=null;this._abortQuery();this.inherited(arguments);if(evt.altKey||evt.ctrlKey||evt.metaKey){return;}if(this._opened){_921=pw.getHighlightedOption();}switch(key){case keys.PAGE_DOWN:case keys.DOWN_ARROW:case keys.PAGE_UP:case keys.UP_ARROW:if(this._opened){this._announceOption(_921);}_915.stop(evt);break;case keys.ENTER:if(_921){if(_921==pw.nextButton){this._nextSearch(1);_915.stop(evt);break;}else{if(_921==pw.previousButton){this._nextSearch(-1);_915.stop(evt);break;}}_915.stop(evt);}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}case keys.TAB:var _922=this.get("displayedValue");if(pw&&(_922==pw._messages["previousMessage"]||_922==pw._messages["nextMessage"])){break;}if(_921){this._selectOption(_921);}case keys.ESCAPE:if(this._opened){this._lastQuery=null;this.closeDropDown();}break;}},_autoCompleteText:function(text){var fn=this.focusNode;_91b.selectInputText(fn,fn.value.length);var _923=this.ignoreCase?"toLowerCase":"substr";if(text[_923](0).indexOf(this.focusNode.value[_923](0))==0){var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;if((cpos+1)>fn.value.length){fn.value=text;_91b.selectInputText(fn,cpos);}}else{fn.value=text;_91b.selectInputText(fn);}},_openResultList:function(_924,_925,_926){var _927=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();if(!_924.length&&_926.start==0){this.closeDropDown();return;}this._nextSearch=this.dropDown.onPage=lang.hitch(this,function(_928){_924.nextPage(_928!==-1);this.focus();});this.dropDown.createOptions(_924,_926,lang.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if("direction" in _926){if(_926.direction){this.dropDown.highlightFirstOption();}else{if(!_926.direction){this.dropDown.highlightLastOption();}}if(_927){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_925[this.searchAttr].toString())){this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);}}},_showResultList:function(){this.closeDropDown(true);this.openDropDown();this.domNode.setAttribute("aria-expanded","true");},loadDropDown:function(){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);this.domNode.setAttribute("aria-expanded","false");}},_setBlurValue:function(){var _929=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_929==pw._messages["previousMessage"]||_929==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_929);}else{if(this.value!=this._lastValueReported){this._handleOnChange(this.value,true);}this._refreshState();}}this.focusNode.removeAttribute("aria-activedescendant");},_setItemAttr:function(item,_92a,_92b){var _92c="";if(item){if(!_92b){_92b=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];}_92c=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_92b;}this.set("value",_92c,_92a,_92b,item);},_announceOption:function(node){if(!node){return;}var _92d;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_92d=node.innerHTML;this.item=undefined;this.value="";}else{var item=this.dropDown.items[node.getAttribute("item")];_92d=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();this.set("item",item,false,_92d);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",_914.get(node,"id"));this._autoCompleteText(_92d);},_selectOption:function(_92e){this.closeDropDown();if(_92e){this._announceOption(_92e);}this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,true);this.focusNode.removeAttribute("aria-activedescendant");},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this.item=undefined;this.inherited(arguments);},_startSearch:function(key){if(!this.dropDown){var _92f=this.id+"_popup",_930=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;this.dropDown=new _930({onChange:lang.hitch(this,this._selectOption),id:_92f,dir:this.dir,textDir:this.textDir});}this._lastInput=key;this.inherited(arguments);},_getValueField:function(){return this.searchAttr;},postMixInProperties:function(){this.inherited(arguments);if(!this.store){var _931=this.srcNodeRef;this.store=new _919({},_931);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _932=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(item,_932):item[_932];}}}},postCreate:function(){var _933=_916("label[for=\""+this.id+"\"]");if(_933.length){if(!_933[0].id){_933[0].id=this.id+"_label";}this.domNode.setAttribute("aria-labelledby",_933[0].id);}this.inherited(arguments);this.connect(this,"onSearch","_openResultList");},_getMenuLabelFromItem:function(item){var _934=this.labelFunc(item,this.store),_935=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_934=this.doHighlight(_934,this._lastInput);_935="html";}return {html:_935=="html",label:_934};},doHighlight:function(_936,find){var _937=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=_917.escapeString(find);return this._escapeHtml(_936.replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_937),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_938){return (_938._oldAPI?_938.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();},_setValueAttr:function(_939,_93a,_93b,item){this._set("item",item||null);if(_939==null){_939="";}this.inherited(arguments);},_setTextDirAttr:function(_93c){this.inherited(arguments);if(this.dropDown){this.dropDown._set("textDir",_93c);}}});});},"dijit/form/DataList":function(){define("dijit/form/DataList",["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_93d,dom,lang,_93e,_93f,_940){function _941(_942){return {id:_942.value,value:_942.value,name:lang.trim(_942.innerText||_942.textContent||"")};};return _93d("dijit.form.DataList",_93f,{constructor:function(_943,_944){this.domNode=dom.byId(_944);lang.mixin(this,_943);if(this.id){_940.add(this);}this.domNode.style.display="none";this.inherited(arguments,[{data:_93e("option",this.domNode).map(_941)}]);},destroy:function(){_940.remove(this.id);},fetchSelectedItem:function(){var _945=_93e("> option[selected]",this.domNode)[0]||_93e("> option",this.domNode)[0];return _945&&_941(_945);}});});},"dojo/store/Memory":function(){define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_946,_947,_948){var base=null;return _946("dojo.store.Memory",base,{constructor:function(_949){for(var i in _949){this[i]=_949[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_948,get:function(id){return this.data[this.index[id]];},getIdentity:function(_94a){return _94a[this.idProperty];},put:function(_94b,_94c){var data=this.data,_94d=this.index,_94e=this.idProperty;var id=_94b[_94e]=(_94c&&"id" in _94c)?_94c.id:_94e in _94b?_94b[_94e]:Math.random();if(id in _94d){if(_94c&&_94c.overwrite===false){throw new Error("Object already exists");}data[_94d[id]]=_94b;}else{_94d[id]=data.push(_94b)-1;}return id;},add:function(_94f,_950){(_950=_950||{}).overwrite=false;return this.put(_94f,_950);},remove:function(id){var _951=this.index;var data=this.data;if(id in _951){data.splice(_951[id],1);this.setData(data);return true;}},query:function(_952,_953){return _947(this.queryEngine(_952,_953)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier||this.idProperty;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"dojo/store/util/SimpleQueryEngine":function(){define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(_954){return function(_955,_956){switch(typeof _955){default:throw new Error("Can not query with a "+typeof _955);case "object":case "undefined":var _957=_955;_955=function(_958){for(var key in _957){var _959=_957[key];if(_959&&_959.test){if(!_959.test(_958[key],_958)){return false;}}else{if(_959!=_958[key]){return false;}}}return true;};break;case "string":if(!this[_955]){throw new Error("No filter function "+_955+" was found in store");}_955=this[_955];case "function":}function _95a(_95b){var _95c=_954.filter(_95b,_955);var _95d=_956&&_956.sort;if(_95d){_95c.sort(typeof _95d=="function"?_95d:function(a,b){for(var sort,i=0;sort=_95d[i];i++){var _95e=a[sort.attribute];var _95f=b[sort.attribute];_95e=_95e!=null?_95e.valueOf():_95e;_95f=_95f!=null?_95f.valueOf():_95f;if(_95e!=_95f){return !!sort.descending==(_95e==null||_95e>_95f)?-1:1;}}return 0;});}if(_956&&(_956.start||_956.count)){var _960=_95c.length;_95c=_95c.slice(_956.start||0,(_956.start||0)+(_956.count||Infinity));_95c.total=_960;}return _95c;};_95a.matches=_955;return _95a;};});},"dijit/form/_SearchMixin":function(){define("dijit/form/_SearchMixin",["dojo/data/util/filter","dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/query","dojo/sniff","dojo/string","dojo/when","../registry"],function(_961,_962,_963,keys,lang,_964,has,_965,when,_966){return _962("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(list){this._set("list",list);},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_abortQuery:function(){if(this.searchTimer){this.searchTimer=this.searchTimer.remove();}if(this._queryDeferHandle){this._queryDeferHandle=this._queryDeferHandle.remove();}if(this._fetchHandle){if(this._fetchHandle.abort){this._cancelingQuery=true;this._fetchHandle.abort();this._cancelingQuery=false;}if(this._fetchHandle.cancel){this._cancelingQuery=true;this._fetchHandle.cancel();this._cancelingQuery=false;}this._fetchHandle=null;}},_processInput:function(evt){if(this.disabled||this.readOnly){return;}var key=evt.charOrCode;if("type" in evt&&evt.type.substring(0,3)=="key"&&(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==keys.SHIFT)){return;}var _967=false;this._prev_key_backspace=false;switch(key){case keys.DELETE:case keys.BACKSPACE:this._prev_key_backspace=true;this._maskValidSubsetError=true;_967=true;break;default:_967=typeof key=="string"||key==229;}if(_967){if(!this.store){this.onSearch();}else{this.searchTimer=this.defer("_startSearchFromInput",1);}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_startSearch:function(text){this._abortQuery();var _968=this,_964=lang.clone(this.query),_969={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_965.substitute(this.queryExpr,[text.replace(/([\\\*\?])/g,"\\$1")]),q,_96a=function(){var _96b=_968._fetchHandle=_968.store.query(_964,_969);if(_968.disabled||_968.readOnly||(q!==_968._lastQuery)){return;}when(_96b,function(res){_968._fetchHandle=null;if(!_968.disabled&&!_968.readOnly&&(q===_968._lastQuery)){when(_96b.total,function(_96c){res.total=_96c;var _96d=_968.pageSize;if(isNaN(_96d)||_96d>res.total){_96d=res.total;}res.nextPage=function(_96e){_969.direction=_96e=_96e!==false;_969.count=_96d;if(_96e){_969.start+=res.length;if(_969.start>=res.total){_969.count=0;}}else{_969.start-=_96d;if(_969.start<0){_969.count=Math.max(_96d+_969.start,0);_969.start=0;}}if(_969.count<=0){res.length=0;_968.onSearch(res,_964,_969);}else{_96a();}};_968.onSearch(res,_964,_969);});}},function(err){_968._fetchHandle=null;if(!_968._cancelingQuery){console.error(_968.declaredClass+" "+err.toString());}});};lang.mixin(_969,this.fetchProperties);if(this.store._oldAPI){q=qs;}else{q=_961.patternToRegExp(qs,this.ignoreCase);q.toString=function(){return qs;};}this._lastQuery=_964[this.searchAttr]=q;this._queryDeferHandle=this.defer(_96a,this.searchDelay);},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var list=this.list;if(list){this.store=_966.byId(list);}}this.inherited(arguments);}});});},"dijit/form/_ComboBoxMenu":function(){define("dijit/form/_ComboBoxMenu",["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_96f,_970,_971,keys,_972,_973,_974,_975){return _96f("dijit.form._ComboBoxMenu",[_972,_973,_975,_974],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);if(!this.isLeftToRight()){_970.add(this.previousButton,"dijitMenuItemRtl");_970.add(this.nextButton,"dijitMenuItemRtl");}this.containerNode.setAttribute("role","listbox");},_createMenuItem:function(){var item=this.ownerDocument.createElement("div");item.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");item.setAttribute("role","option");return item;},onHover:function(node){_970.add(node,"dijitMenuItemHover");},onUnhover:function(node){_970.remove(node,"dijitMenuItemHover");},onSelect:function(node){_970.add(node,"dijitMenuItemSelected");},onDeselect:function(node){_970.remove(node,"dijitMenuItemSelected");},_page:function(up){var _976=0;var _977=this.domNode.scrollTop;var _978=_971.get(this.domNode,"height");if(!this.getHighlightedOption()){this.selectNextNode();}while(_976<_978){var _979=this.getHighlightedOption();if(up){if(!_979.previousSibling||_979.previousSibling.style.display=="none"){break;}this.selectPreviousNode();}else{if(!_979.nextSibling||_979.nextSibling.style.display=="none"){break;}this.selectNextNode();}var _97a=this.domNode.scrollTop;_976+=(_97a-_977)*(up?-1:1);_977=_97a;}},handleKey:function(evt){switch(evt.keyCode){case keys.DOWN_ARROW:this.selectNextNode();return false;case keys.PAGE_DOWN:this._page(false);return false;case keys.UP_ARROW:this.selectPreviousNode();return false;case keys.PAGE_UP:this._page(true);return false;default:return true;}}});});},"dijit/form/_ComboBoxMenuMixin":function(){define("dijit/form/_ComboBoxMenuMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(_97b,_97c,_97d,i18n){return _97c("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_97e){this.value=_97e;this.onChange(_97e);},onClick:function(node){if(node==this.previousButton){this._setSelectedAttr(null);this.onPage(-1);}else{if(node==this.nextButton){this._setSelectedAttr(null);this.onPage(1);}else{this.onChange(node);}}},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);},_createOption:function(item,_97f){var _980=this._createMenuItem();var _981=_97f(item);if(_981.html){_980.innerHTML=_981.label;}else{_980.appendChild(_980.ownerDocument.createTextNode(_981.label));}if(_980.innerHTML==""){_980.innerHTML="&#160;";}this.applyTextDir(_980,(_980.innerText||_980.textContent||""));return _980;},createOptions:function(_982,_983,_984){this.items=_982;this.previousButton.style.display=(_983.start==0)?"none":"";_97d.set(this.previousButton,"id",this.id+"_prev");_97b.forEach(_982,function(item,i){var _985=this._createOption(item,_984);_985.setAttribute("item",i);_97d.set(_985,"id",this.id+i);this.nextButton.parentNode.insertBefore(_985,this.nextButton);},this);var _986=false;if(_982.total&&!_982.total.then&&_982.total!=-1){if((_983.start+_983.count)<_982.total){_986=true;}else{if((_983.start+_983.count)>_982.total&&_983.count==_982.length){_986=true;}}}else{if(_983.count==_982.length){_986=true;}}this.nextButton.style.display=_986?"":"none";_97d.set(this.nextButton,"id",this.id+"_next");},clearResultList:function(){var _987=this.containerNode;while(_987.childNodes.length>2){_987.removeChild(_987.childNodes[_987.childNodes.length-2]);}this._setSelectedAttr(null);},highlightFirstOption:function(){this.selectFirstNode();},highlightLastOption:function(){this.selectLastNode();},selectFirstNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.previousButton){this.selectNextNode();}},selectLastNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.nextButton){this.selectPreviousNode();}},getHighlightedOption:function(){return this.selected;}});});},"dijit/form/_ListMouseMixin":function(){define("dijit/form/_ListMouseMixin",["dojo/_base/declare","dojo/mouse","dojo/on","dojo/touch","./_ListBase"],function(_988,_989,on,_98a,_98b){return _988("dijit.form._ListMouseMixin",_98b,{postCreate:function(){this.inherited(arguments);this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut");},_onClick:function(evt,_98c){this._setSelectedAttr(_98c,false);if(this._deferredClick){this._deferredClick.remove();}this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(_98c);});},_onMouseDown:function(evt,_98d){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}this._isDragging=true;this._setSelectedAttr(_98d,false);},_onMouseUp:function(evt,_98e){this._isDragging=false;var _98f=this.selected;var _990=this._hoveredNode;if(_98f&&_98e==_98f){this.defer(function(){this._onClick(evt,_98f);});}else{if(_990){this.defer(function(){this._onClick(evt,_990);});}}},_onMouseOut:function(evt,_991){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}if(this._isDragging){this._cancelDrag=(new Date()).getTime()+1000;}},_onMouseOver:function(evt,_992){if(this._cancelDrag){var time=(new Date()).getTime();if(time>this._cancelDrag){this._isDragging=false;}this._cancelDrag=null;}this._hoveredNode=_992;this.onHover(_992);if(this._isDragging){this._setSelectedAttr(_992,false);}}});});},"dijit/form/_ListBase":function(){define("dijit/form/_ListBase",["dojo/_base/declare","dojo/on","dojo/window"],function(_993,on,_994){return _993("dijit.form._ListBase",null,{selected:null,_listConnect:function(_995,_996){var self=this;return self.own(on(self.containerNode,on.selector(function(_997,_998,_999){return _997.parentNode==_999;},_995),function(evt){self[_996](evt,this);}));},selectFirstNode:function(){var _99a=this.containerNode.firstChild;while(_99a&&_99a.style.display=="none"){_99a=_99a.nextSibling;}this._setSelectedAttr(_99a,true);},selectLastNode:function(){var last=this.containerNode.lastChild;while(last&&last.style.display=="none"){last=last.previousSibling;}this._setSelectedAttr(last,true);},selectNextNode:function(){var _99b=this.selected;if(!_99b){this.selectFirstNode();}else{var next=_99b.nextSibling;while(next&&next.style.display=="none"){next=next.nextSibling;}if(!next){this.selectFirstNode();}else{this._setSelectedAttr(next,true);}}},selectPreviousNode:function(){var _99c=this.selected;if(!_99c){this.selectLastNode();}else{var prev=_99c.previousSibling;while(prev&&prev.style.display=="none"){prev=prev.previousSibling;}if(!prev){this.selectLastNode();}else{this._setSelectedAttr(prev,true);}}},_setSelectedAttr:function(node,_99d){if(this.selected!=node){var _99e=this.selected;if(_99e){this.onDeselect(_99e);this.selected=null;}if(node){this.selected=node;if(_99d){_994.scrollIntoView(node);}this.onSelect(node);}}else{if(node){this.onSelect(node);}}}});});},"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n","epi/shell/form/SuggestionSelectionEditor":function(){define(["dojo/_base/declare","epi/shell/store/JsonRest","dijit/form/ComboBox"],function(_99f,_9a0,_9a1){return _99f([_9a1],{postMixInProperties:function(){var _9a2=new _9a0({target:this.storeurl});this.set("store",_9a2);this.inherited(arguments);}});});},"dijit/form/ComboBox":function(){define("dijit/form/ComboBox",["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(_9a3,_9a4,_9a5){return _9a3("dijit.form.ComboBox",[_9a4,_9a5],{});});},"epi/shell/HashWrapper":function(){define("epi/shell/HashWrapper",["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/cookie","dojo/io-query","dojo/hash","dojo/Stateful","epi/epi"],function(_9a6,_9a7,lang,_9a8,io,hash,_9a9,epi){return _9a7([_9a9],{encodeEnabled:false,_requestContext:true,_hashChanged:true,constructor:function(_9aa){if(_9aa){this.encodeEnabled=_9aa.encodeEnabled;}_9a6.subscribe("/dojo/hashchange",this,"_onHashChanged");},getHash:function(){var _9ab=hash();if(!_9ab){var _9ac=_9a8("epihash");if(_9ac){_9ab=hash(_9ac);}_9a8("epihash",null,{expires:-1,path:"/"});}return io.queryToObject(decodeURIComponent(_9ab));},setHash:function(_9ad){hash(this.encodeEnabled?encodeURIComponent(decodeURIComponent(io.objectToQuery(_9ad))):decodeURIComponent(io.objectToQuery(_9ad)));},hashEmpty:function(){return epi.isEmpty(this.getHash());},onHashChanged:function(ctx){},_hashAreEqual:function(_9ae,_9af){if(!_9ae&&!_9af){return true;}if(_9ae&&_9af){return (_9ae.context===_9af.context);}return false;},onContextChange:function(ctx,_9b0){this._onContextChange(ctx,_9b0);},extractHash:function(ctx,_9b1){var _9b2=this.getHash();var _9b3=this._getNewHash(ctx);var _9b4=this.hashEmpty()?_9b3:lang.mixin(_9b2,_9b3);return this.encodeEnabled?encodeURIComponent(decodeURIComponent(io.objectToQuery(_9b4))):decodeURIComponent(io.objectToQuery(_9b4));},_onContextChange:function(ctx,_9b5){var _9b6=this.getHash();var _9b7=this._getNewHash(ctx);if(!this._hashAreEqual(_9b6,_9b7)){if(!_9b5||_9b5.sender!==this){this._requestContext=false;hash(this.extractHash(ctx,_9b5));}this.onHashChanged(ctx);}else{if(this._hashChanged){this.onHashChanged(ctx);}}this._hashChanged=false;},_getNewHash:function(ctx){return {context:ctx.requestedUri||ctx.versionAgnosticUri||ctx.uri};},_onHashChanged:function(_9b8){if(this._requestContext){this._hashChanged=true;var _9b9=io.queryToObject(decodeURIComponent(_9b8));if(_9b9&&_9b9.context){var _9ba={uri:_9b9.context};_9a6.publish("/epi/shell/context/request",[_9ba,{sender:this}]);}}this._requestContext=true;}});});},"dojo/cookie":function(){define("dojo/cookie",["./_base/kernel","./regexp"],function(dojo,_9bb){dojo.cookie=function(name,_9bc,_9bd){var c=document.cookie,ret;if(arguments.length==1){var _9be=c.match(new RegExp("(?:^|; )"+_9bb.escapeString(name)+"=([^;]*)"));ret=_9be?decodeURIComponent(_9be[1]):undefined;}else{_9bd=_9bd||{};var exp=_9bd.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_9bd.expires=d;}if(exp&&exp.toUTCString){_9bd.expires=exp.toUTCString();}_9bc=encodeURIComponent(_9bc);var _9bf=name+"="+_9bc,_9c0;for(_9c0 in _9bd){_9bf+="; "+_9c0;var _9c1=_9bd[_9c0];if(_9c1!==true){_9bf+="="+_9c1;}}document.cookie=_9bf;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"dojo/hash":function(){define("dojo/hash",["./_base/kernel","require","./_base/config","./_base/connect","./_base/lang","./ready","./sniff"],function(dojo,_9c2,_9c3,_9c4,lang,_9c5,has){dojo.hash=function(hash,_9c6){if(!arguments.length){return _9c7();}if(hash.charAt(0)=="#"){hash=hash.substring(1);}if(_9c6){_9c8(hash);}else{location.href="#"+hash;}return hash;};var _9c9,_9ca,_9cb,_9cc=_9c3.hashPollFrequency||100;function _9cd(str,_9ce){var i=str.indexOf(_9ce);return (i>=0)?str.substring(i+1):"";};function _9c7(){return _9cd(location.href,"#");};function _9cf(){_9c4.publish("/dojo/hashchange",[_9c7()]);};function _9d0(){if(_9c7()===_9c9){return;}_9c9=_9c7();_9cf();};function _9c8(hash){if(_9ca){if(_9ca.isTransitioning()){setTimeout(lang.hitch(null,_9c8,hash),_9cc);return;}var href=_9ca.iframe.location.href;var _9d1=href.indexOf("?");_9ca.iframe.location.replace(href.substring(0,_9d1)+"?"+hash);return;}location.replace("#"+hash);!_9cb&&_9d0();};function _9d2(){var ifr=document.createElement("iframe"),_9d3="dojo-hash-iframe",_9d4=_9c3.dojoBlankHtmlUrl||_9c2.toUrl("./resources/blank.html");if(_9c3.useXDomain&&!_9c3.dojoBlankHtmlUrl){console.warn("dojo.hash: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}ifr.id=_9d3;ifr.src=_9d4+"?"+_9c7();ifr.style.display="none";document.body.appendChild(ifr);this.iframe=dojo.global[_9d3];var _9d5,_9d6,_9d7,_9d8,_9d9,_9da=this.iframe.location;function _9db(){_9c9=_9c7();_9d5=_9d9?_9c9:_9cd(_9da.href,"?");_9d6=false;_9d7=null;};this.isTransitioning=function(){return _9d6;};this.pollLocation=function(){if(!_9d9){try{var _9dc=_9cd(_9da.href,"?");if(document.title!=_9d8){_9d8=this.iframe.document.title=document.title;}}catch(e){_9d9=true;console.error("dojo.hash: Error adding history entry. Server unreachable.");}}var hash=_9c7();if(_9d6&&_9c9===hash){if(_9d9||_9dc===_9d7){_9db();_9cf();}else{setTimeout(lang.hitch(this,this.pollLocation),0);return;}}else{if(_9c9===hash&&(_9d9||_9d5===_9dc)){}else{if(_9c9!==hash){_9c9=hash;_9d6=true;_9d7=hash;ifr.src=_9d4+"?"+_9d7;_9d9=false;setTimeout(lang.hitch(this,this.pollLocation),0);return;}else{if(!_9d9){location.href="#"+_9da.search.substring(1);_9db();_9cf();}}}}setTimeout(lang.hitch(this,this.pollLocation),_9cc);};_9db();setTimeout(lang.hitch(this,this.pollLocation),_9cc);};_9c5(function(){if("onhashchange" in dojo.global&&(!has("ie")||(has("ie")>=8&&document.compatMode!="BackCompat"))){_9cb=_9c4.connect(dojo.global,"onhashchange",_9cf);}else{if(document.addEventListener){_9c9=_9c7();setInterval(_9d0,_9cc);}else{if(document.attachEvent){_9ca=new _9d2();}}}});return dojo.hash;});},"epi/shell/layout/GroupContainer":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","./SimpleContainer"],function(_9dd,_9de,_9df,_9e0){return _9dd([_9e0],{labelNode:null,templateString:"<fieldset><ul class=\"epi-form-container__section\" data-dojo-attach-point=\"containerNode\"></ul></fieldset>",_setTitleAttr:function(_9e1){var _9e2,node;if(_9e1){_9e2=this.labelNode?"replace":"first";node=this.labelNode||this.domNode;this.labelNode=_9df.create("legend",{innerHTML:_9e1},node,_9e2);}else{if(this.labelNode){_9df.destroy(this.labelNode);}}}});});},"epi/shell/layout/SimpleContainer":function(){define(["dojo/_base/declare","dojo/dom-construct","../form/formFieldRegistry","../form/Field","../form/HiddenField","../form/Group","dijit/_TemplatedMixin","dijit/layout/_LayoutWidget"],function(_9e3,_9e4,_9e5,_9e6,_9e7,_9e8,_9e9,_9ea){var _9eb=_9e3([_9ea,_9e9],{templateString:"<ul class=\"epi-form-container__section\"></ul>",_FieldItem:_9e6,_HiddenFieldItem:_9e7,_ParentItem:_9e8,_GroupItem:_9e8,addChild:function(_9ec){var _9ed,_9ee=_9e5.get(_9ec._type,_9ec._hint);if(_9ee){this.own(_9ed=_9ee(_9ec,this));this._addChildToWrapper(_9ed,_9ec);!_9ee.preventAdd&&this.inherited(arguments,[_9ed]);}else{_9ed=_9e4.create("li",{"class":"epi-form-container__section__row epi-form-container__section__row--"+_9ec._type});_9ed.appendChild(_9ec.domNode);_9e4.place(_9ed,this.containerNode,"last");if(this._started&&!_9ec._started){_9ec.startup();}}},_addChildToWrapper:function(_9ef,_9f0){_9ef.addChild(_9f0);},layout:function(){var _9f1=this.getChildren();_9f1&&_9f1.forEach(function(_9f2){var _9f3=_9f2.getChildren()[0];if(_9f3&&_9f3.resize){_9f3.resize();}});},_setTitleAttr:function(_9f4){this._set("title",_9f4);}});return _9eb;});},"epi/shell/form/formFieldRegistry":function(){define([],function(){var _9f5={},_9f6={type:{group:"group",parent:"parent",field:"field",hiddenField:"hiddenfield"},add:function(_9f7){var _9f8;function _9f9(reg){var key=reg.type+reg.hint;_9f5[key]?_9f5[key].unshift(reg.factory):_9f5[key]=[reg.factory];return {remove:function(){_9f6.remove(reg);reg=null;}};};_9f7 instanceof Array?_9f8=_9f7.map(_9f9):_9f8=_9f9(_9f7);return _9f8;},remove:function(reg){var _9fa=_9f5[reg.type+reg.hint],_9fb=_9fa?_9fa.indexOf(reg.factory):-1;if(_9fb>-1){_9fa.splice(_9fb,1);}},get:function(type,hint){var _9fc=_9f5[type+(hint||"")];return (_9fc&&_9fc.length)?_9fc[0]:null;},clear:function(){_9f5={};}};return _9f6;});},"epi/shell/form/Field":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dijit/_TemplatedMixin","./formFieldRegistry","dojo/text!./templates/Field.html"],function(_9fd,_9fe,_9ff,_a00,_a01,_a02,_a03,_a04,_a05,_a06){var _a07=_9fd([_a01,_a02,_a03,_a04],{labelTarget:"",label:"",readonlyIconDisplay:null,hasFullWidthValue:false,templateString:_a06,addChild:function(_a08,_a09){if(_a08.checkbox){this._addCheckboxChild(_a08,this.labelNode);}else{this.inherited(arguments);}},_addCheckboxChild:function(_a0a,_a0b){_9fe.toggle(this.domNode,"epi-form-container__section__row--checkbox",true);_9ff.place(_a0a.domNode,_a0b,"before");if(this._started&&!_a0a._started){_a0a.startup();}},_setReadonlyIconDisplayAttr:function(_a0c){this._set("readonlyIconDisplay",_a0c);_a00.set(this.readonlyIcon,"display",_a0c===true?"":"none");},_setLabelAttr:function(_a0d){this._set("label",_a0d);this.labelNode.insertBefore(_9ff.toDom(_a0d),this.readonlyIcon);_9fe.toggle(this.labelNode,"dijitHidden",!_a0d);},_setLabelTargetAttr:{node:"labelNode",attribute:"for",type:"attribute"},_setTooltipAttr:{node:"labelNode",attribute:"title",type:"attribute"},_setHasFullWidthValueAttr:function(_a0e){_a0e&&_9fe.add(this.containerNode,"epi-form-container__section__row--full-width");}});_a05.add({type:_a05.type.field,hint:"",factory:function(_a0f,_a10){var _a11=new _a10._FieldItem({labelTarget:_a0f.checkbox?_a0f.checkbox.id:_a0f.id,label:_a0f.label,tooltip:_a0f.tooltip,readonlyIconDisplay:_a0f.readOnly,hasFullWidthValue:_a0f.useFullWidth});_a11.own(_a0f.watch("readOnly",function(name,_a12,_a13){_a11.set("readonlyIconDisplay",_a13);}));return _a11;}});return _a07;});},"url:epi/shell/form/templates/Field.html":"<li class=\"epi-form-container__section__row epi-form-container__section__row--field\">\n    <label data-dojo-attach-point=\"labelNode\">\n        <span class=\"dijitInline dijitReset dijitIcon epi-iconPenDisabled\" data-dojo-attach-point=\"readonlyIcon\"></span>\n    </label>\n</li>","epi/shell/form/HiddenField":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dijit/_TemplatedMixin","./formFieldRegistry","dojo/text!./templates/HiddenField.html"],function(_a14,_a15,_a16,_a17,_a18,_a19,_a1a){var _a1b=_a14([_a15,_a16,_a17,_a18],{templateString:_a1a});_a19.add({type:_a19.type.hiddenField,hint:"",factory:function(_a1c,_a1d){return new _a1d._HiddenFieldItem();}});return _a1b;});},"url:epi/shell/form/templates/HiddenField.html":"<li class=\"epi-form-container__section__row dijitHidden\">\n</li>","epi/shell/form/Group":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dijit/_TemplatedMixin","dojo/text!./templates/Group.html"],function(_a1e,_a1f,_a20,_a21,_a22,_a23){return _a1e([_a1f,_a20,_a21,_a22],{templateString:_a23});});},"url:epi/shell/form/templates/Group.html":"<li></li>","epi/shell/layout/ParentContainer":function(){define(["dojo/_base/declare","epi/shell/layout/GroupContainer"],function(_a24,_a25){return _a24([_a25],{});});},"epi/shell/layout/PinnablePane":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/topic","dojo/when","dojo/text!./templates/PinnablePane.html","dijit/_Contained","dijit/_Container","dijit/_TemplatedMixin","dijit/layout/ContentPane","epi/dependency","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources","epi/shell/layout/PinnablePaneSplitter","epi/shell/widget/_ActionConsumerWidget","epi/shell/widget/_ActionProvider","epi/shell/widget/ToolbarSet"],function(_a26,_a27,_a28,lang,win,_a29,_a2a,_a2b,_a2c,when,_a2d,_a2e,_a2f,_a30,_a31,_a32,_a33,_a34,_a35,_a36,_a37){return _a27([_a31,_a30,_a2e,_a2f,_a35],{pinned:false,visible:false,templateString:_a2d,baseClass:"epi-pinnable",postMixInProperties:function(){var _a38=_a32.resolve("epi.shell.Profile");this.inherited(arguments);when(_a38.get(this.id),lang.hitch(this,function(_a39){if(_a39){this.pinned=_a39.pinned;this.visible=_a39.visible;this.size=_a39.size;}}));this._profile=_a38;},buildRendering:function(){this.inherited(arguments);var _a3a=new _a37({baseClass:"epi-pinnableToolbar"},this.toolbarNode);this.own(_a3a);this.set("definitionConsumer",_a3a);_a2b.set(this.containerNode,"width",(this.size||this.minSize)+"px");if(!this.pinned){this.set("pinned",this.pinned);}if(!this.visible){this.set("visible",this.visible);}},postCreate:function(){var _a3b="",ltr=this.isLeftToRight(),_a3c=function(){if(this.visible){this._dragging=true;}},_a3d=function(){this._dragging=false;};this.inherited(arguments);if(this.region){switch(this.region){case "trailing":case "right":_a3b=ltr?"right":"left";break;case "leading":case "left":_a3b=ltr?"left":"right";break;case "top":_a3b="top";break;case "bottom":_a3b="bottom";break;}_a29.add(this.domNode,this.baseClass+"-"+_a3b);}this.subscribe("/epi/layout/pinnable/"+this.id+"/toggle",function(_a3e){if(typeof _a3e!=="boolean"){_a3e=!this.visible;}this.set("visible",_a3e);});this.subscribe("/dnd/start",_a3c);this.subscribe("/dnd/drop",_a3d);this.subscribe("/dnd/cancel",_a3d);},startup:function(){var _a3f=this._splitterWidget;if(this._started){return;}_a26.forEach(this.getChildren(),function(_a40){if(_a40.isInstanceOf(_a36)){this.addProvider(_a40);}},this);this.inherited(arguments);this._container=this.getParent();if(this.splitter&&_a3f){_a3f=_a34(_a3f);if(!this.visible){_a3f.hide();}this.connect(_a3f,"_stopDrag",this.persist);}this._refreshState();},resize:function(_a41){var pos=this.region,_a42=this.visible&&this.pinned,_a43=_a2a.getMarginBox(this.domNode),_a44=_a2a.getMarginBox(this.containerNode),_a45={},_a46={t:_a43.t},_a47=pos==="left"||pos==="leading",_a48=pos==="right"||pos==="trailing";if(!this._toolbarHeight){this._toolbarHeight=_a2a.getMarginBox(this.definitionConsumer.domNode).h;}_a2a.setMarginBox(this.domNode,{w:_a42?_a44.w:0});if(_a41){if(_a41.w){_a45.w=_a44.w=_a41.w;if(!this.pinned){delete _a41.w;}}if(_a41.h){_a43.h=_a41.h;}}var _a49=this._computeMaxSize();if(this._visibilityChanged&&_a49<_a44.w){_a45.w=_a44.w=_a49;}_a45.h=_a43.h-this._toolbarHeight;_a2a.setMarginBox(this.containerNode,_a45);if(_a47){_a46.l=_a43.l;}else{if(_a48){_a46.l=_a42?0:0-_a44.w;}}_a2a.setMarginBox(this.pinnableNode,_a46);if(this._splitterWidget){var _a4a=_a2a.getMarginBox(this._splitterWidget.domNode),_a4b={t:_a43.t};if(_a47){_a4b.l=_a44.w;}else{if(_a48){_a4b.l=_a42?_a43.l-_a4a.w:_a43.l-_a44.w;}}_a2a.setMarginBox(this._splitterWidget.domNode,_a4b);}this.inherited(arguments);},persist:function(){var _a4c={pinned:this.pinned,visible:this.visible,size:_a2b.get(this.containerNode,"width")};this._profile.set(this.id,_a4c);},getActions:function(){var _a4d=this.inherited(arguments),_a4e=/left|leading/.test(this.region),pin={name:"pin",widgetType:"dijit/form/ToggleButton",title:this._getPinTitle(),iconClass:"epi-iconPin",settings:{showLabel:false,"class":"epi-chromelessButton",checked:this.pinned,region:_a4e?"trailing":"leading"},action:lang.hitch(this,this._togglePinned)},_a4f={name:"settings",title:_a33.gadgetchrome.settingsmenutooltip,type:"dropdown",iconClass:"epi-iconSettings",settings:{showLabel:false,"class":"epi-chromelessButton",dropDownPosition:_a4e?["below-alt"]:["below"],region:_a4e?"trailing":"leading"}};_a4d.splice(0,0,_a4f);_a4d.splice(_a4e?_a4d.length:0,0,pin);return _a4d;},_setPinnedAttr:function(_a50){this._set("pinned",_a50);_a29.toggle(this.pinnableNode,this.baseClass+"-pinned",_a50);_a29.toggle(this.pinnableNode,this.baseClass+"-unpinned",!_a50);_a2b.set(this.pinnableNode,"position",_a50?"relative":"absolute");this.definitionConsumer.setItemProperty("pin","title",this._getPinTitle());if(this._started){this._refreshState();}if(!this.pinned){this.set("visible",false);}},_setVisibleAttr:function(_a51){this._set("visible",_a51);_a2b.set(this.pinnableNode,"display",_a51?"block":"none");if(this._splitterWidget){(_a51)?this._splitterWidget.show():this._splitterWidget.hide();}if(this._started){this._visibilityChanged=true;this._refreshState();this._visibilityChanged=false;}},_togglePinned:function(){this.set("pinned",!this.pinned);},_refreshState:function(){this._disconnectUnpinnedEvents();if(this.visible&&!this.pinned){this._connectUnpinnedEvents();}this._container.layout();this.resize();this.persist();_a2c.publish("/epi/layout/pinnable/"+this.id+"/visibilitychanged",this.visible);},_connectUnpinnedEvents:function(){this._unpinnedEvents=[this.connect(this.domNode,"onmousedown",function(e){e.stopPropagation();}),this.connect(this._container.domNode,"onmousedown",lang.hitch(this,this.set,"visible",false)),this.connect(win.global,"onresize",lang.hitch(this,this.set,"visible",false)),this.connect(this.domNode,"onmouseover",_a28.stop),this.connect(this._container.domNode,"onmouseover",function(){if(this._dragging){this.set("visible",false);}}),_a2c.subscribe("/epi/shell/action/changeview",lang.hitch(this,this.set,"visible",false))];},_disconnectUnpinnedEvents:function(){_a26.forEach(this._unpinnedEvents,this.disconnect);},_computeMaxSize:function(){var _a52=_a2a.getMarginBox(this.domNode).w,_a53=_a26.filter(this._container.getChildren(),function(_a54){return _a54.region==="center";})[0],_a55=_a2a.getMarginBox(_a53.domNode).w;return Math.min(this.maxSize,_a52+_a55);},_getPinTitle:function(){return this.pinned?_a33.pinnablepane.unpin:_a33.pinnablepane.pin;}});});},"url:epi/shell/layout/templates/PinnablePane.html":"<div class=\"epi-pinnableDock\">\r\n    <div class=\"epi-pinnableFacade\">\r\n        <div class=\"epi-pinnablePane\" data-dojo-attach-point=\"pinnableNode\">\r\n            <div data-dojo-attach-point=\"toolbarNode\"></div>\r\n            <div class=\"epi-pinnableContentWrapper\">\r\n                <div class=\"epi-pinnableContent\" data-dojo-attach-point=\"containerNode\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","epi/shell/layout/PinnablePaneSplitter":function(){define(["dojo","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/on","dojo/touch"],function(dojo,_a56,_a57,_a58,_a59,on,_a5a){return function(_a5b){return dojo.mixin(_a5b,{_startDrag:function(e){if(!this.cover){this.cover=dojo.doc.createElement("div");_a56.add(this.cover,"dijitSplitterCover");_a57.place(this.cover,this.child.domNode,"after");}_a56.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_a57.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_a56.add(this.domNode,"dijitSplitterShadow");_a57.place(this.fake,this.domNode,"after");}_a56.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_a56.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _a5c=this._factor,_a5d=this.horizontal,axis=_a5d?"pageY":"pageX",_a5e=e[axis],_a5f=this.domNode.style,dim=_a5d?"h":"w",_a60=_a58.getMarginBox(this.child.containerNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_a61=this.region,_a62=_a61==="top"||_a61==="bottom"?"top":"left",_a63=parseInt(_a5f[_a62],10),_a64=dojo.hitch(this.child,"resize"),_a65=dojo.hitch(this.container,"_layoutChildren",this.child.id),de=dojo.doc,_a66=this.child.pinned;this._handlers=this._handlers.concat([on(de,_a5a.move,this._drag=function(e,_a67){var _a68=e[axis]-_a5e,_a69=_a5c*_a68+_a60,_a6a=Math.max(Math.min(_a69,max),min);if(this.live||_a67){_a66?_a65(_a6a):_a64({w:_a6a});}_a5f[_a62]=_a68+_a63+_a5c*(_a6a-_a69)+"px";}),on(de,"dragstart",dojo.stopEvent),on(dojo.body(),"selectstart",dojo.stopEvent),on(de,_a5a.release,dojo.hitch(this,"_stopDrag"))]);dojo.stopEvent(e);},show:function(){_a59.set(this.domNode,{display:"",margin:""});},hide:function(){_a59.set(this.domNode,{display:"none",margin:"0"});}});};});},"epi/shell/widget/_ActionProvider":function(){define(["dojo","dojo/_base/array","dojo/_base/kernel","epi/shell/widget/_ActionProviderBase"],function(dojo,_a6b,_a6c,_a6d){return dojo.declare([_a6d],{_actions:null,constructor:function(){_a6c.deprecated("epi/shell/widget/_ActionProvider","use the command pattern with epi/shell/command/_CommandProviderMixin instead");this._actions=[];},getActions:function(){return this._actions.concat();},hasAction:function(_a6e){return _a6b.some(this._actions,function(_a6f){return _a6f.name===_a6e;});},setActionProperty:function(_a70,_a71,_a72){var _a73=typeof _a70=="string"?_a70:_a70.name;for(var i=0;i<this._actions.length;i++){var _a74=this._actions[i];if(_a74.name===_a73){_a74[_a71]=_a72;this.onActionPropertyChanged(_a74,_a71,_a72);return;}}throw new Error("No action registered with the name: "+_a73);},addActions:function(_a75){if(dojo.isArray(_a75)){dojo.forEach(_a75,this._addAction,this);}else{this._addAction(_a75);}},removeActions:function(_a76){if(dojo.isArray(_a76)){dojo.forEach(_a76,this._removeAction,this);}else{this._removeAction(_a76);}},_removeAction:function(_a77){for(var i=0;i<this._actions.length;i++){if(this._actions[i].name===_a77.name){this.onActionRemoved(this._actions.splice(i,1)[0]);}}},_addAction:function(_a78){if(dojo.some(this._actions,function(_a79){return _a79.name===_a78.name;})){throw new Error("An action named '"+_a78.name+"' is already registered");}this._actions.push(_a78);this.onActionAdded(_a78);}});});},"epi/shell/layout/PositioningUtility":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(_a7a,lang,dom,_a7b,_a7c,win){return _a7a(null,{_margin:10,userSetTransformId:-1,place:function(_a7d,_a7e){var node=this._getNode(_a7d),pos=this.findPosition(node,_a7e);_a7c(node,{position:"absolute",top:pos.y+"px",left:pos.x+"px"});},findPosition:function(_a7f,_a80){var _a81=_a80.blockViewport||_a80.frame||this._getFramePosition(_a80.snapTo,_a7f),_a82=this._getVisiblePosition(this._getPosition(_a80.snapTo),_a81),_a83=_a80.dialogViewport||win.getBox(),_a84=this._getPosition(_a7f);return this._executeTransformers(_a84,_a82,_a83,_a80.transformIndex);},_getVisiblePosition:function(_a85,_a86){var _a87=lang.clone(_a85);if(_a86.w>0&&_a87.x+_a87.w>_a86.w){_a87.w=_a86.w-_a87.x;}if(_a86.h>0&&_a87.y+_a87.h>_a86.h){_a87.h=_a86.h-_a87.y;}_a87.x+=_a86.x;_a87.y+=_a86.y;if(_a87.y<_a86.y){_a87.h=_a87.h-_a86.y+_a87.y;_a87.y=_a86.y;}if(_a87.x<_a86.x){_a87.w=_a87.w-_a86.x+_a87.x;_a87.x=_a86.x;}return _a87;},_getFramePosition:function(_a88,_a89){var _a8a=_a88.ownerDocument.defaultView.frameElement,_a8b;function _a8c(_a8d,_a8e){var doc=_a8d.ownerDocument,pos=_a7b.position(_a8d);if(!_a8e){_a8e=pos;}else{_a8e.x+=pos.x;_a8e.y+=pos.y;}if(doc===_a89.ownerDocument){return _a8e;}else{_a8d=doc.defaultView.frameElement;return _a8c(_a8d,_a8e);}};if(!_a8a){_a8b=win.getBox(_a88.ownerDocument);_a8b.x=_a8b.l;_a8b.y=_a8b.t;return _a8b;}return _a8c(_a8a);},_executeTransformers:function(pos,_a8f,_a90,_a91){if(_a91===this.userSetTransformId){return this._moveIntoViewport(lang.mixin({id:this.userSetTransformId},pos),_a90);}var _a92=null,_a93=isNaN(_a91)?this._transformers:[this._transformers[_a91]];_a93.some(lang.hitch(this,function(_a94){_a92=this._moveIntoViewport(_a94.call(this,pos,_a8f,_a90),_a90);return _a93.length===1||this._isInside(_a92,_a90)&&this._isOutside(_a92,_a8f);}));return _a92;},_getNode:function(_a95){if(_a95&&(typeof _a95==="string"||_a95.nodeType)){return dom.byId(_a95);}if(_a95&&_a95.domNode){return _a95.domNode;}return null;},_getPosition:function(_a96){var pos={x:0,y:0,w:0,h:0},node;if(typeof _a96==="undefined"||_a96===null){return pos;}if(typeof _a96.x!=="undefined"&&typeof _a96.y!=="undefined"){pos=_a96;}node=this._getNode(_a96);if(node){pos=_a7b.position(node,false);}return pos;},_moveIntoViewport:function(_a97,_a98){_a97.x=Math.min(_a98.w-_a97.w,Math.max(0,_a97.x));_a97.y=Math.min(_a98.h-_a97.h,Math.max(0,_a97.y));return _a97;},_isInside:function(_a99,_a9a){return _a99.x>0&&_a99.y>0&&_a99.x+_a99.w<_a9a.w&&_a99.y+_a99.h<_a9a.h;},_isOutside:function(_a9b,_a9c){return _a9b.x>_a9c.x+_a9c.w||_a9b.y>_a9c.y+_a9c.h||_a9b.x+_a9b.w<_a9c.x||_a9b.y+_a9b.h<_a9c.y;},_transformers:[function(_a9d,_a9e,_a9f){return {x:_a9e.x+_a9e.w+this._margin,y:_a9e.y,w:_a9d.w,h:_a9d.h,id:0};},function(_aa0,_aa1,_aa2){return {x:_aa1.x+(_aa1.w/2-_aa0.w/2),y:_aa1.y+_aa1.h+this._margin,w:_aa0.w,h:_aa0.h,id:1};},function(_aa3,_aa4,_aa5){return {x:_aa4.x-_aa3.w-this._margin,y:_aa4.y,w:_aa3.w,h:_aa3.h,id:2};},function(_aa6,_aa7,_aa8){return {x:_aa7.x+(_aa7.w/2-_aa6.w/2),y:_aa7.y-_aa6.h-this._margin,w:_aa6.w,h:_aa6.h,id:3};},function(_aa9,_aaa,_aab){return {x:_aab.w/2-_aa9.w/2,y:_aab.h/2-_aa9.h/2,w:_aa9.w,h:_aa9.h,id:4};}]});});},"epi/shell/MessageService":function(){define("epi/shell/MessageService",["dojo","dojo/store/Memory","dojo/store/Observable"],function(dojo,_aac,_aad){return dojo.declare(null,{_store:null,_idIndex:0,constructor:function(_aae){dojo.mixin(this,_aae);var _aaf=new _aac({idAttribute:"id",data:[]});this._store=new _aad(_aaf);},put:function(_ab0,_ab1,_ab2,_ab3,_ab4,_ab5){return this._store.put({id:++this._idIndex,typeName:_ab0,message:_ab1,contextTypeName:_ab2,contextId:_ab3,externalItemId:_ab4,externalItemData:_ab5});},query:function(_ab6){return this._store.query(_ab6);},observe:function(_ab7,_ab8){return this.query(_ab7).observe(_ab8);},remove:function(_ab9){var _aba=this.query(_ab9);_aba.forEach(dojo.hitch(this,function(item){this._store.remove(item.id);}));return _aba;}});});},"dojo/store/Observable":function(){define("dojo/store/Observable",["../_base/kernel","../_base/lang","../_base/Deferred","../_base/array"],function(_abb,lang,_abc,_abd){var _abe=function(_abf){var _ac0,_ac1=[],_ac2=0;_abf=lang.delegate(_abf);_abf.notify=function(_ac3,_ac4){_ac2++;var _ac5=_ac1.slice();for(var i=0,l=_ac5.length;i<l;i++){_ac5[i](_ac3,_ac4);}};var _ac6=_abf.query;_abf.query=function(_ac7,_ac8){_ac8=_ac8||{};var _ac9=_ac6.apply(this,arguments);if(_ac9&&_ac9.forEach){var _aca=lang.mixin({},_ac8);delete _aca.start;delete _aca.count;var _acb=_abf.queryEngine&&_abf.queryEngine(_ac7,_aca);var _acc=_ac2;var _acd=[],_ace;_ac9.observe=function(_acf,_ad0){if(_acd.push(_acf)==1){_ac1.push(_ace=function(_ad1,_ad2){_abc.when(_ac9,function(_ad3){var _ad4=_ad3.length!=_ac8.count;var i,l,_acf;if(++_acc!=_ac2){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _ad5,_ad6=-1,_ad7=-1;if(_ad2!==_ac0){for(i=0,l=_ad3.length;i<l;i++){var _ad8=_ad3[i];if(_abf.getIdentity(_ad8)==_ad2){_ad5=_ad8;_ad6=i;if(_acb||!_ad1){_ad3.splice(i,1);}break;}}}if(_acb){if(_ad1&&(_acb.matches?_acb.matches(_ad1):_acb([_ad1]).length)){var _ad9=_ad6>-1?_ad6:_ad3.length;_ad3.splice(_ad9,0,_ad1);_ad7=_abd.indexOf(_acb(_ad3),_ad1);_ad3.splice(_ad9,1);if((_ac8.start&&_ad7==0)||(!_ad4&&_ad7==_ad3.length)){_ad7=-1;}else{_ad3.splice(_ad7,0,_ad1);}}}else{if(_ad1){if(_ad2!==_ac0){_ad7=_ad6;}else{if(!_ac8.start){_ad7=_abf.defaultIndex||0;_ad3.splice(_ad7,0,_ad1);}}}}if((_ad6>-1||_ad7>-1)&&(_ad0||!_acb||(_ad6!=_ad7))){var _ada=_acd.slice();for(i=0;_acf=_ada[i];i++){_acf(_ad1||_ad5,_ad6,_ad7);}}});});}var _adb={};_adb.remove=_adb.cancel=function(){var _adc=_abd.indexOf(_acd,_acf);if(_adc>-1){_acd.splice(_adc,1);if(!_acd.length){_ac1.splice(_abd.indexOf(_ac1,_ace),1);}}};return _adb;};}return _ac9;};var _add;function _ade(_adf,_ae0){var _ae1=_abf[_adf];if(_ae1){_abf[_adf]=function(_ae2){if(_add){return _ae1.apply(this,arguments);}_add=true;try{var _ae3=_ae1.apply(this,arguments);_abc.when(_ae3,function(_ae4){_ae0((typeof _ae4=="object"&&_ae4)||_ae2);});return _ae3;}finally{_add=false;}};}};_ade("put",function(_ae5){_abf.notify(_ae5,_abf.getIdentity(_ae5));});_ade("add",function(_ae6){_abf.notify(_ae6);});_ade("remove",function(id){_abf.notify(undefined,id);});return _abf;};lang.setObject("dojo.store.Observable",_abe);return _abe;});},"epi/shell/MetadataManager":function(){define("epi/shell/MetadataManager",["dojo/_base/declare","dojo/_base/json","dojo/Deferred","dojo/when","epi/dependency","./PropertyMetadata"],function(_ae7,json,_ae8,when,_ae9,_aea){return _ae7(null,{store:null,_setTypeMetadataStore:function(){var _aeb=_ae9.resolve("epi.storeregistry");this.store=_aeb.get("epi.shell.metadata");},getMetadataForType:function(type,_aec){function _aed(_aee){return _aee?new _aea(_aee):_aee;};if(this.store===null){this._setTypeMetadataStore();}if(_aec){var def=new _ae8();when(this.store.query({id:type,modelAccessor:json.toJson(_aec)}),function(_aef){if(_aef&&_aef.length){def.resolve(_aed(_aef[0]));}else{def.reject();}},function(){def.reject();});return def.promise;}else{return when(this.store.get(type),_aed);}},_clear:function(){this.store=null;}});});},"epi/shell/PropertyMetadata":function(){define("epi/shell/PropertyMetadata",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","epi/shell/TypeDescriptorManager"],function(_af0,lang,_af1,_af2){var _af3=_af0([],{_propertyMap:null,constructor:function(_af4,_af5){_af0.safeMixin(this,_af4);if(_af5){if(_af5.getName()){this._fullName=_af5.getName()+"."+this.name;}else{this._fullName=this.name;}if(this.name){var _af6="properties."+this.name.toLowerCase();var _af7=lang.getObject("additionalValues.modelTypeIdentifier",false,_af5);if(_af7){var _af8=_af2.getResourceValue(_af7,_af6);if(_af8&&_af8.caption){this.displayName=_af8.caption;}}}}this._propertyMap={};_af1.forEach(this.properties,function(prop){var _af9=new _af3(prop,this);this._propertyMap[_af9.name.toLowerCase()]=_af9;},this);},hasSubProperties:function(){return (this.properties&&this.properties.length);},getPropertyMetadata:function(_afa){var _afb=_afa.toLowerCase().split(".");return this._getPropertyMetaData(_afb);},getName:function(){return this._fullName;},_getPropertyMetaData:function(_afc){var name=_afc.shift();var _afd=this._propertyMap[name]||this._propertyMap[this._getMappedName(name)];if(_afd&&_afc.length){return _afd._getPropertyMetaData(_afc);}return _afd;},_getMappedName:function(name){var _afe;_af1.some(this.mappedProperties||[],function(_aff){return _aff.from.toLowerCase()===name&&(_afe=_aff);});return _afe?_afe.to.toLowerCase():name;}});return _af3;});},"epi/shell/Profile":function(){define("epi/shell/Profile",["dojo/_base/declare","dojo/_base/lang","dojo/json","dojo/Evented","dojo/Deferred","dojo/store/Cache","dojo/store/Memory","dojo/when","epi/routes","epi/shell/store/JsonRest","epi/shell/store/Throttle"],function(_b00,lang,json,_b01,_b02,_b03,_b04,when,_b05,_b06,_b07){return _b00([_b01],{_store:null,constructor:function(_b08){_b00.safeMixin(this,_b08);if(!this._store){var _b09=new _b06({target:_b05.getRestPath({moduleArea:"shell",storeName:"profile"}),defaultRequestParams:{preventLocalizationHeader:true,isProfileRequest:true},preventCache:true});this._store=_b03(_b07(_b09,"get"),new _b04());}when(this._store.get("userName"),lang.hitch(this,function(data){this.userName=data.value;}));},get:function(name){var _b0a=sessionStorage[name];if(!_b0a){_b0a=localStorage[name];}if(_b0a){return json.parse(_b0a);}if(name==="userName"){return this.userName;}return when(this._store.get(name),function(obj){return (obj&&obj.value)||null;},function(){return null;});},set:function(name,_b0b,_b0c){var _b0d=json.stringify(_b0b);if(_b0c&&_b0c.location){switch(_b0c.location){case "session":sessionStorage[name]=_b0d;this._emitChangedEvent(name,_b0b);return _b0d;case "server":var _b0e=new _b02();when(this._store.put({id:name,value:_b0b}),lang.hitch(this,function(){this._emitChangedEvent(name,_b0b);_b0e.resolve();}),_b0e.reject);return _b0e;default:throw "You need to specify a valid location ('session' or 'server').";}}localStorage[name]=_b0d;this._emitChangedEvent(name,_b0b);return _b0d;},_emitChangedEvent:function(name,_b0f){this.emit("changed",{property:name,value:_b0f});}});});},"dojo/store/Cache":function(){define("dojo/store/Cache",["../_base/lang","../_base/Deferred"],function(lang,_b10){var _b11=function(_b12,_b13,_b14){_b14=_b14||{};return lang.delegate(_b12,{query:function(_b15,_b16){var _b17=_b12.query(_b15,_b16);_b17.forEach(function(_b18){if(!_b14.isLoaded||_b14.isLoaded(_b18)){_b13.put(_b18);}});return _b17;},queryEngine:_b12.queryEngine||_b13.queryEngine,get:function(id,_b19){return _b10.when(_b13.get(id),function(_b1a){return _b1a||_b10.when(_b12.get(id,_b19),function(_b1b){if(_b1b){_b13.put(_b1b,{id:id});}return _b1b;});});},add:function(_b1c,_b1d){return _b10.when(_b12.add(_b1c,_b1d),function(_b1e){_b13.add(typeof _b1e=="object"?_b1e:_b1c,_b1d);return _b1e;});},put:function(_b1f,_b20){_b13.remove((_b20&&_b20.id)||this.getIdentity(_b1f));return _b10.when(_b12.put(_b1f,_b20),function(_b21){_b13.put(typeof _b21=="object"?_b21:_b1f,_b20);return _b21;});},remove:function(id,_b22){return _b10.when(_b12.remove(id,_b22),function(_b23){return _b13.remove(id,_b22);});},evict:function(id){return _b13.remove(id);}});};lang.setObject("dojo.store.Cache",_b11);return _b11;});},"epi/shell/store/Throttle":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/aspect","dojo/when","epi/epi"],function(_b24,lang,_b25,when,epi){return function(_b26,_b27){var _b28=[];var _b29=function(_b2a){for(var i=0;i<_b28.length;i++){if(_b28[i].deferred===_b2a){return _b28.splice(i,1);}}return null;};var _b2b=function(_b2c,args){for(var i=0;i<_b28.length;i++){var _b2d=_b28[i];if(_b2d.method===_b2c&&epi.areEqual(_b2d.args,args)){return _b2d;}}return null;};var _b2e=function(_b2f,args){var _b30=_b24.map(args,function(item){return item;});var _b31=_b2b(_b2f,_b30);if(_b31){return _b31.deferred;}var _b32=_b26[_b2f].apply(_b26,_b30);_b28.push({method:_b2f,args:_b30,deferred:_b32});when(_b32,function(){_b29(_b32);},function(){_b29(_b32);});return _b32;};var _b33={};_b33[_b27]=function(){return _b2e(_b27,arguments);};return lang.delegate(_b26,_b33);};});},"epi/shell/ShellModule":function(){define("epi/shell/ShellModule",["epi/patch/patches","dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/topic","dojo/when","dojo/dnd/Manager","epi","epi/_Module","epi/routes","epi/Url","epi/shell/store/Registry","epi/shell/widget/Application","epi/shell/Profile","epi/shell/layout/PositioningUtility","epi/shell/ContextService","epi/shell/ContextHistory","epi/shell/HashWrapper","epi/shell/ViewContextHistory","epi/shell/widget/ComponentController","epi/shell/command/GlobalCommandRegistry","epi/shell/dnd/Avatar","epi/shell/MetadataManager","epi/shell/widget/WidgetFactory","epi/shell/MessageService","epi/shell/TypeDescriptorManager","epi/shell/ViewSettings","epi/shell/socket/hub","epi/shell/customFocusIndicator","dojo/has!epi-socket-logging?epi/shell/socket/log"],function(_b34,_b35,lang,_b36,_b37,when,_b38,epi,_b39,_b3a,Url,_b3b,_b3c,_b3d,_b3e,_b3f,_b40,_b41,_b42,_b43,_b44,_b45,_b46,_b47,_b48,_b49,_b4a,hub){return _b35([_b39],{_settings:null,_initializeHandle:null,constructor:function(_b4b){this._settings=_b4b;},initialize:function(){return when(this.inherited(arguments),lang.hitch(this,function(){var _b4c=new _b3b();this._initializeStores(_b4c);if(!!this._settings.enableWebSockets){hub.start();}this.registerDependency("epi.storeregistry",_b4c);this.registerDependency("epi.shell.Profile",new _b3d());this.registerDependency("epi.shell.MetadataManager",_b46);this.registerDependency("epi.shell.widget.WidgetFactory",_b47);this.registerDependency("epi.shell.MessageService",_b48);this.registerDependency("epi.shell.layout.PositioningUtility",_b3e);this.registerDependency("epi.globalcommandregistry",_b44);var _b4d=new _b41();var _b4e=new _b42();this.registerDependency("epi.shell.controller.Components",new _b43({moduleArea:"Shell"}));this.registerDependency("epi.shell.ContextService",new _b3f());this.registerDependency("epi.shell.ContextHistory",new _b40());this.registerDependency("epi.shell.HashWrapper",_b4d);var _b4f=_b38.manager();_b4f.makeAvatar=function(){return new _b45(this);};_b4f.OFFSET_X=6;_b4f.OFFSET_Y=6;_b36.after(_b4f,"stopDrag",function(_b50){_b37.publish("/dnd/stop",null);return _b50;});this._initializeHandle=_b37.subscribe("/epi/shell/application/initialized",lang.hitch(this,this._requestInitialContext,_b4d,_b4e));return _b49.initialize();}));},uninitialize:function(){if(this._requestFailedHandle){this._requestFailedHandle.remove();}this.inherited(arguments);},_initializeStores:function(_b51){var _b52=_b3a.getRestPath({moduleArea:"shell",storeName:"metadata"}),_b53=_b3a.getRestPath({moduleArea:"shell",storeName:"context"}),_b54=_b3a.getRestPath({moduleArea:"shell",storeName:"searchproviders"}),_b55=_b3a.getRestPath({moduleArea:"shell",storeName:"searchresults"}),_b56=_b3a.getRestPath({moduleArea:"shell",storeName:"componentcategory"}),_b57=_b3a.getRestPath({moduleArea:"shell",storeName:"componentdefinition"}),_b58=_b3a.getRestPath({moduleArea:"shell",storeName:"component"}),_b59=_b3a.getRestPath({moduleArea:"shell",storeName:"componentsortorder"}),_b5a=_b3a.getRestPath({moduleArea:"shell",storeName:"licenseinformation"}),_b5b=_b3a.getRestPath({moduleArea:"shell",storeName:"uidescriptor"});_b51.create("epi.shell.metadata",_b52,{idProperty:"modelType"});_b51.create("epi.shell.context",_b53,{idProperty:"uri"});_b51.create("epi.shell.searchproviders",_b54);_b51.create("epi.shell.searchresults",_b55);_b51.create("epi.shell.componentcategory",_b56,{idProperty:"name"});_b51.create("epi.shell.componentdefinition",_b57);_b51.create("epi.shell.component",_b58);_b51.create("epi.shell.componentsortorder",_b59);_b51.create("epi.shell.licenseinformation",_b5a);_b51.create("epi.shell.uidescriptor",_b5b);},_requestInitialContext:function(_b5c,_b5d){if(this._initializeHandle){this._initializeHandle.remove();}var _b5e=lang.hitch(this,function(_b5f){var _b60=_b5f||_b4a.settings.defaultContext;var _b61=null;if(_b60){this._requestFailedHandle=_b37.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,function(_b62,_b63,_b64){if(_b64&&_b64.sender===this){this._requestFailedHandle.remove();_b5e(null);}}));_b61={uri:_b60};}_b37.publish("/epi/shell/context/request",_b61,{sender:this});});var hash=_b5c.getHash();if(hash&&hash.context){_b5e(hash.context);return;}when(_b5d.getLastContextForView(),function(_b65){var _b66=null;if(_b65&&_b65.fullHomeUrl){var url=new Url(_b65.fullHomeUrl);if(url.authority.toLowerCase()===window.location.host.toLowerCase()){_b66=_b65.versionAgnosticUri;}}_b5e(_b66);});}});});},"epi/patch/patches":function(){define("epi/patch/patches",["./dijit/form/_FormMixin","./dijit/form/_Spinner","./dijit/_HasDropDown","./dojox/form/uploader/plugins/HTML5","./dijit/tree/Tree","./dijit/Dialog","./dojo/dnd/Selector","./dojo/dnd/Moveable","./dojo/store/Observable","./dojo/cldr/nls/nb/gregorian"],function(){return {};});},"epi/patch/dijit/form/_FormMixin":function(){define("epi/patch/dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/lang","dijit/form/_FormMixin"],function(_b67,lang,_b68){lang.mixin(_b68.prototype,{_setValueAttr:function(obj){var map={};_b67.forEach(this._getDescendantFormWidgets(),function(_b69){if(!_b69.name){return;}var _b6a=map[_b69.name]||(map[_b69.name]=[]);_b6a.push(_b69);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _b6b=map[name],_b6c=lang.getObject(name,false,obj);if(_b6c===undefined){continue;}if(!lang.isArray(_b6c)){if(_b6c===null&&_b6b[0].multiple){_b6c=null;}else{_b6c=[_b6c];}}if(typeof _b6b[0].checked=="boolean"){_b67.forEach(_b6b,function(w){w.set("value",_b67.indexOf(_b6c,w.value)!==-1);});}else{if(_b6b[0].multiple){_b6b[0].set("value",_b6c);}else{_b67.forEach(_b6b,function(w,i){w.set("value",_b6c[i]);});}}}}});_b68.prototype._setValueAttr.nom="_setValueAttr";});},"epi/patch/dijit/form/_Spinner":function(){define("epi/patch/dijit/form/_Spinner",["dojo/_base/lang","dijit/form/_Spinner","dijit/form/_TextBoxMixin"],function(lang,_b6d,_b6e){var base=_b6d.prototype._mouseWheeled;lang.mixin(_b6d.prototype,{_arrowPressed:function(_b6f,_b70,_b71){if(this.disabled||this.readOnly){return;}!this.focused&&this.focus();this._setValueAttr(this.adjust(this.get("value"),_b70*_b71),false);_b6e.selectInputText(this.textbox,this.textbox.value.length);},_mouseWheeled:function(evt){if(!this.get("focused")){return;}return base.apply(this,arguments);}});_b6d.prototype._arrowPressed.nom="_arrowPressed";_b6d.prototype._mouseWheeled.nom="_mouseWheeled";});},"dijit/form/_Spinner":function(){require({cache:{"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n"}});define("dijit/form/_Spinner",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/mouse","../typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(_b72,_b73,keys,lang,has,_b74,_b75,_b76,_b77,_b78){return _b72("dijit.form._Spinner",_b76,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:_b77,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val){return val;},_arrowPressed:function(_b79,_b7a,_b7b){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_b7a*_b7b),false);_b78.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(){this._wheelTimer=null;},_typematicCallback:function(_b7c,node,evt){var inc=this.smallDelta;if(node==this.textbox){var key=evt.charOrCode;inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_b7c==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){_b73.stop(evt);var _b7d=evt.wheelDelta/120;if(Math.floor(_b7d)!=_b7d){_b7d=evt.wheelDelta>0?1:-1;}var _b7e=evt.detail?(evt.detail*-1):_b7d;if(_b7e!==0){var node=this[(_b7e>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_b7e,this.smallDelta);if(this._wheelTimer){this._wheelTimer.remove();}this._wheelTimer=this.defer(function(){this._arrowReleased(node);},50);}},_setConstraintsAttr:function(_b7f){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){this.focusNode.setAttribute("aria-valuemin",this.constraints.min);}else{this.focusNode.removeAttribute("aria-valuemin");}if(this.constraints.max!==undefined){this.focusNode.setAttribute("aria-valuemax",this.constraints.max);}else{this.focusNode.removeAttribute("aria-valuemax");}}},_setValueAttr:function(_b80,_b81){this.focusNode.setAttribute("aria-valuenow",_b80);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,_b74.wheel,"_mouseWheeled");this.own(_b75.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_b75.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_b75.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_b75.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});});},"dijit/typematic":function(){define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_b82,_b83,_b84,_b85,lang,on,has,_b86){var _b87=(_b86.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_b88,node,_b89,obj,_b8a,_b8b,_b8c){if(obj!=this._obj){this.stop();this._initialDelay=_b8b||500;this._subsequentDelay=_b8a||0.9;this._minDelay=_b8c||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_b88,_b89);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_b8d,_b8e,_b8f,_b90,_b91,_b92){if(_b8d.keyCode){_b8d.charOrCode=_b8d.keyCode;_b85.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_b8d.charCode){_b8d.charOrCode=String.fromCharCode(_b8d.charCode);_b85.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}var _b93=[on(node,_b83._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==_b8d.charOrCode&&(_b8d.ctrlKey===undefined||_b8d.ctrlKey==evt.ctrlKey)&&(_b8d.altKey===undefined||_b8d.altKey==evt.altKey)&&(_b8d.metaKey===undefined||_b8d.metaKey==(evt.metaKey||false))&&(_b8d.shiftKey===undefined||_b8d.shiftKey==evt.shiftKey)){_b84.stop(evt);_b87.trigger(evt,_b8e,node,_b8f,_b8d,_b90,_b91,_b92);}else{if(_b87._obj==_b8d){_b87.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_b87._obj==_b8d){_b87.stop();}}))];return {remove:function(){_b82.forEach(_b93,function(h){h.remove();});}};},addMouseListener:function(node,_b94,_b95,_b96,_b97,_b98){var _b99=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_b87.trigger(evt,_b94,node,_b95,node,_b96,_b97,_b98);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_b87.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_b87.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_b87.trigger(evt,_b94,node,_b95,node,_b96,_b97,_b98);setTimeout(lang.hitch(this,_b87.stop),50);}}))];return {remove:function(){_b82.forEach(_b99,function(h){h.remove();});}};},addListener:function(_b9a,_b9b,_b9c,_b9d,_b9e,_b9f,_ba0,_ba1){var _ba2=[this.addKeyListener(_b9b,_b9c,_b9d,_b9e,_b9f,_ba0,_ba1),this.addMouseListener(_b9a,_b9d,_b9e,_b9f,_ba0,_ba1)];return {remove:function(){_b82.forEach(_ba2,function(h){h.remove();});}};}});return _b87;});},"dijit/form/RangeBoundTextBox":function(){define("dijit/form/RangeBoundTextBox",["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(_ba3,i18n,_ba4){var _ba5=_ba3("dijit.form.RangeBoundTextBox",_ba4,{rangeMessage:"",rangeCheck:function(_ba6,_ba7){return ("min" in _ba7?(this.compare(_ba6,_ba7.min)>=0):true)&&("max" in _ba7?(this.compare(_ba6,_ba7.max)<=0):true);},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");if(val==null){return false;}var _ba8=false;if("min" in this.constraints){var min=this.constraints.min;_ba8=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min)<0;}if(!_ba8&&("max" in this.constraints)){var max=this.constraints.max;_ba8=this.compare(val,((typeof max!="number")||max>0)?max:0)>0;}return _ba8;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_ba9){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_ba9));},getErrorMessage:function(_baa){var v=this.get("value");if(v!=null&&v!==""&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_baa)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},applyTextDir:function(){}});return _ba5;});},"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n","epi/patch/dijit/_HasDropDown":function(){define("epi/patch/dijit/_HasDropDown",["dojo/_base/array","dojo/_base/lang","dijit/_HasDropDown"],function(_bab,lang,_bac){lang.mixin(_bac.prototype,{_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);}});_bac.prototype._onBlur.nom="_onBlur";_bac.prototype.destroy.nom="destroy";});},"epi/patch/dojox/form/uploader/plugins/HTML5":function(){define("epi/patch/dojox/form/uploader/plugins/HTML5",["dojo/_base/lang","dojox/form/Uploader","dojox/form/uploader/plugins/HTML5"],function(lang,_bad,_bae){lang.mixin(_bae.prototype,{createXhr:function(){var xhr=new XMLHttpRequest();var _baf;xhr.upload.addEventListener("progress",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("load",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("error",lang.hitch(this,function(evt){this.onError(evt);clearInterval(_baf);}),false);xhr.addEventListener("abort",lang.hitch(this,function(evt){this.onAbort(evt);clearInterval(_baf);}),false);xhr.onreadystatechange=lang.hitch(this,function(){if(xhr.readyState===4){clearInterval(_baf);var _bb0;try{_bb0=JSON.parse(xhr.responseText.replace(/^\{\}&&/,""));}catch(e){this.onError({message:e.message,data:xhr.responseText,statusCode:xhr.status,headers:xhr.getAllResponseHeaders()});return;}this.onComplete(_bb0);}});xhr.open("POST",this.getUrl());_baf=setInterval(lang.hitch(this,function(){try{if(typeof (xhr.statusText)){}}catch(e){clearInterval(_baf);}}),250);return xhr;}});_bae.prototype.createXhr.nom="createXhr";});},"epi/patch/dijit/tree/Tree":function(){define("epi/patch/dijit/tree/Tree",["dojo/_base/array","dojo/_base/lang","dojo/DeferredList","dijit/_Container","dijit/Tree"],function(_bb1,lang,_bb2,_bb3,Tree){lang.mixin(Tree._TreeNode.prototype,{setChildItems:function(_bb4){var tree=this.tree,_bb5=tree.model,defs=[];var _bb6=this.getChildren();_bb1.forEach(_bb6,function(_bb7){_bb3.prototype.removeChild.call(this,_bb7);},this);this.defer(function(){_bb1.forEach(_bb6,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);function _bb8(node){var id=_bb5.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var _bb9=_bb1.indexOf(ary,node);if(_bb9!=-1){ary.splice(_bb9,1);}}_bb1.forEach(node.getChildren(),_bb8);};_bb8(node);node.destroyRecursive();}});});this.state="LOADED";if(_bb4&&_bb4.length>0){this.isExpandable=true;_bb1.forEach(_bb4,function(item){var id=_bb5.getIdentity(item),_bba=tree._itemNodesMap[id],node;if(_bba){for(var i=0;i<_bba.length;i++){if(_bba[i]&&!_bba[i].getParent()){node=_bba[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_bb5.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_bba){_bba.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_bb1.forEach(this.getChildren(),function(_bbb){_bbb._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}var def=new _bb2(defs);this.tree._startPaint(def);return def;}});Tree._TreeNode.prototype.setChildItems.nom="setChildItems";lang.mixin(Tree.prototype,{_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}}});Tree.prototype._adjustWidths.nom="_adjustWidths";});},"dojo/DeferredList":function(){define("dojo/DeferredList",["./_base/kernel","./_base/Deferred","./_base/array"],function(dojo,_bbc,_bbd){dojo.DeferredList=function(list,_bbe,_bbf,_bc0,_bc1){var _bc2=[];_bbc.call(this);var self=this;if(list.length===0&&!_bbe){this.resolve([0,[]]);}var _bc3=0;_bbd.forEach(list,function(item,i){item.then(function(_bc4){if(_bbe){self.resolve([i,_bc4]);}else{_bc5(true,_bc4);}},function(_bc6){if(_bbf){self.reject(_bc6);}else{_bc5(false,_bc6);}if(_bc0){return null;}throw _bc6;});function _bc5(_bc7,_bc8){_bc2[i]=[_bc7,_bc8];_bc3++;if(_bc3===list.length){self.resolve(_bc2);}};});};dojo.DeferredList.prototype=new _bbc();dojo.DeferredList.prototype.gatherResults=function(_bc9){var d=new dojo.DeferredList(_bc9,false,true,false);d.addCallback(function(_bca){var ret=[];_bbd.forEach(_bca,function(_bcb){ret.push(_bcb[1]);});return ret;});return d;};return dojo.DeferredList;});},"dijit/Tree":function(){require({cache:{"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\"\n\t\t\t\t\ttabindex=\"-1\" aria-selected=\"false\" id=\"${id}_label\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\"\n\t\t style=\"display: none;\" aria-labelledby=\"${id}_label\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n"}});define("dijit/Tree",["dojo/_base/array","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/DeferredList","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/errors/create","dojo/fx","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector"],function(_bcc,_bcd,_bce,_bcf,_bd0,_bd1,dom,_bd2,_bd3,_bd4,_bd5,_bd6,_bd7,_bd8,keys,lang,on,_bd9,_bda,when,_bdb,_bdc,_bdd,_bde,_bdf,_be0,_be1,_be2,_be3,_be4,_be5,_be6,_be7){_bd0=_bcf(_bd0,{addCallback:function(_be8){this.then(_be8);},addErrback:function(_be9){this.then(null,_be9);}});var _bea=_bcf("dijit._TreeNode",[_bde,_bdf,_be0,_be1,_be2],{item:null,isTreeNode:true,label:"",_setLabelAttr:{node:"labelNode",type:"innerText"},isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:_be3,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_beb){var _bec=(Math.max(_beb,0)*this.tree._nodePixelIndent)+"px";_bd4.set(this.domNode,"backgroundPosition",_bec+" 0px");_bd4.set(this.indentNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_bec);_bcc.forEach(this.getChildren(),function(_bed){_bed.set("indent",_beb+1);});this._set("indent",_beb);},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_bee=tree.model;if(tree._v10Compat&&item===_bee.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");this.tree._startPaint(true);},_applyClassAndStyle:function(item,_bef,_bf0){var _bf1="_"+_bef+"Class";var _bf2=_bef+"Node";var _bf3=this[_bf1];this[_bf1]=this.tree["get"+_bf0+"Class"](item,this.isExpanded);_bd2.replace(this[_bf2],this[_bf1]||"",_bf3||"");_bd4.set(this[_bf2],this.tree["get"+_bf0+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _bf4=this.getParent();if(!_bf4||!_bf4.rowNode||_bf4.rowNode.style.display=="none"){_bd2.add(this.domNode,"dijitTreeIsRoot");}else{_bd2.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_bf5){var _bf6=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_bf7=["*","-","+","*"],idx=_bf5?0:(this.isExpandable?(this.isExpanded?1:2):3);_bd2.replace(this.expandoNode,_bf6[idx],_bf6);this.expandoNodeText.innerHTML=_bf7[idx];},expand:function(){if(this._expandDeferred){return this._expandDeferred;}if(this._collapseDeferred){this._collapseDeferred.cancel();delete this._collapseDeferred;}this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group");}_bd2.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","true");}var def,_bf8=_bd7.wipeIn({node:this.containerNode,duration:_bdd.defaultDuration,onEnd:function(){def.resolve(true);}});def=(this._expandDeferred=new _bd0(function(){_bf8.stop();}));_bf8.play();return def;},collapse:function(){if(this._collapseDeferred){return this._collapseDeferred;}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","false");}_bd2.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var def,_bf9=_bd7.wipeOut({node:this.containerNode,duration:_bdd.defaultDuration,onEnd:function(){def.resolve(true);}});def=(this._collapseDeferred=new _bd0(function(){_bf9.stop();}));_bf9.play();return def;},indent:0,setChildItems:function(_bfa){var tree=this.tree,_bfb=tree.model,defs=[];var _bfc=this.getChildren();_bcc.forEach(_bfc,function(_bfd){_be0.prototype.removeChild.call(this,_bfd);},this);this.defer(function(){_bcc.forEach(_bfc,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);var id=_bfb.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var _bfe=_bcc.indexOf(ary,node);if(_bfe!=-1){ary.splice(_bfe,1);}}node.destroyRecursive();}});});this.state="LOADED";if(_bfa&&_bfa.length>0){this.isExpandable=true;_bcc.forEach(_bfa,function(item){var id=_bfb.getIdentity(item),_bff=tree._itemNodesMap[id],node;if(_bff){for(var i=0;i<_bff.length;i++){if(_bff[i]&&!_bff[i].getParent()){node=_bff[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_bfb.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_bff){_bff.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_bcc.forEach(this.getChildren(),function(_c00){_c00._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}var def=new _bd1(defs);this.tree._startPaint(def);return def;},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _c01=this.getChildren();if(_c01.length==0){this.isExpandable=false;this.collapse();}_bcc.forEach(_c01,function(_c02){_c02._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},setSelected:function(_c03){this.labelNode.setAttribute("aria-selected",_c03?"true":"false");_bd2.toggle(this.rowNode,"dijitTreeRowSelected",_c03);},setFocusable:function(_c04){this.labelNode.setAttribute("tabIndex",_c04?"0":"-1");},_setTextDirAttr:function(_c05){if(_c05&&((this.textDir!=_c05)||!this._created)){this._set("textDir",_c05);this.applyTextDir(this.labelNode,this.labelNode.innerText||this.labelNode.textContent||"");_bcc.forEach(this.getChildren(),function(_c06){_c06.set("textDir",_c05);},this);}}});var Tree=_bcf("dijit.Tree",[_bde,_bdf],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_be4,persist:true,autoExpand:false,dndController:_be7,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_c07,_c08){_bd9.publish(this.id,lang.mixin({tree:this,event:_c07},_c08||{}));},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie";}this.expandChildrenDeferred=new _bd0();this.pendingCommandsDeferred=this.expandChildrenDeferred;this.inherited(arguments);},postCreate:function(){this._initState();var self=this;this.own(on(this.domNode,on.selector(".dijitTreeNode",_bda.enter),function(evt){self._onNodeMouseEnter(_bdc.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode",_bda.leave),function(evt){self._onNodeMouseLeave(_bdc.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeRow","click"),function(evt){self._onClick(_bdc.getEnclosingWidget(this),evt);}),on(this.domNode,on.selector(".dijitTreeRow","dblclick"),function(evt){self._onDblClick(_bdc.getEnclosingWidget(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keypress"),function(evt){self._onKeyPress(_bdc.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keydown"),function(evt){self._onKeyDown(_bdc.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeRow","focusin"),function(evt){self._onNodeFocus(_bdc.getEnclosingWidget(this),evt);}));if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this.inherited(arguments);if(this.dndController){if(lang.isString(this.dndController)){this.dndController=lang.getObject(this.dndController);}var _c09={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_c09[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_c09);}this._load();if(!this.params.path&&!this.params.paths&&this.persist){this.set("paths",this.dndController._getSavedPaths());}this.onLoadDeferred=this.pendingCommandsDeferred;this.onLoadDeferred.then(lang.hitch(this,"onLoad"));},_store2model:function(){this._v10Compat=true;_bd8.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _c0a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_c0a.mayHaveChildren=lang.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_c0a.getChildren=lang.hitch(this,function(item,_c0b,_c0c){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_c0b,_c0c);});}this.model=new _be6(_c0a);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(lang.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");this.domNode.removeAttribute("aria-expanded");this.domNode.removeAttribute("aria-multiselectable");if(this["aria-label"]){rn.containerNode.setAttribute("aria-label",this["aria-label"]);this.domNode.removeAttribute("aria-label");}else{if(this["aria-labelledby"]){rn.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]);this.domNode.removeAttribute("aria-labelledby");}}rn.labelNode.setAttribute("role","presentation");rn.containerNode.setAttribute("role","tree");rn.containerNode.setAttribute("aria-expanded","true");rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);}else{this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);}this.domNode.appendChild(rn.domNode);var _c0d=this.model.getIdentity(item);if(this._itemNodesMap[_c0d]){this._itemNodesMap[_c0d].push(rn);}else{this._itemNodesMap[_c0d]=[rn];}rn._updateLayout();this._expandNode(rn).then(lang.hitch(this,function(){this.expandChildrenDeferred.resolve(true);}));}),lang.hitch(this,function(err){console.error(this,": error loading root: ",err);}));},getNodesByItem:function(item){if(!item){return [];}var _c0e=lang.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_c0e]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(_c0f){var tree=this;return this.pendingCommandsDeferred=this.pendingCommandsDeferred.then(lang.hitch(this,function(){var _c10=_bcc.map(_c0f,function(item){return (!item||lang.isString(item))?item:tree.model.getIdentity(item);});var _c11=[];_bcc.forEach(_c10,function(id){_c11=_c11.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",_c11);}));},_setPathAttr:function(path){if(path.length){return this.set("paths",[path]);}else{return this.set("paths",[]);}},_setPathsAttr:function(_c12){var tree=this;return this.pendingCommandsDeferred=this.pendingCommandsDeferred.then(function(){return new _bd1(_bcc.map(_c12,function(path){var d=new _bd0();path=_bcc.map(path,function(item){return lang.isString(item)?item:tree.model.getIdentity(item);});if(path.length){_c13(path,[tree.rootNode],d);}else{d.reject(new Tree.PathError("Empty path"));}return d;}));}).then(_c14);function _c13(path,_c15,def){var _c16=path.shift();var _c17=_bcc.filter(_c15,function(node){return node.getIdentity()==_c16;})[0];if(!!_c17){if(path.length){tree._expandNode(_c17).then(function(){_c13(path,_c17.getChildren(),def);});}else{def.resolve(_c17);}}else{def.reject(new Tree.PathError("Could not expand path at "+_c16));}};function _c14(_c18){tree.set("selectedNodes",_bcc.map(_bcc.filter(_c18,function(x){return x[0];}),function(x){return x[1];}));};},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(_c19){this.dndController.setSelection(_c19);},expandAll:function(){var _c1a=this;function _c1b(node){var def=new dojo.Deferred();_c1a._expandNode(node).then(function(){var _c1c=_bcc.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=_bcc.map(_c1c,_c1b);new dojo.DeferredList(defs).then(function(){def.resolve(true);});});return def;};return _c1b(this.rootNode);},collapseAll:function(){var _c1d=this;function _c1e(node){var def=new dojo.Deferred();def.label="collapseAllDeferred";var _c1f=_bcc.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=_bcc.map(_c1f,_c1e);new dojo.DeferredList(defs).then(function(){if(!node.isExpanded||(node==_c1d.rootNode&&!_c1d.showRoot)){def.resolve(true);}else{_c1d._collapseNode(node).then(function(){def.resolve(true);});}});return def;};return _c1e(this.rootNode);},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_c20){return (!item||this.model.mayHaveChildren(item))?(_c20?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return "";},_onKeyPress:function(_c21,e){if(e.charCode<=32){return;}if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){var c=String.fromCharCode(e.charCode);this._onLetterKeyNav({node:_c21,key:c.toLowerCase()});_bd5.stop(e);}},_onKeyDown:function(_c22,e){var key=e.keyCode;var map=this._keyHandlerMap;if(!map){map={};map[keys.ENTER]=map[keys.SPACE]=map[" "]="_onEnterKey";map[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]="_onRightArrow";map[keys.UP_ARROW]="_onUpArrow";map[keys.DOWN_ARROW]="_onDownArrow";map[keys.HOME]="_onHomeKey";map[keys.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}this[this._keyHandlerMap[key]]({node:_c22,item:_c22.item,evt:e});_bd5.stop(e);}},_onEnterKey:function(_c23){this._publish("execute",{item:_c23.item,node:_c23.node});this.dndController.userSelect(_c23.node,_bcd.isCopyKey(_c23.evt),_c23.evt.shiftKey);this.onClick(_c23.item,_c23.node,_c23.evt);},_onDownArrow:function(_c24){var node=this._getNextNode(_c24.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function(_c25){var node=_c25.node;var _c26=node.getPreviousSibling();if(_c26){node=_c26;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _c27=node.getChildren();node=_c27[_c27.length-1];}}else{var _c28=node.getParent();if(!(!this.showRoot&&_c28===this.rootNode)){node=_c28;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(_c29){var node=_c29.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(_c2a){var node=_c2a.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _c2b=node.getParent();if(_c2b&&_c2b.isTreeNode&&!(!this.showRoot&&_c2b===this.rootNode)){this.focusNode(_c2b);}}},_onHomeKey:function(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function(){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},multiCharSearchDuration:250,_onLetterKeyNav:function(_c2c){var cs=this._curSearch;if(cs){cs.pattern=cs.pattern+_c2c.key;cs.timer.remove();}else{cs=this._curSearch={pattern:_c2c.key,startNode:_c2c.node};}cs.timer=this.defer(function(){delete this._curSearch;},this.multiCharSearchDuration);var node=cs.startNode;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==cs.startNode&&(node.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));if(node&&node.isTreeNode){if(node!==cs.startNode){this.focusNode(node);}}},isExpandoNode:function(node,_c2d){return dom.isDescendant(node,_c2d.expandoNode)||dom.isDescendant(node,_c2d.expandoNodeText);},_onClick:function(_c2e,e){var _c2f=e.target,_c30=this.isExpandoNode(_c2f,_c2e);if((this.openOnClick&&_c2e.isExpandable)||_c30){if(_c2e.isExpandable){this._onExpandoClick({node:_c2e});}}else{this._publish("execute",{item:_c2e.item,node:_c2e,evt:e});this.onClick(_c2e.item,_c2e,e);this.focusNode(_c2e);}_bd5.stop(e);},_onDblClick:function(_c31,e){var _c32=e.target,_c33=(_c32==_c31.expandoNode||_c32==_c31.expandoNodeText);if((this.openOnDblClick&&_c31.isExpandable)||_c33){if(_c31.isExpandable){this._onExpandoClick({node:_c31});}}else{this._publish("execute",{item:_c31.item,node:_c31,evt:e});this.onDblClick(_c31.item,_c31,e);this.focusNode(_c31);}_bd5.stop(e);},_onExpandoClick:function(_c34){var node=_c34.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _c35=node.getNextSibling();if(_c35){return _c35;}node=node.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.state=="LOADING"){return;}if(node.isExpanded){var ret=node.collapse();this.onClose(node.item,node);this._state(node,false);this._startPaint(ret);return ret;}},_expandNode:function(node){var def=new _bd0();if(node._expandNodeDeferred){return node._expandNodeDeferred;}var _c36=this.model,item=node.item,_c37=this;if(!node._loadDeferred){node.markProcessing();node._loadDeferred=new _bd0();_c36.getChildren(item,function(_c38){node.unmarkProcessing();node.setChildItems(_c38).then(function(){node._loadDeferred.resolve(_c38);});},function(err){console.error(_c37,": error loading "+node.label+" children: ",err);node._loadDeferred.reject(err);});}node._loadDeferred.then(lang.hitch(this,function(){node.expand().then(function(){def.resolve(true);});this.onOpen(node.item,node);this._state(node,true);}));this._startPaint(def);return def;},focusNode:function(node){_bdb.focus(node.labelNode);},_onNodeFocus:function(node){if(node&&node!=this.lastFocused){if(this.lastFocused&&!this.lastFocused._destroyed){this.lastFocused.setFocusable(false);}node.setFocusable(true);this.lastFocused=node;}},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(item){var _c39=this.model,_c3a=_c39.getIdentity(item),_c3b=this._itemNodesMap[_c3a];if(_c3b){var _c3c=this.getLabel(item),_c3d=this.getTooltip(item);_bcc.forEach(_c3b,function(node){node.set({item:item,label:_c3c,tooltip:_c3d});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_c3e,_c3f){var _c40=this.model,_c41=_c40.getIdentity(_c3e),_c42=this._itemNodesMap[_c41];if(_c42){_bcc.forEach(_c42,function(_c43){_c43.setChildItems(_c3f);});}},_onItemDelete:function(item){var _c44=this.model,_c45=_c44.getIdentity(item),_c46=this._itemNodesMap[_c45];if(_c46){_bcc.forEach(_c46,function(node){this.dndController.removeTreeNode(node);var _c47=node.getParent();if(_c47){_c47.removeChild(node);}node.destroyRecursive();},this);delete this._itemNodesMap[_c45];}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var oreo=_bce(this.cookieName);if(oreo){_bcc.forEach(oreo.split(","),function(item){this._openedNodes[item]=true;},this);}}},_state:function(node,_c48){if(!this.persist){return false;}var path=_bcc.map(node.getTreePath(),function(item){return this.model.getIdentity(item);},this).join("/");if(arguments.length===1){return this._openedNodes[path];}else{if(_c48){this._openedNodes[path]=true;}else{delete this._openedNodes[path];}if(this.persist&&this.cookieName){var ary=[];for(var id in this._openedNodes){ary.push(id);}_bce(this.cookieName,ary.join(","),{expires:365});}}},destroy:function(){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!lang.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_c49){if(_c49){_bd3.setMarginBox(this.domNode,_c49);}this._nodePixelIndent=_bd3.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(lang.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths();}));},_outstandingPaintOperations:0,_startPaint:function(p){this._outstandingPaintOperations++;if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var oc=lang.hitch(this,function(){this._outstandingPaintOperations--;if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){this._adjustWidthsTimer=this.defer("_adjustWidths");}});when(p,oc,oc);},_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var _c4a=0,_c4b=[];function _c4c(_c4d){var node=_c4d.rowNode;node.style.width="auto";_c4a=Math.max(_c4a,node.clientWidth);_c4b.push(node);if(_c4d.isExpanded){_bcc.forEach(_c4d.getChildren(),_c4c);}};_c4c(this.rootNode);_c4a=Math.max(_c4a,_bd3.getContentBox(this.domNode).w);_bcc.forEach(_c4b,function(node){node.style.width=_c4a+"px";});},_createTreeNode:function(args){return new _bea(args);},_setTextDirAttr:function(_c4e){if(_c4e&&this.textDir!=_c4e){this._set("textDir",_c4e);this.rootNode.set("textDir",_c4e);}}});Tree.PathError=_bd6("TreePathError");Tree._TreeNode=_bea;return Tree;});},"dojo/fx":function(){define("dojo/fx",["./_base/lang","./Evented","./_base/kernel","./_base/array","./_base/connect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_c4f,dojo,_c50,_c51,_c52,dom,_c53,geom,_c54,_c55){if(!dojo.isAsync){_c54(0,function(){var _c56=["./fx/Toggler"];_c55(_c56);});}var _c57=dojo.fx={};var _c58={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _c59=function(_c5a){this._index=-1;this._animations=_c5a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_c50.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_c59.prototype=new _c4f();lang.extend(_c59,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){_c51.disconnect(this._onAnimateCtx);_c51.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_c51.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=_c51.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_c5b,_c5c){if(!this._current){this._current=this._animations[this._index=0];}if(!_c5c&&this._current.status()=="playing"){return this;}var _c5d=_c51.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_c5e=_c51.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_c5f=_c51.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);_c51.disconnect(_c5d);_c51.disconnect(_c5e);_c51.disconnect(_c5f);});if(this._onAnimateCtx){_c51.disconnect(this._onAnimateCtx);}this._onAnimateCtx=_c51.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){_c51.disconnect(this._onEndCtx);}this._onEndCtx=_c51.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_c51.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);_c51.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_c60,_c61){this.pause();var _c62=this.duration*_c60;this._current=null;_c50.some(this._animations,function(a){if(a.duration<=_c62){this._current=a;return true;}_c62-=a.duration;return false;});if(this._current){this._current.gotoPercent(_c62/this._current.duration,_c61);}return this;},stop:function(_c63){if(this._current){if(_c63){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_c51.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);_c51.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){_c51.disconnect(this._onAnimateCtx);}if(this._onEndCtx){_c51.disconnect(this._onEndCtx);}}});lang.extend(_c59,_c58);_c57.chain=function(_c64){return new _c59(_c64);};var _c65=function(_c66){this._animations=_c66||[];this._connects=[];this._finished=0;this.duration=0;_c50.forEach(_c66,function(a){var _c67=a.duration;if(a.delay){_c67+=a.delay;}if(this.duration<_c67){this.duration=_c67;}this._connects.push(_c51.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new _c52.Animation({curve:[0,1],duration:this.duration});var self=this;_c50.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_c51.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};lang.extend(_c65,{_doAction:function(_c68,args){_c50.forEach(this._animations,function(a){a[_c68].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_c69,args){var t=this._pseudoAnimation;t[_c69].apply(t,args);},play:function(_c6a,_c6b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_c6c,_c6d){var ms=this.duration*_c6c;_c50.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_c6d);});this._call("gotoPercent",arguments);return this;},stop:function(_c6e){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_c50.forEach(this._connects,_c51.disconnect);}});lang.extend(_c65,_c58);_c57.combine=function(_c6f){return new _c65(_c6f);};_c57.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_c52.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _c70=_c53.get(node,"height");return Math.max(_c70,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_c51.connect(anim,"onStop",fini);_c51.connect(anim,"onEnd",fini);return anim;};_c57.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_c52.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_c51.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_c51.connect(anim,"onStop",fini);_c51.connect(anim,"onEnd",fini);return anim;};_c57.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_c53.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_c52.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_c51.connect(anim,"beforeBegin",anim,init);return anim;};return _c57;});},"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\"\n\t\t\t\t\ttabindex=\"-1\" aria-selected=\"false\" id=\"${id}_label\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\"\n\t\t style=\"display: none;\" aria-labelledby=\"${id}_label\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n","dijit/tree/TreeStoreModel":function(){define("dijit/tree/TreeStoreModel",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_c71,_c72,_c73,lang){return _c73("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){lang.mixin(this,args);this.connects=[];var _c74=this.store;if(!_c74.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");}if(_c74.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_c72.after(_c74,"onNew",lang.hitch(this,"onNewItem"),true),_c72.after(_c74,"onDelete",lang.hitch(this,"onDeleteItem"),true),_c72.after(_c74,"onSet",lang.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_c75,_c76){if(this.root){_c75(this.root);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_c77){if(_c77.length!=1){throw new Error("dijit.tree.TreeStoreModel: root query returned "+_c77.length+" items, but must return exactly one");}this.root=_c77[0];_c75(this.root);}),onError:_c76});}},mayHaveChildren:function(item){return _c71.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_c78,_c79,_c7a){var _c7b=this.store;if(!_c7b.isItemLoaded(_c78)){var _c7c=lang.hitch(this,arguments.callee);_c7b.loadItem({item:_c78,onItem:function(_c7d){_c7c(_c7d,_c79,_c7a);},onError:_c7a});return;}var _c7e=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_c7b.getValues(_c78,this.childrenAttrs[i]);_c7e=_c7e.concat(vals);}var _c7f=0;if(!this.deferItemLoadingUntilExpand){_c71.forEach(_c7e,function(item){if(!_c7b.isItemLoaded(item)){_c7f++;}});}if(_c7f==0){_c79(_c7e);}else{_c71.forEach(_c7e,function(item,idx){if(!_c7b.isItemLoaded(item)){_c7b.loadItem({item:item,onItem:function(item){_c7e[idx]=item;if(--_c7f==0){_c79(_c7e);}},onError:_c7a});}});}},isItem:function(_c80){return this.store.isItem(_c80);},fetchItemByIdentity:function(_c81){this.store.fetchItemByIdentity(_c81);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_c82,_c83){var _c84={parent:_c82,attribute:this.childrenAttrs[0]},_c85;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_c82,true,_c83);}else{_c85=this.store.newItem(args,_c84);if(_c85&&(_c83!=undefined)){this.pasteItem(_c85,_c82,_c82,false,_c83);}}}});}else{_c85=this.store.newItem(args,_c84);if(_c85&&(_c83!=undefined)){this.pasteItem(_c85,_c82,_c82,false,_c83);}}},pasteItem:function(_c86,_c87,_c88,_c89,_c8a){var _c8b=this.store,_c8c=this.childrenAttrs[0];if(_c87){_c71.forEach(this.childrenAttrs,function(attr){if(_c8b.containsValue(_c87,attr,_c86)){if(!_c89){var _c8d=_c71.filter(_c8b.getValues(_c87,attr),function(x){return x!=_c86;});_c8b.setValues(_c87,attr,_c8d);}_c8c=attr;}});}if(_c88){if(typeof _c8a=="number"){var _c8e=_c8b.getValues(_c88,_c8c).slice();_c8e.splice(_c8a,0,_c86);_c8b.setValues(_c88,_c8c,_c8e);}else{_c8b.setValues(_c88,_c8c,_c8b.getValues(_c88,_c8c).concat(_c86));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(item,_c8f){if(!_c8f){return;}this.getChildren(_c8f.item,lang.hitch(this,function(_c90){this.onChildrenChange(_c8f.item,_c90);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_c91){if(_c71.indexOf(this.childrenAttrs,_c91)!=-1){this.getChildren(item,lang.hitch(this,function(_c92){this.onChildrenChange(item,_c92);}));}else{this.onChange(item);}}});});},"dijit/tree/ForestStoreModel":function(){define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_c93,_c94,_c95,lang,_c96){return _c94("dijit.tree.ForestStoreModel",_c96,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_c97){this.root={store:this,root:true,id:_c97.rootId,label:_c97.rootLabel,children:_c97.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_c98,_c99,_c9a){if(_c98===this.root){if(this.root.children){_c99(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_c9b){this.root.children=_c9b;_c99(_c9b);}),onError:_c9a});}}else{this.inherited(arguments);}},isItem:function(_c9c){return (_c9c===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_c9d){if(_c9d.identity==this.root.id){var _c9e=_c9d.scope||_c95.global;if(_c9d.onItem){_c9d.onItem.call(_c9e,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_c9f,_ca0){if(_c9f===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_ca1,_ca2,_ca3,_ca4,_ca5){if(_ca2===this.root){if(!_ca4){this.onLeaveRoot(_ca1);}}this.inherited(arguments,[_ca1,_ca2===this.root?null:_ca2,_ca3===this.root?null:_ca3,_ca4,_ca5]);if(_ca3===this.root){this.onAddToRoot(_ca1);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _ca6=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_ca7){this.root.children=_ca7;if(_ca6.length!=_ca7.length||_c93.some(_ca6,function(item,idx){return _ca7[idx]!=item;})){this.onChildrenChange(this.root,_ca7);}})});},onNewItem:function(item,_ca8){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_c93.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_ca9,_caa,_cab){this._requeryTop();this.inherited(arguments);}});});},"dijit/tree/_dndSelector":function(){define("dijit/tree/_dndSelector",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/cookie","dojo/mouse","dojo/on","dojo/touch","./_dndContainer"],function(_cac,_cad,_cae,_caf,_cb0,lang,_cb1,_cb2,on,_cb3,_cb4){return _cae("dijit.tree._dndSelector",_cb4,{constructor:function(){this.selection={};this.anchor=null;if(!this.cookieName&&this.tree.id){this.cookieName=this.tree.id+"SaveSelectedCookie";}this.events.push(on(this.tree.domNode,_cb3.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_cb3.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_cb3.move,lang.hitch(this,"onMouseMove")));},singular:false,getSelectedTreeNodes:function(){var _cb5=[],sel=this.selection;for(var i in sel){_cb5.push(sel[i]);}return _cb5;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_cb6){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_cb6){this.anchor=node;}return node;},removeTreeNode:function(node){this.setSelection(this._setDifference(this.getSelectedTreeNodes(),[node]));return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_cb7){var _cb8=this.getSelectedTreeNodes();_cac.forEach(this._setDifference(_cb8,_cb7),lang.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));_cac.forEach(this._setDifference(_cb7,_cb8),lang.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){_cac.forEach(ys,function(y){y.__exclude__=true;});var ret=_cac.filter(xs,function(x){return !x.__exclude__;});_cac.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _cb9=this.getSelectedTreeNodes();var _cba=[],_cbb=[],_cbc=[];_cac.forEach(_cb9,function(node){var ary=node.getTreePath(),_cbd=this.tree.model;_cbb.push(node);_cba.push(ary);ary=_cac.map(ary,function(item){return _cbd.getIdentity(item);},this);_cbc.push(ary.join("/"));},this);var _cbe=_cac.map(_cbb,function(node){return node.item;});this.tree._set("paths",_cba);this.tree._set("path",_cba[0]||[]);this.tree._set("selectedNodes",_cbb);this.tree._set("selectedNode",_cbb[0]||null);this.tree._set("selectedItems",_cbe);this.tree._set("selectedItem",_cbe[0]||null);if(this.tree.persist&&_cbc.length>0){_cb1(this.cookieName,_cbc.join(","),{expires:365});}},_getSavedPaths:function(){var tree=this.tree;if(tree.persist&&tree.dndController.cookieName){var oreo,_cbf=[];oreo=_cb1(tree.dndController.cookieName);if(oreo){_cbf=_cac.map(oreo.split(","),function(path){return path.split("/");});}return _cbf;}},onMouseDown:function(e){if(!this.current||this.tree.isExpandoNode(e.target,this.current)){return;}if(e.type=="mousedown"&&_cb2.isLeft(e)){e.preventDefault();}else{if(e.type!="touchstart"){return;}}var _cc0=this.current,copy=_cad.isCopyKey(e),id=_cc0.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_cc0,copy,e.shiftKey);},onMouseUp:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(this.current,_cad.isCopyKey(e),e.shiftKey);},onMouseMove:function(){this._doDeselect=false;},_compareNodes:function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}},userSelect:function(node,_cc1,_cc2){if(this.singular){if(this.anchor==node&&_cc1){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_cc2&&this.anchor){var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_cc3,end,_cc4=this.anchor;if(cr<0){_cc3=_cc4;end=node;}else{_cc3=node;end=_cc4;}var _cc5=[];while(_cc3!=end){_cc5.push(_cc3);_cc3=this.tree._getNextNode(_cc3);}_cc5.push(end);this.setSelection(_cc5);}else{if(this.selection[node.id]&&_cc1){this.removeTreeNode(node);}else{if(_cc1){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},getItem:function(key){var _cc6=this.selection[key];return {data:_cc6,type:["treeNode"]};},forInSelectedItems:function(f,o){o=o||_cb0.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});});},"dijit/tree/_dndContainer":function(){define("dijit/tree/_dndContainer",["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/on","dojo/touch"],function(_cc7,_cc8,_cc9,_cca,lang,on,_ccb){return _cc8("dijit.tree._dndContainer",null,{constructor:function(tree,_ccc){this.tree=tree;this.node=tree.domNode;lang.mixin(this,_ccc);this.current=null;this.containerState="";_cc9.add(this.node,"dojoDndContainer");this.events=[on(this.node,_ccb.enter,lang.hitch(this,"onOverEvent")),on(this.node,_ccb.leave,lang.hitch(this,"onOutEvent")),_cc7.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_cc7.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart",lang.hitch(_cca,"stop")),on(this.node,"selectstart",lang.hitch(_cca,"stop"))];},destroy:function(){var h;while(h=this.events.pop()){h.remove();}this.node=this.parent=null;},onMouseOver:function(_ccd){this.current=_ccd;},onMouseOut:function(){this.current=null;},_changeState:function(type,_cce){var _ccf="dojoDnd"+type;var _cd0=type.toLowerCase()+"State";_cc9.replace(this.node,_ccf+_cce,_ccf+this[_cd0]);this[_cd0]=_cce;},_addItemClass:function(node,type){_cc9.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_cc9.remove(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});});},"epi/patch/dijit/Dialog":function(){define("epi/patch/dijit/Dialog",["dojo/_base/lang","dijit/Dialog"],function(lang,_cd1){lang.mixin(_cd1.prototype,{_onBlur:function(){}});_cd1.prototype._onBlur.nom="_onBlur";});},"epi/patch/dojo/dnd/Selector":function(){define("epi/patch/dojo/dnd/Selector",["dojo/_base/lang","dojo/dnd/common","dojo/dnd/Selector","dojo/mouse"],function(lang,dnd,_cd2,_cd3){lang.mixin(_cd2.prototype,{onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(_cd3.isLeft(e)){e.preventDefault();}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}e.preventDefault();}});_cd2.prototype.onMouseDown.nom="onMouseDown";});},"epi/patch/dojo/dnd/Moveable":function(){define("epi/patch/dojo/dnd/Moveable",["dojo/_base/lang","dojo/dnd/common","dojo/dnd/Moveable","dojo/touch","dojo/on"],function(lang,dnd,_cd4,_cd5,on){lang.mixin(_cd4.prototype,{onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_cd5.move,lang.hitch(this,"onMouseMove")),on(this.handle,_cd5.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}e.preventDefault();}});_cd4.prototype.onMouseDown.nom="onMouseDown";});},"epi/patch/dojo/store/Observable":function(){define("epi/patch/dojo/store/Observable",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/Deferred","dojo/_base/array"],function(_cd6,lang,_cd7,_cd8){var _cd9=function(_cda){var _cdb,_cdc=[],_cdd=0;_cda=lang.delegate(_cda);_cda.notify=function(_cde,_cdf){_cdd++;var _ce0=_cdc.slice();for(var i=0,l=_ce0.length;i<l;i++){_ce0[i](_cde,_cdf);}};var _ce1=_cda.query;_cda.query=function(_ce2,_ce3){_ce3=_ce3||{};var _ce4=_ce1.apply(this,arguments);if(_ce4&&_ce4.forEach){var _ce5=lang.mixin({},_ce3);delete _ce5.start;delete _ce5.count;var _ce6=_cda.queryEngine&&_cda.queryEngine(_ce2,_ce5);var _ce7=_cdd;var _ce8=[],_ce9;_ce4.observe=function(_cea,_ceb){if(_ce8.push(_cea)==1){_cdc.push(_ce9=function(_cec,_ced){_cd7.when(_ce4,function(_cee){if(_cdc.indexOf(_ce9)===-1){return;}var _cef=_cee.length!=_ce3.count;var i,l,_cea;if(++_ce7!=_cdd){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _cf0,_cf1=-1,_cf2=-1;if(_ced!==_cdb){for(i=0,l=_cee.length;i<l;i++){var _cf3=_cee[i];if(_cda.getIdentity(_cf3)==_ced){_cf0=_cf3;_cf1=i;if(_ce6||!_cec){_cee.splice(i,1);}break;}}}if(_ce6){if(_cec&&(_ce6.matches?_ce6.matches(_cec):_ce6([_cec]).length)){var _cf4=_cf1>-1?_cf1:_cee.length;_cee.splice(_cf4,0,_cec);_cf2=_cd8.indexOf(_ce6(_cee),_cec);_cee.splice(_cf4,1);if((_ce3.start&&_cf2==0)||(!_cef&&_cf2==_cee.length)){_cf2=-1;}else{_cee.splice(_cf2,0,_cec);}}}else{if(_cec){if(_ced!==_cdb){_cf2=_cf1;}else{if(!_ce3.start){_cf2=_cda.defaultIndex||0;_cee.splice(_cf2,0,_cec);}}}}if((_cf1>-1||_cf2>-1)&&(_ceb||!_ce6||(_cf1!=_cf2))){var _cf5=_ce8.slice();for(i=0;_cea=_cf5[i];i++){_cea(_cec||_cf0,_cf1,_cf2);}}});});}var _cf6={};_cf6.remove=_cf6.cancel=function(){var _cf7=_cd8.indexOf(_ce8,_cea);if(_cf7>-1){_ce8.splice(_cf7,1);if(!_ce8.length){_cdc.splice(_cd8.indexOf(_cdc,_ce9),1);}}};return _cf6;};}return _ce4;};var _cf8;function _cf9(_cfa,_cfb){var _cfc=_cda[_cfa];if(_cfc){_cda[_cfa]=function(_cfd){if(_cf8){return _cfc.apply(this,arguments);}_cf8=true;try{var _cfe=_cfc.apply(this,arguments);_cd7.when(_cfe,function(_cff){_cfb((typeof _cff=="object"&&_cff)||_cfd);});return _cfe;}finally{_cf8=false;}};}};_cf9("put",function(_d00){_cda.notify(_d00,_cda.getIdentity(_d00));});_cf9("add",function(_d01){_cda.notify(_d01);});_cf9("remove",function(id){_cda.notify(undefined,id);});return _cda;};lang.setObject("dojo.store.Observable",_cd9);return _cd9;});},"epi/patch/dojo/cldr/nls/nb/gregorian":function(){define("epi/patch/dojo/cldr/nls/nb/gregorian",["dojo/cldr/nls/nb/gregorian","dojo/i18n"],function(_d02,i18n){_d02["dateTimeFormat-medium"]="{1} {0}";_d02["dateTimeFormat-long"]="{1} {0}";_d02["dateTimeFormat-short"]="{1} {0}";_d02["dateTimeFormat-full"]="{1} {0}";var _d03="dojo/cldr/nls/gregorian/nb-no";if(i18n.cache[_d03]){i18n.cache[_d03]=_d02;}});},"epi/shell/store/Registry":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/store/Memory","epi/shell/store/EventedStore","epi/shell/store/JsonRest","epi/shell/store/Patchable","epi/shell/store/Throttle","epi/shell/store/Realtime"],function(_d04,lang,_d05,_d06,_d07,_d08,_d09,_d0a){return _d04(null,{constructor:function(_d0b){lang.mixin(this,_d0b);this._stores={};},add:function(name,_d0c){if(this._stores[name]){throw new Error("A store with the name '"+name+"' already exists.");}return (this._stores[name]=_d0c);},create:function(name,url,_d0d){if(this._stores[name]){throw new Error("A store with the name '"+name+"' already exists.");}var _d0e=new _d05(_d0d),rest=new _d07(lang.mixin({target:url,preventCache:true},_d0d)),_d0f=_d08(_d09(rest,"get"),_d0e),_d10=_d06(_d0f),_d11=_d09(_d10,"query");if(_d0d&&_d0d.realtimeInfo){_d11=_d0a(_d11,_d0d.realtimeInfo);}return (this._stores[name]=_d11);},get:function(name){var _d12=this._stores[name];if(!_d12){throw new Error("No store by the name '"+name+"' exists.");}return _d12;}});});},"epi/shell/store/EventedStore":function(){define(["dojo/Evented","dojo/when"],function(_d13,when){return function(_d14){var _d15=new _d13();_d14.emit=_d15.emit.bind(_d15);_d14.on=_d15.on.bind(_d15);var _d16;function _d17(_d18,_d19){var _d1a=_d14[_d18];if(_d1a){_d14[_d18]=function(){var args=arguments;if(_d16){return _d1a.apply(this,args);}_d16=true;try{var _d1b=_d1a.apply(this,args);when(_d1b).then(function(_d1c){_d19(_d1c,args);});return _d1b;}finally{_d16=false;}};}};function _d1d(type){return function(_d1e){when(_d1e).then(function(_d1f){_d14.emit(type,{target:_d1f});});return _d1e;};};function _d20(type){return function(_d21,args){when(_d21).then(function(){_d14.emit(type,{id:args[0]});});return _d21;};};_d17("add",_d1d("update"));_d17("put",_d1d("update"));_d17("refresh",_d1d("update"));_d17("remove",_d20("delete"));_d17("evict",_d20("delete"));return _d14;};});},"epi/shell/store/Patchable":function(){define(["dojo/_base/lang","dojo/aspect","dojo/promise/all","dojo/store/Cache","dojo/store/Observable","dojo/when","epi/shell/store/storeDelegate"],function(lang,_d22,all,_d23,_d24,when,_d25){return function(_d26,_d27,_d28){var _d29=_d23(_d26,_d27,_d28||{}),_d2a=[];var _d2b=function(_d2c,_d2d){if(typeof _d2c!==typeof _d2d){console.error("The store was queried with a ["+typeof _d2c+"] but the entity id is a ["+typeof _d2d+"]");}};var _d2e=function(_d2f,_d30){if(typeof _d30=="object"){_d2f[_d31.idProperty]=_d30[_d31.idProperty];}else{_d2f[_d31.idProperty]=_d30;}};var _d32=function(_d33){if(_d33._cached){_d33._cached=new Date();}else{Object.defineProperty(_d33,"_cached",{value:new Date(),enumerable:false});}return _d33;};var _d34=function(_d35){if(!_d35._cached){return false;}var now=new Date();now.setMinutes(now.getMinutes()-5);return now>_d35._cached;};_d29.get=function(id,_d36){return when(_d27.get(id),function(_d37){if(_d37){if(_d34(_d37)){_d29.evict(id,_d36);_d37=null;}}return _d37||when(_d26.get(id,_d36),function(_d38){if(_d38){_d2b(id,_d38[_d26.idProperty]);_d27.put(_d32(_d38),{id:id});}return _d38;});});};_d29.put=function(_d39,_d3a){_d27.remove((_d3a&&_d3a.id)||this.getIdentity(_d39));return when(_d26.put(_d39,_d3a),function(_d3b){_d2e(_d39,_d3b);_d27.put(typeof _d3b=="object"?_d32(_d3b):_d32(_d39),_d3a);return _d3b;});};_d29.add=function(_d3c,_d3d){return when(_d26.add(_d3c,_d3d),function(_d3e){_d2e(_d3c,_d3e);_d27.add(typeof _d3e=="object"?_d32(_d3e):_d32(_d3c),_d3d);return _d3e;});};var _d3f=function(obj){return obj&&lang.isObject(obj)&&!lang.isArray(obj)&&!lang.isFunction(obj);};var _d40=function(dest,_d41){var name,s,_d42={};for(name in _d41){s=_d41[name];if(name in dest&&(dest[name]!==s&&(!(name in _d42)||_d42[name]!==s))){if(_d3f(s)&&_d3f(dest[name])){_d40(dest[name],s);}else{dest[name]=s;}}}return dest;};var _d43=_d24(_d29);var _d31=_d25(_d43,{getCached:function(id){return _d27.get(id);},refresh:function(id){return when(this.evict(id),lang.hitch(this,function(){return when(this.get(id),lang.hitch(this,function(_d44){if(_d44){this.notify(_d44,id);this.updateDependentStores(_d44);this.onItemChanged(id,_d44);}return _d44;}));}));},removeRange:function(ids){var self=this;var _d45=ids.map(function(id){self.evict(id);});var _d46=all(_d45).then(function(){return when(self.executeMethod("DeleteRange","",ids));});_d46.then(function(){ids.forEach(function(id){self.notify(undefined,id);});});return _d46;},patchCache:function(_d47){if(!_d47){return;}var id=this.getIdentity(_d47);return when(this.get(id),lang.hitch(this,function(_d48){if(_d48){_d48=_d40(_d48,_d47);when(_d27.put(_d48,{overwrite:true}),lang.hitch(this,function(){this.notify(_d48,id);this.updateDependentStores(_d47);this.onItemChanged(id,_d48);}));}return _d48;}));},addDependentStore:function(_d49,_d4a){if(!_d49.patchCache){throw new Error("addDependentStore: The store must implement the patch method.");}_d2a.push({store:_d49,options:_d4a||{}});},updateDependentStores:function(_d4b){for(var i=_d2a.length-1;i>=0;i--){var _d4c=_d2a[i].store;if(_d2a[i].options.refreshOnPatch){var _d4d=_d2a[i].options.refresh;if(typeof _d4d==="function"){_d4d(_d4b);}else{_d4c.refresh(this.getIdentity(_d4b));}}else{var _d4e=_d2a[i].options.transformDelegate;_d4c.patchCache(typeof _d4e==="function"?_d4e(_d4b):_d4b);}}},onItemChanged:function(id,item){}});return _d31;};});},"epi/shell/store/storeDelegate":function(){define(["dojo/_base/lang","dojo/aspect"],function(lang,_d4f){return function(_d50,_d51){var _d52=lang.delegate(_d50,_d51);if((typeof _d50.notify!=="function")||(typeof _d51!=="object")){return _d52;}var _d53=false;_d4f.before(_d50,"notify",function(){if(_d53){return;}_d53=true;_d52.notify.apply(_d52,arguments);_d53=false;},true);_d52.notify=function(){if(!_d53){_d53=true;_d50.notify.apply(_d52,arguments);}_d53=false;};return _d52;};});},"epi/shell/store/Realtime":function(){define(["dojo/_base/lang","dojo/aspect","dojo/when","dojo/Deferred","dojo/promise/all","epi/shell/socket/hub","epi/shell/TaskQueue","epi/shell/store/storeDelegate"],function(lang,_d54,when,_d55,all,hub,_d56,_d57){return function(_d58,_d59){if(!_d59||!_d59.subscriptionKey){throw new Error("Realtime functionality can't be added to a store without providing realtimeInfo (i.e subscriptionKey & idProperty of the store)");}var _d5a=_d58.idProperty;var _d5b=_d58;function _d5c(){function _d5d(_d5e,_d5f){function _d60(_d61){if(!_d5f.modified){return _d5b.refresh(_d5e);}var _d62=new Date(_d5f.modified).getTime();var _d63=new Date(_d61.modified).getTime();if(_d62!==_d63){return _d5b.refresh(_d5e);}else{_d5b.notify(_d61,_d5e);}return true;};return when(_d5b.getCached(_d5e),function(_d64){if(!_d64){return _d5b.refresh(_d5e);}else{return _d60(_d64);}});};function _d65(_d66){if(_d66){if(!(_d66 instanceof Array)){_d66=[_d66];}var _d67=_d66.map(function(item){var id=item[_d5a];var _d68=item.action;switch(_d68){case 1:return _d5d(id,item);case 2:return when(_d5b.getCached(id),function(_d69){if(_d69){_d5b.evict(id);_d5b.notify(undefined,id);}});default:return true;}});return all(_d67);}return true;};var _d6a=new _d56(_d65,{throttle:5});hub.subscribe(_d59.subscriptionKey,_d6a.enqueue);this.start=function(){_d6a.start();};this.stop=function(){_d6a.stop();};};var _d6b=new _d5c();var _d6c=function(_d6d,_d6e){return function(){_d6b.stop();var _d6f=when(_d6d[_d6e].apply(_d6d,arguments));_d6f.always(function(){_d6b.start();});return _d6f;};};var _d70=_d57(_d5b,{add:_d6c(_d58,"add"),put:_d6c(_d58,"put"),remove:_d6c(_d58,"remove"),removeRange:_d6c(_d58,"removeRange")});return _d70;};});},"epi/shell/socket/hub":function(){define(["epi/routes","./MessageHub","./notificationService","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.socket.connectionmessages"],function(_d71,_d72,_d73,res){var _d74;function _d75(_d76){var _d77=null;if(!_d76.hasBeenConnected&&_d76.lastAttempt){_d77=res.noconnection;}else{if(_d76.hasBeenConnected){if(_d76.connectionAttempts===3){_d77=res.reconnect;}if(_d76.lastAttempt){_d77=res.reconnectfailed;}}}_d77&&_d73.show({title:res.title,description:_d77});};_d74=new _d72(function(){return _d71.getActionPath({moduleArea:"Shell",controller:"socket",action:"endpoint"});});_d74.subscribe("/epi/socket/connectionfailed",_d75);return _d74;});},"epi/shell/socket/MessageHub":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/url","dojo/Evented","dojo/on","./WebSocket"],function(_d78,lang,Url,_d79,on,_d7a){return _d78(null,{maxConnectionAttempts:8,reconnectPause:5000,statusTopic:{open:"/epi/socket/open",error:"/epi/socket/error",reconnect:"/epi/socket/reconnect",connectionfailed:"/epi/socket/connectionfailed",message:"/epi/socket/message"},heartbeatInterval:3000,heartbeatMessage:"/epi/heartbeat",_path:null,_eventListeners:null,_topicHub:null,_connectionAttempts:0,_hasBeenConnected:false,_reconnectHandle:null,_heartbeatHandle:null,_outstandingHeartbeats:0,constructor:function(_d7b){this._topicHub=new _d79();this._socketPathResolver=_d7b;this._eventListeners=[];},start:function(){var _d7c;if(this._socket&&this._socket.readyState!==_d7a.CLOSED){return;}_d7c=new _d7a(this._resolvePath());this._eventListeners.push(on(_d7c,"error",lang.hitch(this,"_onError")),on(_d7c,"open",lang.hitch(this,"_onOpen")),on(_d7c,"close",lang.hitch(this,"_onClose")),on(_d7c,"message",lang.hitch(this,"_onMessage")));this._socket=_d7c;},stop:function(){if(!this._socket){return;}this._reconnectHandle&&clearTimeout(this._reconnectHandle);this._reconnectHandle=null;this._socket.close();this._socket=null;this._eventListeners.forEach(function(_d7d){_d7d.remove();});this._eventListeners=[];},subscribe:function(_d7e,_d7f){return this._topicHub.on(_d7e,_d7f);},_resolvePath:function(){var base=(document.baseURI||window.location.href).replace(/^http/i,"ws");return new Url(base,this._socketPathResolver());},_publish:function(_d80,data){this._topicHub.emit(_d80,data);},_onMessage:function(_d81){var data;if(_d81.data&&!this._handleHeartbeat(_d81.data)){data=JSON.parse(_d81.data);this._publish(this.statusTopic.message,data);if(data&&data.topic){this._publish(data.topic,data.data);}}},_onError:function(e){if(!this._hasBeenConnected&&this._socket.readyState===_d7a.CLOSED){this._connectionAttempts=this.maxConnectionAttempts;}this._publish(this.statusTopic.error,e);},_onOpen:function(e){this._hasBeenConnected=true;this._connectionAttempts=0;this._publish(this.statusTopic.open,e);this._resetHeartbeat();},_onClose:function(e){var _d82,_d83=function(_d84){this._publish(_d84,{connectionAttempts:this._connectionAttempts,lastAttempt:this._connectionAttempts>=this.maxConnectionAttempts,hasBeenConnected:this._hasBeenConnected});}.bind(this),_d85=function(){_d83(this.statusTopic.reconnect);this._reconnectHandle=null;this.stop();this.start();}.bind(this);this._heartbeatHandle&&clearTimeout(this._heartbeatHandle);this._heartbeatHandle=null;if(!this._socket){return;}if(!e.wasClean){this._connectionAttempts++;_d83(this.statusTopic.connectionfailed);}if(this._connectionAttempts<=this.maxConnectionAttempts){_d82=this.reconnectPause*Math.pow(this._connectionAttempts,2);this._reconnectHandle=setTimeout(_d85,_d82);}},_resetHeartbeat:function(){var _d86=function(){if(this._outstandingHeartbeats>1){this._socket.close();}else{this._outstandingHeartbeats++;this._socket.send(this.heartbeatMessage);this._heartbeatHandle=setTimeout(_d86,this.heartbeatInterval);}}.bind(this);if(this.heartbeatInterval===0){return;}this._outstandingHeartbeats=0;if(this._heartbeatHandle){clearTimeout(this._heartbeatHandle);this._heartbeatHandle=setTimeout(_d86,this.heartbeatInterval);}else{_d86();}},_handleHeartbeat:function(data){this._resetHeartbeat();if(data===this.heartbeatMessage){return true;}}});});},"epi/shell/socket/WebSocket":function(){define(function(){return WebSocket;});},"epi/shell/socket/notificationService":function(){define(["dojo/_base/declare","dojo/_base/lang","epi/shell/widget/dialog/Confirmation"],function(_d87,lang,_d88){var _d89,_d8a=_d87([_d88],{getActions:function(){return [{name:this._okButtonName,label:this.buttonOk,title:null,action:lang.hitch(this,this._onCancel)}];}});return {show:function(_d8b){_d89&&_d89.hide();_d89=new _d8a(_d8b);_d89.show();}};});},"epi/shell/TaskQueue":function(){define("epi/shell/TaskQueue",["dojo/_base/lang","dojo/when"],function(lang,when){return function(task,_d8c){if((typeof task!=="function")){throw new Error("TaskQueue can't be created without providing a task processing callback.");}var _d8d=(_d8c&&_d8c.throttle)||0;var _d8e=false;var _d8f=[];var _d90=true;function _d91(){if(_d90&&!_d8e&&_d8f.length>0){_d8e=true;var _d92=_d8f.shift();when(task(_d92)).always(function(){_d8e=false;setTimeout(_d91,_d8d);}).otherwise(function(err){console.error("Something went wrong while running provided function to TaskQueue. "+err);});}};this.start=function(){_d90=true;_d91();};this.stop=function(){_d90=false;};this.enqueue=function(_d93){if(_d93){_d8f.push(_d93);_d91();}};this.getLength=function(){return _d8f.length;};};});},"epi/shell/widget/Application":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-style","dojo/on","dojo/when","dijit/layout/_LayoutWidget","epi/dependency"],function(_d94,_d95,_d96,on,when,_d97,_d98){return _d95([_d97],{_componentController:null,postMixInProperties:function(){this.inherited(arguments);this._componentController=this._componentController||_d98.resolve("epi.shell.controller.Components");},startup:function(){var self=this,_d99;if(this._started){return;}this.inherited(arguments);_d99=[this.containerNode];_d96.set(this.domNode,"visibility","hidden");when(this._componentController.loadComponents(_d99),function(_d9a){_d94.forEach(_d9a,function(_d9b){self._setupChild(_d9b);});self.resize();_d96.set(self.domNode,"visibility","visible");},function(e){console.error(e.stack||e);});},layout:function(){var size=this._contentBox;_d94.forEach(this.getChildren(),function(_d9c){_d9c.resize&&_d9c.resize(size);});}});});},"epi/shell/ContextHistory":function(){define("epi/shell/ContextHistory",["dojo/_base/declare","dojo/_base/lang","dojo/store/Memory","dojo/store/Observable","dojo/topic"],function(_d9d,lang,_d9e,_d9f,_da0){return _d9d(null,{store:null,constructor:function(_da1){lang.mixin(this,_da1);this.store=_d9f(this.createStore());},postscript:function(){_da0.subscribe("/epi/shell/context/changed",lang.hitch(this,this.onContextChanged));},onContextChanged:function(_da2,_da3,_da4){if(this._canExecute(_da3)){this._updateStore(_da2);}},createStoreItem:function(_da5){return {publicUrl:_da5.publicUrl,id:_da5.versionAgnosticUri,uri:_da5.versionAgnosticUri,name:_da5.name,typeIdentifier:_da5.dataType,dateAdded:new Date()};},createStore:function(){return new _d9e({data:[],idProperty:"uri"});},_canExecute:function(_da6){return _da6&&_da6.trigger!=="internal";},_updateStore:function(_da7){var _da8=this.createStoreItem(_da7);this.store.put(_da8,{overwrite:true});if(this.store.data.length>100){this.store.data.shift();}}});});},"epi/shell/ViewContextHistory":function(){define("epi/shell/ViewContextHistory",["dojo/_base/declare","dojo/_base/lang","dojo/Stateful","dojo/topic","epi/dependency","epi/shell/ViewSettings"],function(_da9,lang,_daa,_dab,_dac,_dad){return _da9([_daa],{profile:null,viewName:null,postscript:function(){this.inherited(arguments);_dab.subscribe("/epi/shell/context/changed",lang.hitch(this,"_onContextChanged"));_dab.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,"_onContextChangeFailed"));if(!this.profile){this.profile=_dac.resolve("epi.shell.Profile");}if(!this.viewName){this.viewName=_dad.viewName;}},getLastContextForView:function(){return this.get("profile").get(this._getLastContextProfileKey());},_onContextChanged:function(_dae,_daf){return this._setLastContextForView(_dae);},_onContextChangeFailed:function(_db0,_db1){this._setLastContextForView(null);},_setLastContextForView:function(_db2){return this.get("profile").set(this._getLastContextProfileKey(),_db2,{location:"session"});},_getLastContextProfileKey:function(){return "lastContext"+this.get("viewName");}});});},"epi/shell/widget/ComponentController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/Deferred","dojo/_base/lang","dojo/aspect","dojo/has","dojo/promise/all","dojo/when","dojo/store/JsonRest","dojo/store/Memory","dijit/_WidgetBase","epi/dependency","epi/routes","require","epi/shell/ViewSettings","epi/shell/widget/WidgetFactory"],function(_db3,_db4,_db5,lang,_db6,has,all,when,_db7,_db8,_db9,_dba,_dbb,_dbc,_dbd,_dbe){return _db4([_db9],{moduleArea:null,widgetFactory:null,_componentsMemoryStore:null,_componentsStore:null,_componentsSortOrderStore:null,_saveComponentRequestQueue:[],_isSaveComponentRequestInProgress:false,postMixInProperties:function(){var _dbf;this.inherited(arguments);this.widgetFactory=this.widgetFactory||_dba.resolve("epi.shell.widget.WidgetFactory");_dbf=_dba.resolve("epi.storeregistry");this._componentsStore=this._componentsStore||_dbf.get("epi.shell.component");this._componentsSortOrderStore=this._componentsSortOrderStore||_dbf.get("epi.shell.componentsortorder");this._componentsMemoryStore=new _db8();this.own(_db6.after(this.widgetFactory,"onWidgetCreated",lang.hitch(this,this.onComponentCreated),true));},onComponentCreated:function(_dc0,_dc1){var cd=lang.clone(_dc1);cd._widgetId=_dc0.get("id");this._componentsMemoryStore.put(cd);},_queryComponentDefinitions:function(_dc2){return this._componentsMemoryStore.query(_dc2);},_runSaveComponentRequest:function(_dc3){var self=this,_dc4;if(_dc3||!this._isSaveComponentRequestInProgress){this._isSaveComponentRequestInProgress=true;_dc4=this._saveComponentRequestQueue.shift();if(_dc4){this._componentsStore.executeMethod("save","",_dc4.items).then(function(_dc5){if(_dc4.promise){_dc4.promise.resolve(_dc5);}self._runSaveComponentRequest(true);},function(_dc6){if(_dc4.promise){_dc4.promise.reject(_dc6);}self._runSaveComponentRequest(true);});}else{this._isSaveComponentRequestInProgress=false;}}},getComponentDefinition:function(_dc7){return this._queryComponentDefinitions({_widgetId:_dc7})[0];},getComponentDefinitionById:function(id){return this._queryComponentDefinitions({id:id})[0];},getEmptyComponentDefinition:function(_dc8,_dc9){when(this._componentsStore.query({componentTypeName:_dc8}),_dc9);},getComponentsForContainer:function(_dca){var _dcb=this.getComponentDefinition(_dca.id).id;return this._componentsStore.query({viewName:_dbd.viewName,parentId:_dcb});},getComponentsForView:function(view,_dcc){return this._componentsStore.query({viewName:view});},removeComponent:function(_dcd){var self=this;return when(this._componentsStore.remove(_dcd+"?viewName="+_dbd.viewName),function(){self._componentsMemoryStore.remove(_dcd);});},saveComponents:function(_dce){_dce=_dce.map(function(_dcf){var _dd0=lang.clone(_dcf);delete _dd0["components"];return _dd0;});var _dd1=new _db5();if(_dce.length<1){_dd1.resolve();return _dd1.promise;}this._saveComponentRequestQueue.push({items:_dce,promise:_dd1});this._runSaveComponentRequest(false);return _dd1.promise;},sortComponents:function(_dd2,_dd3,_dd4){var _dd5=this.getComponentDefinition(_dd2.id).id;when(this._componentsSortOrderStore.put({id:_dd5,viewName:_dbd.viewName,components:_dd3}),_dd4);},addComponent:function(_dd6,_dd7,_dd8,_dd9){var _dda=this.getComponentDefinition(_dd6.id).id;var _ddb=lang.clone(_dd7);delete _ddb["id"];_ddb.parentId=_dda;_ddb.viewName=_dbd.viewName;var self=this;when(this._componentsStore.put(_ddb),function(){if(_ddb.settings["routeData"]){_ddb.settings.routeData.gadgetId=_ddb.id;}if(_dd8){when(self.createComponents([_ddb],_dd6),function(def){if(def){if(typeof _dd9=="function"){_dd9(true,_ddb);}}});}},function(){alert("Error: could not add component");if(typeof _dd9=="function"){_dd9(false,_ddb);}});},loadComponents:function(_ddc){var self=this,def=new _db5();if(!(_ddc instanceof Array)){_ddc=[_ddc];}when(this.getComponentsForView(_dbd.viewName),function(data){if(false){var _ddd=_dbc.timedGroup("ComponentController::loadComponents");}var _dde=self._convertListToHierarchyByMatchingParent(data,"id","parentId","components");when(self.createComponents(_dde,_ddc),function(_ddf){if(false){_ddd.end();}def.resolve(_ddf);},function(e){console.error(e.stack||e);def.reject(e);});},function(){def.reject();});return def;},_convertListToHierarchyByMatchingParent:function(_de0,_de1,_de2,_de3){var map={};var _de4=[];_db3.forEach(_de0,function(item){var id=item[_de1];map[id]=item;});_db3.forEach(_de0,function(item){var _de5;var id=item[_de1];var _de6=item[_de2];if(!(_de3 in item)){item[_de3]=[];}_de5=map[_de6];if(!_de5||_de5===item){if(_db3.indexOf(_de4,item)<0){_de4.push(item);}}else{if(!_de5[_de3]){_de5[_de3]=[];}_de5[_de3].push(item);}});return _de4;},createComponents:function(data,_de7){var _de8=this.widgetFactory,_de9=data,_dea,node;if(_de9 instanceof Array&&_de9.length>0){if(_de9[0] instanceof Array){var _deb=[];for(var i=0;i<_de9.length;i++){_dea=_de9[i];_deb.push(_de8.createWidgets(_de7[i],_dea));}return all(_deb);}else{node=_de7;if(node instanceof Array){node=node[0];}return _de8.createWidgets(node,_de9);}}return [];}});});},"epi/shell/command/GlobalCommandRegistry":function(){define(["dojo/_base/declare","epi/shell/command/CommandRegistryItem"],function(_dec,_ded){return _dec(null,{_mappings:null,constructor:function(_dee){this._mappings={};},registerProvider:function(key,_def){var _df0=this._mappings[key];if(!_df0){_df0=new _ded();this._mappings[key]=_df0;}_df0.add("providers",_def);return {unregister:function(){_df0.remove("providers",_def);}};},get:function(key,_df1){var _df2=this._mappings[key];if(_df1&&!_df2){_df2=new _ded();this._mappings[key]=_df2;}return _df2;}});});},"epi/shell/command/CommandRegistryItem":function(){define(["dojo/_base/array","dojo/_base/declare","epi/shell/StatefulArray"],function(_df3,_df4,_df5){return _df4([_df5],{providers:null,constructor:function(){this.providers=this.providers||[];}});});},"epi/shell/StatefulArray":function(){define("epi/shell/StatefulArray",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Stateful"],function(_df6,_df7,lang,_df8){return _df7([_df8],{add:function(name,_df9){var _dfa,_dfb=this[name];if(!lang.isArray(_dfb)){throw name+" is not of type Array.";}_dfa=_dfb.push(_df9);if(this._watchCallbacks){this._watchCallbacks(name,null,lang.isArray(_df9)?_df9:[_df9]);}return _dfa;},remove:function(name,_dfc){var _dfd,_dfe,_dff=this[name];if(!lang.isArray(_dff)){throw name+" is not of type Array.";}_dfd=_df6.indexOf(_dff,_dfc);if(_dfd>=0){_dfe=_dff.splice(_dfd,1);if(this._watchCallbacks){this._watchCallbacks(name,_dfe,null);}return _dfe;}}});});},"epi/shell/dnd/Avatar":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-attr","dijit/registry","dojo/dnd/common","dojox/html/entities"],function(_e00,win,_e01,_e02,_e03,_e04,_e05,_e06){return _e00(null,{constructor:function(_e07){this.manager=_e07;this.construct();},construct:function(){this.isA11y=_e01.contains(win.body(),"dijit_a11y");var a=_e02.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_e08=this.manager.source,node,_e09=_e02.create("tbody",null,a),_e0a=_e02.create("tr",null,_e09),_e0b=_e02.create("td",null,_e0a),k=Math.min(5,this.manager.nodes.length),i=0,_e0c=_e02.create("div",null,_e0b),div=_e02.create("div",null,_e0c),_e0d=_e02.create("div",null,_e0c),_e0e=_e02.create("table",null,div),b=_e02.create("tbody",null,_e0e);_e03.set(_e0c,"class","epi-DndAvatarContainer");_e03.set(_e0d,"class","epi-DndAvatarOverlay");for(;i<k;++i){if(_e08.creator){var _e0f=_e08.getItem(this.manager.nodes[i].id).data;var _e10=_e08._normalizedCreator(_e0f,"avatar").node;var name=_e0f.get?_e0f.get("name"):_e0f.name;_e10.innerHTML=_e06.encode(typeof name=="string"?name:_e0f);node=_e10;}else{node=this.manager.nodes[i].cloneNode(true);if(node.id){var _e11=_e04.byId(node.id);if(_e11&&_e11.item&&_e11.item.name){node.innerHTML=_e06.encode(_e11.item.name);}}if(node.tagName.toLowerCase()==="tr"){var _e12=_e02.create("table"),_e13=_e02.create("tbody",null,_e12);_e13.appendChild(node);node=_e12;}}node.id="";var tr=_e02.create("tr",null,b);var td=_e02.create("td",null,tr);td.appendChild(node);_e03.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}a.style.cursor="move";this.node=a;},destroy:function(){_e02.destroy(this.node);this.node=false;},update:function(){_e01.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);}});});},"dojox/html/entities":function(){define("dojox/html/entities",["dojo/_base/lang"],function(lang){var dhe=lang.getObject("dojox.html.entities",true);var _e14=function(str,map){var _e15,_e16;if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){_e15=map._encCache.mapper;_e16=map._encCache.regexp;}else{_e15={};_e16=["["];var i;for(i=0;i<map.length;i++){_e15[map[i][0]]="&"+map[i][1]+";";_e16.push(map[i][0]);}_e16.push("]");_e16=new RegExp(_e16.join(""),"g");map._encCache={mapper:_e15,regexp:_e16,length:map.length};}str=str.replace(_e16,function(c){return _e15[c];});return str;};var _e17=function(str,map){var _e18,_e19;if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){_e18=map._decCache.mapper;_e19=map._decCache.regexp;}else{_e18={};_e19=["("];var i;for(i=0;i<map.length;i++){var e="&"+map[i][1]+";";if(i){_e19.push("|");}_e18[e]=map[i][0];_e19.push(e);}_e19.push(")");_e19=new RegExp(_e19.join(""),"g");map._decCache={mapper:_e18,regexp:_e19,length:map.length};}str=str.replace(_e19,function(c){return _e18[c];});return str;};dhe.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],[" ","nbsp"]];dhe.latin=[["¡","iexcl"],["¢","cent"],["£","pound"],["€","euro"],["¤","curren"],["¥","yen"],["¦","brvbar"],["§","sect"],["¨","uml"],["©","copy"],["ª","ordf"],["«","laquo"],["¬","not"],["­","shy"],["®","reg"],["¯","macr"],["°","deg"],["±","plusmn"],["²","sup2"],["³","sup3"],["´","acute"],["µ","micro"],["¶","para"],["·","middot"],["¸","cedil"],["¹","sup1"],["º","ordm"],["»","raquo"],["¼","frac14"],["½","frac12"],["¾","frac34"],["¿","iquest"],["À","Agrave"],["Á","Aacute"],["Â","Acirc"],["Ã","Atilde"],["Ä","Auml"],["Å","Aring"],["Æ","AElig"],["Ç","Ccedil"],["È","Egrave"],["É","Eacute"],["Ê","Ecirc"],["Ë","Euml"],["Ì","Igrave"],["Í","Iacute"],["Î","Icirc"],["Ï","Iuml"],["Ð","ETH"],["Ñ","Ntilde"],["Ò","Ograve"],["Ó","Oacute"],["Ô","Ocirc"],["Õ","Otilde"],["Ö","Ouml"],["×","times"],["Ø","Oslash"],["Ù","Ugrave"],["Ú","Uacute"],["Û","Ucirc"],["Ü","Uuml"],["Ý","Yacute"],["Þ","THORN"],["ß","szlig"],["à","agrave"],["á","aacute"],["â","acirc"],["ã","atilde"],["ä","auml"],["å","aring"],["æ","aelig"],["ç","ccedil"],["è","egrave"],["é","eacute"],["ê","ecirc"],["ë","euml"],["ì","igrave"],["í","iacute"],["î","icirc"],["ï","iuml"],["ð","eth"],["ñ","ntilde"],["ò","ograve"],["ó","oacute"],["ô","ocirc"],["õ","otilde"],["ö","ouml"],["÷","divide"],["ø","oslash"],["ù","ugrave"],["ú","uacute"],["û","ucirc"],["ü","uuml"],["ý","yacute"],["þ","thorn"],["ÿ","yuml"],["ƒ","fnof"],["Α","Alpha"],["Β","Beta"],["Γ","Gamma"],["Δ","Delta"],["Ε","Epsilon"],["Ζ","Zeta"],["Η","Eta"],["Θ","Theta"],["Ι","Iota"],["Κ","Kappa"],["Λ","Lambda"],["Μ","Mu"],["Ν","Nu"],["Ξ","Xi"],["Ο","Omicron"],["Π","Pi"],["Ρ","Rho"],["Σ","Sigma"],["Τ","Tau"],["Υ","Upsilon"],["Φ","Phi"],["Χ","Chi"],["Ψ","Psi"],["Ω","Omega"],["α","alpha"],["β","beta"],["γ","gamma"],["δ","delta"],["ε","epsilon"],["ζ","zeta"],["η","eta"],["θ","theta"],["ι","iota"],["κ","kappa"],["λ","lambda"],["μ","mu"],["ν","nu"],["ξ","xi"],["ο","omicron"],["π","pi"],["ρ","rho"],["ς","sigmaf"],["σ","sigma"],["τ","tau"],["υ","upsilon"],["φ","phi"],["χ","chi"],["ψ","psi"],["ω","omega"],["ϑ","thetasym"],["ϒ","upsih"],["ϖ","piv"],["•","bull"],["…","hellip"],["′","prime"],["″","Prime"],["‾","oline"],["⁄","frasl"],["℘","weierp"],["ℑ","image"],["ℜ","real"],["™","trade"],["ℵ","alefsym"],["←","larr"],["↑","uarr"],["→","rarr"],["↓","darr"],["↔","harr"],["↵","crarr"],["⇐","lArr"],["⇑","uArr"],["⇒","rArr"],["⇓","dArr"],["⇔","hArr"],["∀","forall"],["∂","part"],["∃","exist"],["∅","empty"],["∇","nabla"],["∈","isin"],["∉","notin"],["∋","ni"],["∏","prod"],["∑","sum"],["−","minus"],["∗","lowast"],["√","radic"],["∝","prop"],["∞","infin"],["∠","ang"],["∧","and"],["∨","or"],["∩","cap"],["∪","cup"],["∫","int"],["∴","there4"],["∼","sim"],["≅","cong"],["≈","asymp"],["≠","ne"],["≡","equiv"],["≤","le"],["≥","ge"],["⊂","sub"],["⊃","sup"],["⊄","nsub"],["⊆","sube"],["⊇","supe"],["⊕","oplus"],["⊗","otimes"],["⊥","perp"],["⋅","sdot"],["⌈","lceil"],["⌉","rceil"],["⌊","lfloor"],["⌋","rfloor"],["〈","lang"],["〉","rang"],["◊","loz"],["♠","spades"],["♣","clubs"],["♥","hearts"],["♦","diams"],["Œ","OElig"],["œ","oelig"],["Š","Scaron"],["š","scaron"],["Ÿ","Yuml"],["ˆ","circ"],["˜","tilde"],[" ","ensp"],[" ","emsp"],[" ","thinsp"],["‌","zwnj"],["‍","zwj"],["‎","lrm"],["‏","rlm"],["–","ndash"],["—","mdash"],["‘","lsquo"],["’","rsquo"],["‚","sbquo"],["“","ldquo"],["”","rdquo"],["„","bdquo"],["†","dagger"],["‡","Dagger"],["‰","permil"],["‹","lsaquo"],["›","rsaquo"]];dhe.encode=function(str,m){if(str){if(!m){str=_e14(str,dhe.html);str=_e14(str,dhe.latin);}else{str=_e14(str,m);}}return str;};dhe.decode=function(str,m){if(str){if(!m){str=_e17(str,dhe.html);str=_e17(str,dhe.latin);}else{str=_e17(str,m);}}return str;};return dhe;});},"epi/shell/customFocusIndicator":function(){define("epi/shell/customFocusIndicator",["dojo/_base/window","dojo/dom-class","dojo/on","dojo/domReady!"],function(win,_e1a,on){var body=win.body();var _e1b=function(){_e1a.add(body,"epi-mouse-focus");_e1a.remove(body,"epi-keyboard-focus");};var _e1c=function(){_e1a.remove(body,"epi-mouse-focus");_e1a.add(body,"epi-keyboard-focus");};_e1a.add(body,"epi-mouse-focus");on(body,"mousedown",_e1b);on(body,"mouseup",_e1b);on(body,"keydown",_e1c);on(body,"keyup",_e1c);});},"epi/shell/UndoManager":function(){define("epi/shell/UndoManager",["dojo","dojo/Stateful"],function(dojo,_e1d){return dojo.declare(_e1d,{maxSteps:10,hasUndoSteps:false,hasRedoSteps:false,_undoStack:null,_redoStack:null,_isUndoing:false,_isRedoing:false,constructor:function(_e1e){dojo.mixin(this,_e1e);this._undoStack=[];this._redoStack=[];},createStep:function(_e1f,_e20,_e21,_e22){var fn=_e20;if(typeof _e20=="string"){fn=_e1f[_e20];}if(typeof fn!="function"){throw ("No such callback function");}var _e23={context:_e1f,callback:fn,parameters:dojo.isArray(_e21)?_e21:[_e21],description:_e22};if(!_e23.context&&typeof _e23.callback==="string"){throw ("Context object is needed to find the callback");}var _e24=this._isUndoing?this._redoStack:this._undoStack;if(!this._isUndoing&&!this._isRedoing){this._redoStack.splice(0,this._redoStack.length);}_e24.push(_e23);if(this.maxSteps>0&&this._undoStack.length>this.maxSteps){this._undoStack.shift();}this._updateFlags();},undo:function(){if(this._undoStack.length===0){return;}this._isUndoing=true;var _e25=this._undoStack.pop();_e25.callback.apply(_e25.context,_e25.parameters);this._updateFlags();this._isUndoing=false;},redo:function(){if(this._redoStack.length===0){return;}this._isRedoing=true;var _e26=this._redoStack.pop();_e26.callback.apply(_e26.context,_e26.parameters);this._updateFlags();this._isRedoing=false;},_updateFlags:function(){this.set("hasUndoSteps",this._undoStack.length>0);this.set("hasRedoSteps",this._redoStack.length>0);},clear:function(){this._undoStack=[];this._redoStack=[];this._updateFlags();}});});},"epi/shell/widget/_ActionProviderWidget":function(){define(["epi","dojo","dijit","epi/shell/widget/_ActionConsumer","epi/shell/widget/_ActionProvider"],function(epi,dojo,_e27,_e28,_e29){return dojo.declare([_e29],{_enclosingConsumer:null,startup:function(){this.inherited(arguments);this._registerSelf();},destroy:function(){this._unregisterSelf();this.inherited(arguments);},_registerSelf:function(){this._enclosingConsumer=this._getEnclosingActionConsumer();if(this._enclosingConsumer!==null){this._enclosingConsumer.addProvider(this);}},_unregisterSelf:function(){if(this._enclosingConsumer!==null){this._enclosingConsumer.removeProvider(this);}},_getEnclosingActionConsumer:function(){var node=this.domNode.parentNode;while(node!==null){var _e2a=_e27.getEnclosingWidget(node);if(!_e2a){return null;}if(_e2a.isInstanceOf(_e28)){return _e2a;}node=_e2a.domNode.parentNode;}return null;}});});},"epi/shell/widget/_TabButton":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-style","dojo/has","dojo/keys","dijit/focus","dijit/_WidgetsInTemplateMixin","dijit/form/_TextBoxMixin","dijit/layout/TabController","dojox/html/entities","dojo/text!./templates/_TabButton.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.TabContainer"],function(_e2b,_e2c,dom,_e2d,has,keys,_e2e,_e2f,_e30,_e31,_e32,_e33,res){return _e2c([_e31.TabButton,_e2f],{res:res,editing:false,tabCurrentName:"",templateString:_e33,buildRendering:function(){this.inherited(arguments);this.label=this.page.personalizableHeading||this.page.heading||this.page.title||this.title||this.res.newtabname;_e2b.forEach(this.menuLayout.getChildren(),function(_e34){_e34.connect(_e34,"onChange",this.onChangeLayout);},this);if(!this.closeButton){this.closeTabMenuItem.set("disabled",true);}},onChangeLayout:function(_e35){if(_e35){_e2b.forEach(this.getParent().getChildren(),function(_e36){_e36.set("checked",false);});}this.set("checked",true);},onLayoutClick:function(evt){},onTabTitleChanged:function(_e37){},onMenuButton:function(evt){evt.stopPropagation();},onRenameMenuItem:function(evt){var _e38=_e32.decode(this.tabName.innerHTML);if(_e38){this._lastNonEmptyValue=_e38;}this._setTabTitleEditable(true);evt.stopPropagation();},onCloseMenuItem:function(evt){evt.stopPropagation();},onClick:function(evt){},toggleMenu:function(_e39){_e2d.set(this.nodeOptions.domNode,"display",_e39?"":"none");},_editBoxBlur:function(evt){if(this.editing){this._saveTabTitleChanges();}else{this._setTabTitleEditable(false);}},_lastNonEmptyValue:null,_editBoxKeyDown:function(evt){if(!this.editing){return;}var k=keys;switch(evt.keyCode){case k.LEFT_ARROW:case k.RIGHT_ARROW:case k.DELETE:evt.stopPropagation();break;case k.ESCAPE:this._saveTabTitleChanges(true);break;case k.ENTER:this._saveTabTitleChanges(false);break;}},_setTabTitleEditable:function(_e3a,text){this.editing=_e3a;dom.setSelectable(this.focusNode,_e3a);if(_e3a){_e2d.set(this.tabName,"display","none");_e2d.set(this.editBox,"display","");if(text){this.editBox.value=text;}else{this.editBox.value=_e32.decode(this.tabName.innerHTML);}_e30.selectInputText(this.editBox);_e2e.focus(this.editBox);}else{_e2d.set(this.editBox,"display","none");_e2d.set(this.tabName,"display","");this.editBox.value="";if(has("ie")){_e2d.set(this.domNode,"zoom","1");_e2d.set(this.domNode,"zoom","");}_e2e.focus(this.focusNode);}},_saveTabTitleChanges:function(_e3b){var _e3c=this.editBox.value;if(_e3b){_e3c=this._lastNonEmptyValue;}this.tabName.innerHTML=_e32.encode(_e3c);this.onTabTitleChanged(_e3c);this._setTabTitleEditable(false);},revertTabTitleChanges:function(_e3d,_e3e,_e3f){this.tabName.innerHTML=_e32.encode(_e3e);},_setCloseButtonAttr:function(disp){_e2d.set(this.closeNode,"display","none");},_setLabelAttr:function(_e40){this.tabName.innerHTML=_e32.encode(_e40);}});});},"dijit/layout/TabController":function(){require({cache:{"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode'/>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n"}});define("dijit/layout/TabController",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_e41,dom,_e42,_e43,i18n,lang,_e44,_e45,Menu,_e46,_e47){var _e48=_e41("dijit.layout._TabButton",_e44.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_e47,scrollOnFocus:false,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.containerNode,false);},startup:function(){this.inherited(arguments);var n=this.domNode;this.defer(function(){n.className=n.className;},1);},_setCloseButtonAttr:function(disp){this._set("closeButton",disp);_e43.toggle(this.domNode,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _e49=i18n.getLocalization("dijit","common");if(this.closeNode){_e42.set(this.closeNode,"title",_e49.itemClose);}}},_setDisabledAttr:function(_e4a){this.inherited(arguments);if(this.closeNode){if(_e4a){_e42.remove(this.closeNode,"title");}else{var _e4b=i18n.getLocalization("dijit","common");_e42.set(this.closeNode,"title",_e4b.itemClose);}}},_setLabelAttr:function(_e4c){this.inherited(arguments);if(!this.showLabel&&!this.params.title){this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});var _e4d=_e41("dijit.layout.TabController",_e44,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'></div>",tabPosition:"top",buttonWidget:_e48,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var _e4e=new Menu({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(node){return _e43.contains(node,"dijitClosable")&&!_e43.contains(node,"dijitTabDisabled");}});this.own(_e4e);var _e4f=i18n.getLocalization("dijit","common"),_e50=this;_e4e.addChild(new _e46({label:_e4f.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(evt){var _e51=_e45.byNode(this.getParent().currentTarget);_e50.onCloseButtonClick(_e51.page);}}));}});_e4d.TabButton=_e48;return _e4d;});},"dijit/layout/StackController":function(){define("dijit/layout/StackController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/i18n!../nls/common"],function(_e52,_e53,_e54,_e55,keys,lang,on,_e56,_e57,_e58,_e59,_e5a,_e5b){var _e5c=_e53("dijit.layout._StackButton",_e5b,{tabIndex:"-1",closeButton:false,_aria_attr:"aria-selected",buildRendering:function(evt){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab");}});var _e5d=_e53("dijit.layout.StackController",[_e58,_e59,_e5a],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeypress'></span>",containerId:"",buttonWidget:_e5c,buttonWidgetCloseClass:"dijitStackCloseButton",constructor:function(_e5e){this.pane2button={};},postCreate:function(){this.inherited(arguments);this.subscribe(this.containerId+"-startup","onStartup");this.subscribe(this.containerId+"-addChild","onAddChild");this.subscribe(this.containerId+"-removeChild","onRemoveChild");this.subscribe(this.containerId+"-selectChild","onSelectChild");this.subscribe(this.containerId+"-containerKeyPress","onContainerKeyPress");this.connect(this.containerNode,"click",function(evt){var _e5f=_e57.getEnclosingWidget(evt.target);if(_e5f!=this.containerNode&&!_e5f.disabled&&_e5f.page){for(var _e60=evt.target;_e60!==this.containerNode;_e60=_e60.parentNode){if(_e54.contains(_e60,this.buttonWidgetCloseClass)){this.onCloseButtonClick(_e5f.page);break;}else{if(_e60==_e5f.domNode){this.onButtonClick(_e5f.page);break;}}}}});},onStartup:function(info){_e52.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}var _e61=_e57.byId(this.containerId).containerNode,_e62=this.pane2button,_e63={"title":"label","showtitle":"showLabel","iconclass":"iconClass","closable":"closeButton","tooltip":"title","disabled":"disabled"},_e64=function(attr,_e65){return on(_e61,"attrmodified-"+attr,function(evt){var _e66=_e62[evt.detail&&evt.detail.widget&&evt.detail.widget.id];if(_e66){_e66.set(_e65,evt.detail.newValue);}});};for(var attr in _e63){this.own(_e64(attr,_e63[attr]));}},destroy:function(){for(var pane in this.pane2button){this.onRemoveChild(_e57.byId(pane));}this.inherited(arguments);},onAddChild:function(page,_e67){var Cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;var _e68=new Cls({id:this.id+"_"+page.id,name:this.id+"_"+page.id,label:page.title,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip,page:page});this.addChild(_e68,_e67);this.pane2button[page.id]=_e68;page.controlButton=_e68;if(!this._currentChild){this.onSelectChild(page);}},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}var _e69=this.pane2button[page.id];if(_e69){this.removeChild(_e69);delete this.pane2button[page.id];_e69.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _e6a=this.pane2button[this._currentChild.id];_e6a.set("checked",false);_e6a.focusNode.setAttribute("tabIndex","-1");}var _e6b=this.pane2button[page.id];_e6b.set("checked",true);this._currentChild=page;_e6b.focusNode.setAttribute("tabIndex","0");var _e6c=_e57.byId(this.containerId);},onButtonClick:function(page){var _e6d=this.pane2button[page.id];_e56.focus(_e6d.focusNode);if(this._currentChild&&this._currentChild.id===page.id){_e6d.set("checked",true);}var _e6e=_e57.byId(this.containerId);_e6e.selectChild(page);},onCloseButtonClick:function(page){var _e6f=_e57.byId(this.containerId);_e6f.closeChild(page);if(this._currentChild){var b=this.pane2button[this._currentChild.id];if(b){_e56.focus(b.focusNode||b.domNode);}}},adjacent:function(_e70){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_e70=!_e70;}var _e71=this.getChildren();var idx=_e52.indexOf(_e71,this.pane2button[this._currentChild.id]),_e72=_e71[idx];var _e73;do{idx=(idx+(_e70?1:_e71.length-1))%_e71.length;_e73=_e71[idx];}while(_e73.disabled&&_e73!=_e72);return _e73;},onkeypress:function(e){if(this.disabled||e.altKey){return;}var _e74=null;if(e.ctrlKey||!e._djpage){switch(e.charOrCode){case keys.LEFT_ARROW:case keys.UP_ARROW:if(!e._djpage){_e74=false;}break;case keys.PAGE_UP:if(e.ctrlKey){_e74=false;}break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:if(!e._djpage){_e74=true;}break;case keys.PAGE_DOWN:if(e.ctrlKey){_e74=true;}break;case keys.HOME:var _e75=this.getChildren();for(var idx=0;idx<_e75.length;idx++){var _e76=_e75[idx];if(!_e76.disabled){this.onButtonClick(_e76.page);break;}}_e55.stop(e);break;case keys.END:var _e75=this.getChildren();for(var idx=_e75.length-1;idx>=0;idx--){var _e76=_e75[idx];if(!_e76.disabled){this.onButtonClick(_e76.page);break;}}_e55.stop(e);break;case keys.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_e55.stop(e);break;default:if(e.ctrlKey){if(e.charOrCode===keys.TAB){this.onButtonClick(this.adjacent(!e.shiftKey).page);_e55.stop(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_e55.stop(e);}}}}if(_e74!==null){this.onButtonClick(this.adjacent(_e74).page);_e55.stop(e);}}},onContainerKeyPress:function(info){info.e._djpage=info.page;this.onkeypress(info.e);}});_e5d.StackButton=_e5c;return _e5d;});},"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode'/>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n","url:epi/shell/widget/templates/_TabButton.htm":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\r\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"/>\r\n    <span class=\"tabLabel\" data-dojo-attach-point=\"tabName,containerNode,focusNode\"></span>\r\n    <input type=\"text\" style=\"display:none;\" class=\"tabLabel\" data-dojo-attach-point=\"editBox\" data-dojo-attach-event=\"onblur: _editBoxBlur, onkeypress: _editBoxKeyDown\" maxlength=\"50\" />\r\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point=\"closeNode\" role=\"presentation\">\r\n\t\t<span data-dojo-attach-point=\"closeText\" class=\"dijitTabCloseText\">[x]</span>\r\n    </span>\r\n    <span class=\"dijitInline\" role=\"presentation\">\r\n        <div data-dojo-type=\"dijit/form/DropDownButton\" data-dojo-attach-point=\"nodeOptions\" showLabel=\"false\" title=\"\" iconClass=\"epi-iconSettingsMenu\" class=\"epi-mediumButton epi-chromelessButton\" style=\"display: none\" data-dojo-attach-event=\"onMouseDown: onMenuButton\">\r\n            <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"dropDown\">\r\n                <div data-dojo-type=\"dijit/MenuItem\" data-dojo-attach-event=\"onClick: onRenameMenuItem\">${res.menuitemrename}</div>\r\n                <div data-dojo-type=\"dijit/PopupMenuItem\">\r\n                    <span>${res.menuitemlayout}</span>\r\n                    <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"menuLayout\">\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout1}\" data-dojo-props=\"column: 1\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout1}</div>\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout2}\" data-dojo-props=\"column: 2\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout2}</div>\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout3}\" data-dojo-props=\"column: 3\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout3}</div>\r\n                    </div>\r\n                </div>\r\n                <div data-dojo-type=\"dijit/MenuSeparator\"></div>\r\n                <div data-dojo-type=\"dijit/MenuItem\" data-dojo-attach-point=\"closeTabMenuItem\" data-dojo-attach-event=\"onClick: onCloseMenuItem\">${res.menuitemclose}</div>\r\n            </div>\r\n        </div>\r\n    </span>\r\n</div>","epi/shell/widget/ApplicationContentPane":function(){define(["dojo/_base/declare","dijit/layout/ContentPane","./Application"],function(_e77,_e78,_e79){return _e77([_e78,_e79],{});});},"epi/shell/widget/CheckBox":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/CheckBox"],function(_e7a,_e7b,_e7c,_e7d){return _e7a([_e7b,_e7c,_e7d],{templateString:"<div class=\"dijit dijitReset dijitInline\"><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"checkbox\" data-dojo-attach-event=\"onChange: _onChange\"></div>",value:null,_setValueAttr:function(_e7e){this.value=_e7e;this.checkbox.set("checked",!!_e7e);},_setReadOnlyAttr:function(_e7f){this.checkbox.set("readOnly",_e7f);},_getReadOnlyAttr:function(){return this.checkbox.set("readOnly");},_getValueAttr:function(){return this.checkbox.get("checked");},_onChange:function(_e80){this.value=_e80;this.onChange(_e80);},onChange:function(_e81){}});});},"epi/shell/widget/layout/ComponentContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/when","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojox/layout/GridContainer","dojox/layout/GridContainerLite","dijit/focus","dijit/registry","epi/dependency","epi/shell/widget/_ActionProvider","epi/shell/widget/ComponentSelectorDialog","epi/shell/widget/layout/_ComponentWrapper","epi/shell/widget/layout/ComponentTabContainer","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources"],function(_e82,_e83,lang,_e84,when,_e85,_e86,_e87,_e88,_e89,_e8a,_e8b,_e8c,_e8d,_e8e,_e8f,_e90,_e91){return _e83([_e88,_e8d],{containerUnlocked:false,isAutoOrganized:false,baseClass:"epi-componentContainer",numberOfColumns:1,hasResizableColumns:false,_componentSelectorDialog:null,_componentsController:null,postMixInProperties:function(){this.inherited(arguments);this.nbZones=this.numberOfColumns;this._componentsController=this._componentsController||_e8c.resolve("epi.shell.controller.Components");},resizeChildAfterDrop:function(node,_e92,_e93){this.inherited(arguments);if(_e8b.getEnclosingWidget(_e92.node)===this){this._onDndDrop();}},_persistComponentSettings:function(){var _e94=[];this.getChildren().forEach(function(_e95){var _e96=this._componentsController.getComponentDefinitionById(_e95.componentId);_e96.settings=lang.mixin(_e96.settings,_e95.get("settings"));_e96.settings.column=_e95.get("column");_e94.push(_e96);},this);this._componentsController.saveComponents(_e94);},buildRendering:function(){this.inherited(arguments);this.acceptTypes=[this.id];},postCreate:function(){this.inherited(arguments);this._setupDragManager();this.containerNode.removeAttribute("id");},_setupDragManager:function(){_e84.before(this._dragManager,"_searchDragHandle",function(node){if(node&&_e85.contains(node,"dojoxDragHandle")){return node;}});},startup:function(){if(this._started){return;}this.inherited(arguments);this.changeLockButtonState(false);},onShow:function(){if(this._disabled&&this.containerUnlocked){this.enableDnd();}},layout:function(){this._containerSize={h:this._contentBox.h-this._border.h,w:this._contentBox.w-this._border.w};this.layoutComponents();if(this.doLayout){_e86.setContentSize(this.containerNode,{h:this._contentBox.h-this._border.h});_e86.setContentSize(this.domNode,{w:this._contentBox.w-this._border.w});}},layoutComponents:function(){var _e97=_e86.getContentBox(this.gridContainerDiv);var _e98={w:_e97.w/this.numberOfColumns};_e82.forEach(this.getChildren(),function(_e99){if(_e99.resize&&lang.isFunction(_e99.resize)){_e99.resize(_e98);}});},_layoutChildren:function(_e9a,_e9b,_e9c){_e9a.resize({h:_e9b});if(_e9c){_e9a.set("lastOpenHeight",_e9b);this.layoutComponents();this._persistComponentSettings();}},addComponent:function(_e9d){this._componentSelectorDialog.hide();this._componentsController.addComponent(this,_e9d,true,lang.hitch(this,function(){this.layoutComponents();}));},_selectFocus:function(){var _e9e=_e8a.curNode;if(_e9e===null||_e9e.parentNode===null){return;}this.inherited(arguments);},addChild:function(_e9f,_ea0){var _ea1,_ea2=this._componentsController.getComponentDefinitionById(_e9f.componentId),id=_ea2?_ea2.id:_e9f.componentId,_ea3=this.containerUnlocked,_ea4={componentId:id,dndType:this.id,isRemovable:_ea2?_ea2.settings.isRemovable:_e9f.params.isRemovable,minHeight:_e9f.get("minHeight")||200,maxHeight:_e9f.get("maxHeight")||Infinity,dragRestriction:!_ea3,closable:_ea3,heading:_e9f.get("heading"),container:this},_ea5=lang.mixin(_ea4,_ea2.settings);if(!_e9f.isInstanceOf(_e8f)&&!_e9f.isInstanceOf(_e90)){_ea1=new _e8f(_ea5);_ea1.addChild(_e9f);}else{_ea1=_e9f;for(var _ea6 in _ea5){_ea1.set(_ea6,_ea4[_ea6]);}}this.connect(_ea1,"onClosed",lang.hitch(this,this._gadgetClosed,_ea1));this._connect(_ea1.on("toggle",lang.hitch(this,function(){this._componentToggle(_ea1);})));if(_ea0>=this.numberOfColumns){_ea0=this.numberOfColumns-1;}var _ea7=this.inherited(arguments,[_ea1,_ea0]);if(_ea3&&lang.isFunction(_ea7.disableResize)){_ea7.disableResize();}this._onCompontentsChanged();return _ea7;},_componentToggle:function(_ea8){_ea8.resize();this.layoutComponents();this._persistComponentSettings();},_gadgetClosed:function(_ea9){var _eaa=_ea9.componentId;when(this._componentsController.removeComponent(_eaa),lang.hitch(this,function(){_ea9.destroyRecursive();this._onCompontentsChanged();this._persistComponentSettings();this.layoutComponents();}));},_onCompontentsChanged:function(){this.layoutComponents();},showComponentSelector:function(){if(this._componentSelectorDialog===null){this._componentSelectorDialog=new _e8e();this.own(this._componentSelectorDialog);this.connect(this._componentSelectorDialog,"onComponentSelected",this.addComponent);}this._componentSelectorDialog.show();},changeLockButtonState:function(_eab){this.containerUnlocked=_eab;_e82.forEach(this.getChildren(),lang.hitch(this,function(_eac){_eac.set("dragRestriction",!_eab);_eac.set("closable",_eab);}));this.containerUnlocked?this.enableDnd():this.disableDnd();},_saveComponentOrder:function(_ead,_eae){var _eaf=_e82.map(_ead,function(_eb0){return {id:_eb0.componentId,column:_eb0.get("column")};});this._componentsController.sortComponents(this,_eaf,_eae);},_onDndDrop:function(){var _eb1=this.getChildren();this._saveComponentOrder(_eb1);this._onCompontentsChanged();this.layoutComponents();},_reloadGadgets:function(){var _eb2=this.getChildren();var _eb3=_eb2.length;var self=this;_e82.forEach(_eb2,function(_eb4){self.removeChild(_eb4);self.addChild(_eb4,_eb4.get("column"),_eb3);});this._onCompontentsChanged();},_reloadContainer:function(_eb5,_eb6){this.numberOfColumns=_eb6;if(_eb5){this._reloadGadgets();}},setColumns:function(_eb7){var _eb8=this.getChildren();var self=this;if(_eb8.length<=0){this._reloadContainer(false,_eb7);}else{_e82.forEach(_eb8,function(_eb9){if(_eb9.column>=_eb7){_eb9.set("column",_eb7-1);}});this._saveComponentOrder(_eb8,lang.hitch(this,function(_eba){this._reloadContainer(_eba,_eb7);}));}this.inherited(arguments);this.resize();},_organizeChildrenManually:function(){var _ebb=_e89.superclass.getChildren.call(this),_ebc=_ebb.length,_ebd;for(var i=0;i<_ebc;i++){_ebd=_ebb[i];try{this._insertChild(_ebd,_ebd.column);}catch(e){console.error("Unable to insert child in GridContainer",e);}}},_connect:function(_ebe){this._connects.push(_ebe);},getActions:function(){var self=this,_ebf=this.inherited(arguments),_ec0={parent:"settings",name:"addGadgets",label:_e91.componentselection.addgadgetstitle,type:"menuitem",action:lang.hitch(this,this.showComponentSelector)},_ec1={parent:"settings",name:"rearrangeGadgets",label:_e91.componentselection.rearrangegadgets,type:"checkedmenuitem",action:function(){lang.hitch(this,self.changeLockButtonState(this.checked));}};_ebf.splice(_ebf.length,0,_ec0);_ebf.splice(_ebf.length,0,_ec1);return _ebf;}});});},"dojox/layout/GridContainer":function(){define("dojox/layout/GridContainer",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/_base/lang","dojo/_base/window","dojo/ready","dojox/layout/GridContainerLite"],function(dojo,_ec2,_ec3,_ec4,has,_ec5,_ec6,geom,_ec7,lang,win,_ec8,_ec9){return _ec2("dojox.layout.GridContainer",_ec9,{hasResizableColumns:true,liveResizeColumns:false,minColWidth:20,minChildWidth:150,mode:"right",isRightFixed:false,isLeftFixed:false,startup:function(){this.inherited(arguments);if(this.hasResizableColumns){for(var i=0;i<this._grid.length-1;i++){this._createGrip(i);}if(!this.getParent()){_ec8(lang.hitch(this,"_placeGrips"));}}},resizeChildAfterDrop:function(node,_eca,_ecb){if(this.inherited(arguments)){this._placeGrips();}},onShow:function(){this.inherited(arguments);this._placeGrips();},resize:function(){this.inherited(arguments);if(this._isShown()&&this.hasResizableColumns){this._placeGrips();}},_createGrip:function(_ecc){var _ecd=this._grid[_ecc],grip=_ec7.create("div",{"class":"gridContainerGrip"},this.domNode);_ecd.grip=grip;_ecd.gripHandler=[this.connect(grip,"onmouseover",function(e){var _ece=false;for(var i=0;i<this._grid.length-1;i++){if(_ec5.contains(this._grid[i].grip,"gridContainerGripShow")){_ece=true;break;}}if(!_ece){_ec5.replace(e.target,"gridContainerGripShow","gridContainerGrip");}})[0],this.connect(grip,"onmouseout",function(e){if(!this._isResized){_ec5.replace(e.target,"gridContainerGrip","gridContainerGripShow");}})[0],this.connect(grip,"onmousedown","_resizeColumnOn")[0],this.connect(grip,"ondblclick","_onGripDbClick")[0]];},_placeGrips:function(){var _ecf,_ed0,left=0,grip;_ec3.forEach(this._grid,function(_ed1){if(_ed1.grip){grip=_ed1.grip;if(!_ecf){_ecf=grip.offsetWidth/2;}left+=geom.getMarginBox(_ed1.node).w;_ec6.set(grip,"left",(left-_ecf)+"px");if(!_ed0){_ed0=geom.getContentBox(this.gridNode).h;}if(_ed0>0){_ec6.set(grip,"height",_ed0+"px");}}},this);},_onGripDbClick:function(){this._updateColumnsWidth(this._dragManager);this.resize();},_resizeColumnOn:function(e){this._activeGrip=e.target;this._initX=e.pageX;e.preventDefault();win.body().style.cursor="ew-resize";this._isResized=true;var _ed2=[];var grid;var i;for(i=0;i<this._grid.length;i++){_ed2[i]=geom.getContentBox(this._grid[i].node).w;}this._oldTabSize=_ed2;for(i=0;i<this._grid.length;i++){grid=this._grid[i];if(this._activeGrip==grid.grip){this._currentColumn=grid.node;this._currentColumnWidth=_ed2[i];this._nextColumn=this._grid[i+1].node;this._nextColumnWidth=_ed2[i+1];}grid.node.style.width=_ed2[i]+"px";}var _ed3=function(_ed4,_ed5){var _ed6=0;var _ed7=0;_ec3.forEach(_ed4,function(_ed8){if(_ed8.nodeType==1){var _ed9=_ec6.getComputedStyle(_ed8);var _eda=(has("ie"))?_ed5:parseInt(_ed9.minWidth);_ed7=_eda+parseInt(_ed9.marginLeft)+parseInt(_ed9.marginRight);if(_ed6<_ed7){_ed6=_ed7;}}});return _ed6;};var _edb=_ed3(this._currentColumn.childNodes,this.minChildWidth);var _edc=_ed3(this._nextColumn.childNodes,this.minChildWidth);var _edd=Math.round((geom.getMarginBox(this.gridContainerTable).w*this.minColWidth)/100);this._currentMinCol=_edb;this._nextMinCol=_edc;if(_edd>this._currentMinCol){this._currentMinCol=_edd;}if(_edd>this._nextMinCol){this._nextMinCol=_edd;}this._connectResizeColumnMove=_ec4.connect(win.doc,"onmousemove",this,"_resizeColumnMove");this._connectOnGripMouseUp=_ec4.connect(win.doc,"onmouseup",this,"_onGripMouseUp");},_onGripMouseUp:function(){win.body().style.cursor="default";_ec4.disconnect(this._connectResizeColumnMove);_ec4.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=this._connectResizeColumnMove=null;if(this._activeGrip){_ec5.replace(this._activeGrip,"gridContainerGrip","gridContainerGripShow");}this._isResized=false;},_resizeColumnMove:function(e){e.preventDefault();if(!this._connectResizeColumnOff){_ec4.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=null;this._connectResizeColumnOff=_ec4.connect(win.doc,"onmouseup",this,"_resizeColumnOff");}var d=e.pageX-this._initX;if(d==0){return;}if(!(this._currentColumnWidth+d<this._currentMinCol||this._nextColumnWidth-d<this._nextMinCol)){this._currentColumnWidth+=d;this._nextColumnWidth-=d;this._initX=e.pageX;this._activeGrip.style.left=parseInt(this._activeGrip.style.left)+d+"px";if(this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";this.resize();}}},_resizeColumnOff:function(e){win.body().style.cursor="default";_ec4.disconnect(this._connectResizeColumnMove);_ec4.disconnect(this._connectResizeColumnOff);this._connectResizeColumnOff=this._connectResizeColumnMove=null;if(!this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";}var _ede=[],_edf=[],_ee0=this.gridContainerTable.clientWidth,node,_ee1=false,i;for(i=0;i<this._grid.length;i++){node=this._grid[i].node;if(has("ie")){_ede[i]=geom.getMarginBox(node).w;_edf[i]=geom.getContentBox(node).w;}else{_ede[i]=geom.getContentBox(node).w;_edf=_ede;}}for(i=0;i<_edf.length;i++){if(_edf[i]!=this._oldTabSize[i]){_ee1=true;break;}}if(_ee1){var mul=has("ie")?100:10000;for(i=0;i<this._grid.length;i++){this._grid[i].node.style.width=Math.round((100*mul*_ede[i])/_ee0)/mul+"%";}this.resize();}if(this._activeGrip){_ec5.replace(this._activeGrip,"gridContainerGrip","gridContainerGripShow");}this._isResized=false;},setColumns:function(_ee2){var z,j;if(_ee2>0){var _ee3=this._grid.length,_ee4=_ee3-_ee2;if(_ee4>0){var _ee5=[],zone,_ee6,end,_ee7;if(this.mode=="right"){end=(this.isLeftFixed&&_ee3>0)?1:0;_ee6=(this.isRightFixed)?_ee3-2:_ee3-1;for(z=_ee6;z>=end;z--){_ee7=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_ee7++;break;}}if(_ee7==0){_ee5[_ee5.length]=z;}if(_ee5.length>=_ee4){this._deleteColumn(_ee5);break;}}if(_ee5.length<_ee4){_ec4.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}else{_ee6=(this.isLeftFixed&&_ee3>0)?1:0;end=(this.isRightFixed)?_ee3-1:_ee3;for(z=_ee6;z<end;z++){_ee7=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_ee7++;break;}}if(_ee7==0){_ee5[_ee5.length]=z;}if(_ee5.length>=_ee4){this._deleteColumn(_ee5);break;}}if(_ee5.length<_ee4){_ec4.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}}else{if(_ee4<0){this._addColumn(Math.abs(_ee4));}}if(this.hasResizableColumns){this._placeGrips();}}},_addColumn:function(_ee8){var grid=this._grid,_ee9,node,_eea,_eeb,_eec=(this.mode=="right"),_eed=this.acceptTypes.join(","),m=this._dragManager;if(this.hasResizableColumns&&((!this.isRightFixed&&_eec)||(this.isLeftFixed&&!_eec&&this.nbZones==1))){this._createGrip(grid.length-1);}for(var i=0;i<_ee8;i++){node=_ec7.create("td",{"class":"gridContainerZone dojoxDndArea","accept":_eed,"id":this.id+"_dz"+this.nbZones});_eeb=grid.length;if(_eec){if(this.isRightFixed){_eea=_eeb-1;grid.splice(_eea,0,{"node":grid[_eea].node.parentNode.insertBefore(node,grid[_eea].node)});}else{_eea=_eeb;grid.push({"node":this.gridNode.appendChild(node)});}}else{if(this.isLeftFixed){_eea=(_eeb==1)?0:1;this._grid.splice(1,0,{"node":this._grid[_eea].node.parentNode.appendChild(node,this._grid[_eea].node)});_eea=1;}else{_eea=_eeb-this.nbZones;this._grid.splice(_eea,0,{"node":grid[_eea].node.parentNode.insertBefore(node,grid[_eea].node)});}}if(this.hasResizableColumns){if((!_eec&&this.nbZones!=1)||(!_eec&&this.nbZones==1&&!this.isLeftFixed)||(_eec&&i<_ee8-1)||(_eec&&i==_ee8-1&&this.isRightFixed)){this._createGrip(_eea);}}m.registerByNode(grid[_eea].node);this.nbZones++;}this._updateColumnsWidth(m);},_deleteColumn:function(_eee){var _eef,grid,_ef0,_ef1=0,_ef2=_eee.length,m=this._dragManager;for(var i=0;i<_ef2;i++){_ef0=(this.mode=="right")?_eee[i]:_eee[i]-_ef1;grid=this._grid[_ef0];if(this.hasResizableColumns&&grid.grip){_ec3.forEach(grid.gripHandler,function(_ef3){_ec4.disconnect(_ef3);});_ec7.destroy(this.domNode.removeChild(grid.grip));grid.grip=null;}m.unregister(grid.node);_ec7.destroy(this.gridNode.removeChild(grid.node));this._grid.splice(_ef0,1);this.nbZones--;_ef1++;}var _ef4=this._grid[this.nbZones-1];if(_ef4.grip){_ec3.forEach(_ef4.gripHandler,_ec4.disconnect);_ec7.destroy(this.domNode.removeChild(_ef4.grip));_ef4.grip=null;}this._updateColumnsWidth(m);},_updateColumnsWidth:function(_ef5){this.inherited(arguments);_ef5._dropMode.updateAreas(_ef5._areaList);},destroy:function(){_ec4.unsubscribe(this._dropHandler);this.inherited(arguments);}});});},"epi/shell/widget/ComponentSelectorDialog":function(){define(["epi","dojo/_base/declare","dojo/dom-style","dijit/Dialog","epi/shell/widget/ComponentSelector","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(epi,_ef6,_ef7,_ef8,_ef9,res){return _ef6([_ef8],{_componentSelector:null,autofocus:false,size:{width:"650px",height:""},res:res,onComponentSelected:function(){},postMixInProperties:function(){this.inherited(arguments);this.buttonCancel=epi.resources.action.close;},postCreate:function(){this.inherited(arguments);this.set("title",this.res.dialogtitle);_ef7.set(this.domNode,this.size);},show:function(){this.inherited(arguments);this._ensureComponentSelectorCreated();this._componentSelector.show();},_ensureComponentSelectorCreated:function(){if(this._componentSelector){return;}this._contentSetterParams={parseContent:false};this._componentSelector=new _ef9();this.own(this._componentSelector);this.set("content",this._componentSelector);this.connect(this._componentSelector,"onComponentSelected",this.onComponentSelected);}});});},"epi/shell/widget/ComponentSelector":function(){define(["epi","dojo/_base/declare","dojo/_base/Deferred","dojo/keys","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","dgrid/OnDemandGrid","dgrid/Selection","dgrid/Keyboard","dgrid/extensions/DijitRegistry","dijit/_Contained","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/MenuItem","dijit/layout/ContentPane","dijit/layout/BorderContainer","dijit/form/Button","dijit/form/TextBox","dojo/store/Memory","epi/routes","epi/dependency","epi/shell/ViewSettings","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(epi,_efa,_efb,keys,_efc,lang,_efd,_efe,_eff,_f00,_f01,_f02,_f03,_f04,_f05,_f06,_f07,_f08,_f09,_f0a,_f0b,_f0c,_f0d,_f0e,res){var _f0f=_efa([_f03,_f04,_f05,_f02],{templateString:"            <div>            <div class=\"dijitDialogPaneToolBar clearfix\">                    <div class=\"dijitDialogPaneLeading\">                    </div>                    <div class=\"dijitDialogPaneTrailing\">                        <input data-dojo-type=\"dijit/form/TextBox\" dojoAttachPoint=\"searchBox\" dojoAttachEvent=\"onKeyUp: _onSearchBoxChange\" placeHolder=\"${commonRes.action.search}\" class=\"epi-searchInput\" />                    </div>                </div>                <div class=\"dijitDialogPaneContentArea epi-wrapped\">                    <div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-attach-point=\"container\" style=\"width: 100%; height: 330px;\">                        <div data-dojo-type=\"dijit/layout/ContentPane\" region=\"left\" splitter=\"false\" class=\"epi-dialog-resourcePane epi-dijitMenuDisableIcon\" style=\"width: 160px;\" >                            <div data-dojo-type=\"dijit/Menu\" dojoAttachPoint=\"categoryMenu\" dojoAttachEvent=\"onItemClick: _onCategoryMenuClick\" style=\"width:160px;\"></div>                        </div>                            <div data-dojo-attach-point=\"grid\"></div>                    </div>                </div>                <div class=\"dijitDialogPaneActionBar\">                    <button data-dojo-type=\"dijit/form/Button\" type=\"submit\" data-dojo-props=\"'class':'default'\" data-dojo-attach-event=\"onClick:onClose\">${commonRes.action.close}</button>                </div>             </div>",res:res,commonRes:epi.resources,selectedCategory:"*",componentCategories:null,_selectedCategoryMenuItem:null,categoryStore:null,componentDefinitionStore:null,_sortableColumns:[1],_gridClass:_efa([_efe,_f01,_eff,_f00],{resize:function(size){if(!size){return;}_efd.setMarginBox(this.domNode,{w:size.w,h:size.h});this.inherited(arguments);}}),postMixInProperties:function(){this.inherited(arguments);this.categoryStore=this.categoryStore||this._getStore("epi.shell.componentcategory");this.componentDefinitionStore=this.componentDefinitionStore||this._getStore("epi.shell.componentdefinition");this.componentCategories=_f0e.settings.componentCategories;},buildRendering:function(){this.inherited(arguments);this.grid=new this._gridClass({region:"center",columns:{title:{label:this.commonRes.header.name},description:{label:" "}},selectionMode:"single",sort:[{attribute:"title",descending:false}],query:lang.hitch(this,function(item){if(this.selectedCategory!=="*"){if(!item.categories){return false;}var _f10=this.selectedCategory;var _f11=_efc.some(item.categories,function(_f12){return _f12===_f10;});if(!_f11){return;}}var name=this.searchBox.get("value").toLowerCase();if(name.length>0&&(item.title&&item.title.toLowerCase().indexOf(name))){return false;}return true;})},this.grid);this.grid.on(".dgrid-row:click",lang.hitch(this,this._onGridRowSelected));this.grid.on(".dgrid-row:keydown",lang.hitch(this,this._onGridRowSelected));},_getStore:function(name){var _f13=_f0d.resolve("epi.storeregistry");return _f13.get(name);},onComponentSelected:function(){},onClose:function(){},_onGridRowSelected:function(e){if(e.keyCode&&e.keyCode!==keys.ENTER){return;}var row=this.grid.row(e);if(!row||!row.data){return;}var _f14=row.data.component;this.onComponentSelected(_f14);},dataBind:function(_f15){if(this.grid.store!==null&&_f15!==true){return;}if(_f15){_efc.forEach(this.categoryMenu.getChildren(),function(_f16){this.categoryMenu.removeChild(_f16);},this);}var grid=this.grid;_efb.when(this.componentDefinitionStore.query(),lang.hitch(this,function(data){var _f17=_efc.filter(data,function(item){return this._inCategoryFilter(item.categories);},this);this._populateCategoryMenu(_f17);var _f18=new _f0b({data:_f17});grid.set("store",_f18);}));},show:function(_f19){this.inherited(arguments);this.dataBind(_f19);this.resize();},resize:function(){this.inherited(arguments);this.container.resize();},_populateCategoryMenu:function(_f1a){this._selectedCategoryMenuItem=new _f06({label:this.commonRes.header.all,selected:true,value:"*"});this.categoryMenu.addChild(this._selectedCategoryMenuItem);var _f1b=this.categoryStore.query();_efb.when(_f1b,lang.hitch(this,function(_f1c){_efc.forEach(_f1c,function(_f1d){var _f1e=_efc.some(_f1a,function(_f1f){return _efc.indexOf(_f1f.categories,_f1d.name)>=0;});if(_f1e){this.categoryMenu.addChild(new _f06({label:_f1d.displayName,value:_f1d.name}));}},this);}));},_inCategoryFilter:function(_f20){var _f21=this.componentCategories;return _f21===null||_efc.some(_f20,function(c){return _efc.some(_f21,function(_f22){return _f22===c;});});},_onCategoryMenuClick:function(item,e){this._selectedCategoryMenuItem.set("selected",false);item.set("selected",true);this._selectedCategoryMenuItem=item;this.selectedCategory=item.value;this.searchBox.reset();this.grid.refresh();},_onSearchBoxChange:function(e){this.grid.refresh();}});return _f0f;});},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(_f23,Grid,_f24){return _f23([Grid,_f24],{});});},"dgrid/Grid":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","put-selector/put","./List","./util/misc","dojo/_base/sniff"],function(_f25,_f26,_f27,has,put,List,_f28){var _f29=has("ie")<8&&!has("quirks");function _f2a(_f2b,_f2c){if(_f2c&&_f2c.nodeType){_f2b.appendChild(_f2c);}};function _f2d(str){return _f28.escapeCssIdentifier(str,"-");};var Grid=_f26(List,{columns:null,cellNavigation:true,tabableHeader:true,showHeader:true,column:function(_f2e){if(typeof _f2e!="object"){return this.columns[_f2e];}else{return this.cell(_f2e).column;}},listType:"grid",cell:function(_f2f,_f30){if(_f2f.column&&_f2f.element){return _f2f;}if(_f2f.target&&_f2f.target.nodeType){_f2f=_f2f.target;}var _f31;if(_f2f.nodeType){var _f32;do{if(this._rowIdToObject[_f2f.id]){break;}var _f33=_f2f.columnId;if(_f33){_f30=_f33;_f31=_f2f;break;}_f2f=_f2f.parentNode;}while(_f2f&&_f2f!=this.domNode);}if(!_f31&&typeof _f30!="undefined"){var row=this.row(_f2f),_f34=row&&row.element;if(_f34){var _f35=_f34.getElementsByTagName("td");for(var i=0;i<_f35.length;i++){if(_f35[i].columnId==_f30){_f31=_f35[i];break;}}}}if(_f2f!=null){return {row:row||this.row(_f2f),column:_f30&&this.column(_f30),element:_f31};}},createRowCells:function(tag,each,_f36,_f37){var row=put("table.dgrid-row-table[role=presentation]"),_f38=this.cellNavigation,_f39=(has("ie")<9||has("quirks"))?put(row,"tbody"):row,tr,si,sl,i,l,_f3a,_f3b,id,_f3c,_f3d,cell,_f3e,_f3f,_f40;_f36=_f36||this.subRows;for(si=0,sl=_f36.length;si<sl;si++){_f3a=_f36[si];tr=put(_f39,"tr");if(_f3a.className){put(tr,"."+_f3a.className);}for(i=0,l=_f3a.length;i<l;i++){_f3b=_f3a[i];id=_f3b.id;_f3c=_f3b.field?".field-"+_f2d(_f3b.field):"";_f3d=typeof _f3b.className==="function"?_f3b.className(_f37):_f3b.className;if(_f3d){_f3c+="."+_f3d;}cell=put(tag+(".dgrid-cell.dgrid-cell-padding"+(id?".dgrid-column-"+_f2d(id):"")+_f3c.replace(/ +/g,"."))+"[role="+(tag==="th"?"columnheader":"gridcell")+"]");cell.columnId=id;if(_f29){_f3e=put(cell,"!dgrid-cell-padding div.dgrid-cell-padding");cell.contents=_f3e;}else{_f3e=cell;}_f3f=_f3b.colSpan;if(_f3f){cell.colSpan=_f3f;}_f40=_f3b.rowSpan;if(_f40){cell.rowSpan=_f40;}each(_f3e,_f3b);tr.appendChild(cell);}}return row;},left:function(cell,_f41){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,-(_f41||1),"dgrid-cell"));},right:function(cell,_f42){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,_f42||1,"dgrid-cell"));},renderRow:function(_f43,_f44){var self=this;var row=this.createRowCells("td",function(td,_f45){var data=_f43;if(_f45.get){data=_f45.get(_f43);}else{if("field" in _f45&&_f45.field!="_item"){data=data[_f45.field];}}if(_f45.renderCell){_f2a(td,_f45.renderCell(_f43,data,td,_f44));}else{_f46.call(_f45,_f43,data,td,_f44);}},_f44&&_f44.subRows,_f43);return put("div[role=row]>",row);},renderHeader:function(){var grid=this,_f47=this.columns,_f48=this.headerNode,i=_f48.childNodes.length;_f48.setAttribute("role","row");while(i--){put(_f48.childNodes[i],"!");}var row=this.createRowCells("th",function(th,_f49){var _f4a=_f49.headerNode=th;if(_f29){th=th.parentNode;}var _f4b=_f49.field;if(_f4b){th.field=_f4b;}if(_f49.renderHeaderCell){_f2a(_f4a,_f49.renderHeaderCell(_f4a));}else{if("label" in _f49||_f49.field){_f4a.appendChild(document.createTextNode("label" in _f49?_f49.label:_f49.field));}}if(_f49.sortable!==false&&_f4b&&_f4b!="_item"){th.sortable=true;th.className+=" dgrid-sortable";}},this.subRows&&this.subRows.headerRows);this._rowIdToObject[row.id=this.id+"-header"]=this.columns;_f48.appendChild(row);if(this._sortListener){this._sortListener.remove();}this._sortListener=_f27(row,"click,keydown",function(_f4c){if(_f4c.type=="click"||_f4c.keyCode==32||(!has("opera")&&_f4c.keyCode==13)){var _f4d=_f4c.target,_f4e,sort,_f4f,_f50;do{if(_f4d.sortable){_f4f=[{attribute:(_f4e=_f4d.field||_f4d.columnId),descending:(sort=grid._sort[0])&&sort.attribute==_f4e&&!sort.descending}];_f50={bubbles:true,cancelable:true,grid:grid,parentType:_f4c.type,sort:_f4f};if(_f27.emit(_f4c.target,"dgrid-sort",_f50)){grid._sortNode=_f4d;grid.set("sort",_f4f);}break;}}while((_f4d=_f4d.parentNode)&&_f4d!=_f48);}});},resize:function(){var _f51=this.headerNode.firstChild,_f52=this.contentNode,_f53;this.inherited(arguments);if(!has("ie")||(has("ie")>7&&!has("quirks"))){_f52.style.width="";if(_f52&&_f51){if((_f53=_f51.offsetWidth)!=_f52.offsetWidth){_f52.style.width=_f53+"px";}}}},destroy:function(){this._destroyColumns();if(this._sortListener){this._sortListener.remove();}this.inherited(arguments);},_setSort:function(_f54,_f55){this.inherited(arguments);this.updateSortArrow(this._sort);},_findSortArrowParent:function(_f56){var _f57=this.columns;for(var i in _f57){var _f58=_f57[i];if(_f58.field==_f56){return _f58.headerNode;}}},updateSortArrow:function(sort,_f59){if(this._lastSortedArrow){put(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down");put(this._lastSortedArrow,"!");delete this._lastSortedArrow;}if(_f59){this._sort=sort;}if(!sort[0]){return;}var prop=sort[0].attribute,desc=sort[0].descending,_f5a=this._sortNode||this._findSortArrowParent(prop),_f5b;delete this._sortNode;if(_f5a){_f5a=_f5a.contents||_f5a;_f5b=this._lastSortedArrow=put("div.dgrid-sort-arrow.ui-icon[role=presentation]");_f5b.innerHTML="&nbsp;";_f5a.insertBefore(_f5b,_f5a.firstChild);put(_f5a,desc?".dgrid-sort-down":".dgrid-sort-up");this.resize();}},styleColumn:function(_f5c,css){return this.addCssRule("#"+_f28.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+_f2d(_f5c),css);},_configColumns:function(_f5d,_f5e){var _f5f=[],_f60=_f5e instanceof Array;function _f61(_f62,_f63){if(typeof _f62=="string"){_f5e[_f63]=_f62={label:_f62};}if(!_f60&&!_f62.field){_f62.field=_f63;}_f63=_f62.id=_f62.id||(isNaN(_f63)?_f63:(_f5d+_f63));if(this._configColumn){this._configColumn(_f62,_f63,_f5e,_f5d);_f63=_f62.id;}if(_f60){this.columns[_f63]=_f62;}_f62.grid=this;if(typeof _f62.init==="function"){_f62.init();}_f5f.push(_f62);};_f28.each(_f5e,_f61,this);return _f60?_f5e:_f5f;},_destroyColumns:function(){var _f64=this.subRows,_f65=_f64&&_f64.length,i,j,_f66,len;this.cleanup();for(i=0;i<_f65;i++){for(j=0,len=_f64[i].length;j<len;j++){_f66=_f64[i][j];if(typeof _f66.destroy==="function"){_f66.destroy();}}}},configStructure:function(){var _f67=this.subRows,_f68=this._columns=this.columns;this.columns=!_f68||_f68 instanceof Array?{}:_f68;if(_f67){for(var i=0;i<_f67.length;i++){_f67[i]=this._configColumns(i+"-",_f67[i]);}}else{this.subRows=[this._configColumns("",_f68)];}},_getColumns:function(){return this._columns||this.columns;},_setColumns:function(_f69){this._destroyColumns();this.subRows=null;this.columns=_f69;this._updateColumns();},_setSubRows:function(_f6a){this._destroyColumns();this.subRows=_f6a;this._updateColumns();},setColumns:function(_f6b){_f25.deprecated("setColumns(...)","use set(\"columns\", ...) instead","dgrid 0.4");this.set("columns",_f6b);},setSubRows:function(_f6c){_f25.deprecated("setSubRows(...)","use set(\"subRows\", ...) instead","dgrid 0.4");this.set("subRows",_f6c);},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);if(this._started){if(this._sort&&this._sort.length){this.updateSortArrow(this._sort);}else{this.resize();}}}});function _f46(_f6d,data,td,_f6e){if(this.formatter){var _f6f=this.formatter,_f70=this.grid.formatterScope;td.innerHTML=typeof _f6f==="string"&&_f70?_f70[_f6f](data,_f6d):this.formatter(data,_f6d);}else{if(data!=null){td.appendChild(document.createTextNode(data));}}};Grid.appendIfNode=_f2a;Grid.defaultRenderCell=_f46;return Grid;});},"put-selector/put":function(){(function(_f71){var _f72,_f73=/[-+,> ]/;_f71([],_f72=function(doc,_f74){"use strict";_f73=_f74||_f73;var _f75=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,_f76,_f77,_f78=false,doc=doc||document,_f79=typeof doc.createElement=="object";function _f7a(_f7b,text){_f7b.appendChild(doc.createTextNode(text));};function put(_f7c){var _f7d,_f7e,_f7f,_f80,_f81,args=arguments,_f82=args[0];function _f83(){if(_f81&&_f80&&_f81!=_f80){(_f80==_f7c&&(_f7d||(_f7d=_f73.test(_f84)&&doc.createDocumentFragment()))?_f7d:_f80).insertBefore(_f81,_f7f||null);}};for(var i=0;i<args.length;i++){var _f84=args[i];if(typeof _f84=="object"){_f7e=false;if(_f84 instanceof Array){_f81=doc.createDocumentFragment();for(var key=0;key<_f84.length;key++){_f81.appendChild(put(_f84[key]));}_f84=_f81;}if(_f84.nodeType){_f81=_f84;_f83();_f80=_f84;_f7f=0;}else{for(var key in _f84){_f81[key]=_f84[key];}}}else{if(_f7e){_f7e=false;_f7a(_f81,_f84);}else{if(i<1){_f7c=null;}_f7e=true;var _f85=_f84.replace(_f75,function(t,_f86,_f87,_f88,_f89,_f8a){if(_f86){_f83();if(_f86=="-"||_f86=="+"){_f80=(_f7f=(_f81||_f80)).parentNode;_f81=null;if(_f86=="+"){_f7f=_f7f.nextSibling;}}else{if(_f86=="<"){_f80=_f81=(_f81||_f80).parentNode;}else{if(_f86==","){_f80=_f7c;}else{if(_f81){_f80=_f81;}}_f81=null;}_f7f=0;}if(_f81){_f80=_f81;}}var tag=!_f87&&_f88;if(tag||(!_f81&&(_f87||_f89))){if(tag=="$"){_f7a(_f80,args[++i]);}else{tag=tag||put.defaultTag;var _f8b=_f79&&args[i+1]&&args[i+1].name;if(_f8b){tag="<"+tag+" name=\""+_f8b+"\">";}_f81=_f78&&~(_f77=tag.indexOf("|"))?doc.createElementNS(_f78[tag.slice(0,_f77)],tag.slice(_f77+1)):doc.createElement(tag);}}if(_f87){if(_f88=="$"){_f88=args[++i];}if(_f87=="#"){_f81.id=_f88;}else{var _f8c=_f81.className;var _f8d=_f8c&&(" "+_f8c+" ").replace(" "+_f88+" "," ");if(_f87=="."){_f81.className=_f8c?(_f8d+_f88).substring(1):_f88;}else{if(_f84=="!"){var _f8e;if(_f79){put("div",_f81,"<").innerHTML="";}else{if(_f8e=_f81.parentNode){_f8e.removeChild(_f81);}}}else{_f8d=_f8d.substring(1,_f8d.length-1);if(_f8d!=_f8c){_f81.className=_f8d;}}}}}if(_f89){if(_f8a=="$"){_f8a=args[++i];}if(_f89=="style"){_f81.style.cssText=_f8a;}else{var _f8f=_f89.charAt(0)=="!"?(_f89=_f89.substring(1))&&"removeAttribute":"setAttribute";_f8a=_f8a===""?_f89:_f8a;_f78&&~(_f77=_f89.indexOf("|"))?_f81[_f8f+"NS"](_f78[_f89.slice(0,_f77)],_f89.slice(_f77+1),_f8a):_f81[_f8f](_f89,_f8a);}}return "";});if(_f85){throw new SyntaxError("Unexpected char "+_f85+" in "+_f84);}_f83();_f80=_f82=_f81||_f80;}}}if(_f7c&&_f7d){_f7c.appendChild(_f7d);}return _f82;};put.addNamespace=function(name,uri){if(doc.createElementNS){(_f78||(_f78={}))[name]=uri;}else{doc.namespaces.add(name,uri);}};put.defaultTag="div";put.forDocument=_f72;return put;});})(function(id,deps,_f90){_f90=_f90||deps;if(typeof define==="function"){define([],function(){return _f90();});}else{if(typeof window=="undefined"){require("./node-html")(module,_f90);}else{put=_f90();}}});},"dgrid/List":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/dom","dojo/on","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(_f91,_f92,dom,_f93,has,_f94,_f95,_f96,put){_f96("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var _f97="dgrid-row-odd",_f98="dgrid-row-even",_f99,_f9a;function byId(id){return document.getElementById(id);};function _f9b(_f9c){_f9c.className="";document.body.removeChild(_f9c);};function _f9d(_f9e,_f9f){put(document.body,_f9e,".dgrid-scrollbar-measure");var size=_f9e["offset"+_f9f]-_f9e["client"+_f9f];_f9b(_f9e);return size;};has.add("dom-scrollbar-width",function(_fa0,doc,_fa1){return _f9d(_fa1,"Width");});has.add("dom-scrollbar-height",function(_fa2,doc,_fa3){return _f9d(_fa3,"Height");});has.add("dom-rtl-scrollbar-left",function(_fa4,doc,_fa5){var div=put("div"),_fa6;put(document.body,_fa5,".dgrid-scrollbar-measure[dir=rtl]");put(_fa5,div);_fa6=!!has("ie")||!!has("trident")||div.offsetLeft>=has("dom-scrollbar-width");_f9b(_fa5);put(div,"!");_fa5.removeAttribute("dir");return _fa6;});var _fa7=0;function _fa8(){return "dgrid_"+_fa7++;};var _fa9=/ +/g;function _faa(cls){var _fab=cls?"."+cls.replace(_fa9,"."):"";if(this._class){_fab="!"+this._class.replace(_fa9,"!")+_fab;}put(this.domNode,_fab);this._class=cls;};function _fac(){return this._class;};var _fad=has("ie")<7&&!has("quirks")?function(){var root,w,h,dims;if(!this._started){return;}root=document.documentElement;w=root.clientWidth;h=root.clientHeight;dims=this._prevWinDims||[];if(dims[0]!==w||dims[1]!==h){this.resize();this._prevWinDims=[w,h];}}:function(){if(this._started){this.resize();}};function _fae(){return {x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop};};function _faf(_fb0){if(typeof _fb0.x!=="undefined"){this.bodyNode.scrollLeft=_fb0.x;}if(typeof _fb0.y!=="undefined"){this.bodyNode.scrollTop=_fb0.y;}};return _f92(has("touch")?_f95:null,{tabableHeader:false,showHeader:false,showFooter:false,maintainOddEven:true,cleanAddedRules:true,useTouchScroll:null,addUiClasses:true,cleanEmptyObservers:true,highlightDuration:250,postscript:function(_fb1,_fb2){var grid=this;(this._Row=function(id,_fb3,_fb4){this.id=id;this.data=_fb3;this.element=_fb4;}).prototype.remove=function(){grid.removeRow(this.element);};if(_fb2){this.srcNodeRef=_fb2=_fb2.nodeType?_fb2:byId(_fb2);}this.create(_fb1,_fb2);},listType:"list",create:function(_fb5,_fb6){var _fb7=this.domNode=_fb6||put("div"),cls;if(_fb5){this.params=_fb5;_f92.safeMixin(this,_fb5);cls=_fb5["class"]||_fb5.className||_fb7.className;this._sort=_fb5.sort||[];delete this.sort;}else{this._sort=[];}this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=_fb7.id=_fb7.id||this.id||_fa8();if(this.useTouchScroll===null){this.useTouchScroll=!has("dom-scrollbar-width");}this.buildRendering();if(cls){_faa.call(this,cls);}this.postCreate();delete this.srcNodeRef;if(this.domNode.offsetHeight){this.startup();}},buildRendering:function(){var _fb8=this.domNode,_fb9=this.addUiClasses,self=this,_fba,_fbb,_fbc,_fbd,_fbe;_fbe=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";_fb8.className="";put(_fb8,"[role=grid].dgrid.dgrid-"+this.listType+(_fb9?".ui-widget":""));_fba=this.headerNode=put(_fb8,"div.dgrid-header.dgrid-header-row"+(_fb9?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));if(has("quirks")||has("ie")<8){_fbb=put(_fb8,"div.dgrid-spacer");}_fbc=this.bodyNode=put(_fb8,"div.dgrid-scroller");if(has("ff")){_fbc.tabIndex=-1;}this.headerScrollNode=put(_fb8,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(_fb9?".ui-widget-header":""));_fbd=this.footerNode=put("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));put(_fb8,_fbd);if(_fbe){_fb8.className+=" dgrid-rtl"+(has("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":"");}_f93(_fbc,"scroll",function(_fbf){if(self.showHeader){_fba.scrollLeft=_fbf.scrollLeft||_fbc.scrollLeft;}_fbf.stopPropagation();_f93.emit(_fb8,"scroll",{scrollTarget:_fbc});});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=put(this.bodyNode,"div.dgrid-content"+(_fb9?".ui-widget-content":""));this._listeners.push(this._resizeHandle=_f93(window,"resize",_f94.throttleDelayed(_fad,this)));},postCreate:has("touch")?function(){if(this.useTouchScroll){this.inherited(arguments);}}:function(){},startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;this.resize();this.set("sort",this._sort);},configStructure:function(){},resize:function(){var _fc0=this.bodyNode,_fc1=this.headerNode,_fc2=this.footerNode,_fc3=_fc1.offsetHeight,_fc4=this.showFooter?_fc2.offsetHeight:0,_fc5=has("quirks")||has("ie")<7;this.headerScrollNode.style.height=_fc0.style.marginTop=_fc3+"px";_fc0.style.marginBottom=_fc4+"px";if(_fc5){_fc0.style.height="";_fc0.style.height=Math.max((this.domNode.offsetHeight-_fc3-_fc4),0)+"px";if(_fc4){_fc2.style.bottom="1px";setTimeout(function(){_fc2.style.bottom="";},0);}}if(!_f99){_f99=has("dom-scrollbar-width");_f9a=has("dom-scrollbar-height");if(has("ie")){_f99++;_f9a++;}_f94.addCssRule(".dgrid-scrollbar-width","width: "+_f99+"px");_f94.addCssRule(".dgrid-scrollbar-height","height: "+_f9a+"px");if(_f99!=17&&!_fc5){_f94.addCssRule(".dgrid-header-row","right: "+_f99+"px");_f94.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+_f99+"px");}}if(_fc5){_fc1.style.width=_fc0.clientWidth+"px";setTimeout(function(){_fc1.scrollLeft=_fc0.scrollLeft;},0);}},addCssRule:function(_fc6,css){var rule=_f94.addCssRule(_fc6,css);if(this.cleanAddedRules){this._listeners.push(rule);}return rule;},on:function(_fc7,_fc8){var _fc9=_f93(this.domNode,_fc7,_fc8);if(!has("dom-addeventlistener")){this._listeners.push(_fc9);}return _fc9;},cleanup:function(){var _fca=this.observers,i;for(i in this._rowIdToObject){if(this._rowIdToObject[i]!=this.columns){var _fcb=byId(i);if(_fcb){this.removeRow(_fcb,true);}}}for(i=0;i<_fca.length;i++){var _fcc=_fca[i];_fcc&&_fcc.cancel();}this.observers=[];this._numObservers=0;this.preload=null;},destroy:function(){if(this._listeners){for(var i=this._listeners.length;i--;){this._listeners[i].remove();}delete this._listeners;}this._started=false;this.cleanup();put(this.domNode,"!");if(this.useTouchScroll){this.inherited(arguments);}},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0});},newRow:function(_fcd,_fce,_fcf,i,_fd0){if(_fce){var row=this.insertRow(_fcd,_fce,_fcf,i,_fd0);put(row,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){put(row,"!dgrid-highlight!ui-state-highlight");},this.highlightDuration);return row;}},adjustRowIndices:function(_fd1){var next=_fd1;var _fd2=next.rowIndex;if(_fd2>-1){do{if(next.rowIndex>-1){if(this.maintainOddEven){if((next.className+" ").indexOf("dgrid-row ")>-1){put(next,"."+(_fd2%2==1?_f97:_f98)+"!"+(_fd2%2==0?_f97:_f98));}}next.rowIndex=_fd2++;}}while((next=next.nextSibling)&&next.rowIndex!=_fd2);}},renderArray:function(_fd3,_fd4,_fd5){_fd5=_fd5||{};var self=this,_fd6=_fd5.start||0,_fd7=this.observers,rows,_fd8,_fd9;if(!_fd4){this._lastCollection=_fd3;}if(_fd3.observe){self._numObservers++;var _fda=_fd3.observe(function(_fdb,from,to){var row,_fdc,_fdd,_fde;function _fdf(){_fdd=(_fdd.connected||_fdd).nextSibling;};if(from>-1&&rows[from]){row=rows.splice(from,1)[0];if(row.parentNode==_fd8){_fdc=row.nextSibling;if(_fdc){if(from!=to){_fdc.rowIndex--;}}self.removeRow(row);}_fd5.count--;if(self._processScroll){self._processScroll();}}if(to>-1){if(rows.length){if(to===0){_fdd=rows[to];_fdd=_fdd&&_fe0(_fdd);}else{_fdd=rows[to-1];if(_fdd){_fdd=_fe0(_fdd);_fdf();}}}else{_fdd=self._getFirstRowSibling&&self._getFirstRowSibling(_fd8);}if(row&&_fdd&&row.id===_fdd.id){_fdf();}if(_fdd&&!_fdd.parentNode){_fdd=byId(_fdd.id);}_fde=(_fd4&&_fd4.parentNode)||(_fdd&&_fdd.parentNode)||self.contentNode;row=self.newRow(_fdb,_fde,_fdd,_fd5.start+to,_fd5);if(row){row.observerIndex=_fd9;rows.splice(to,0,row);if(!_fdc||to<from){var _fe1=row.previousSibling;_fdc=!_fe1||_fe1.rowIndex+1==row.rowIndex||row.rowIndex==0?row:_fe1;}}_fd5.count++;}if(from===0){_fe2(1,1);}else{if(from===_fd3.length-(to===-1?0:1)){_fe2(0,0);}}from!=to&&_fdc&&self.adjustRowIndices(_fdc);self._onNotification(rows,_fdb,from,to);},true);_fd9=_fd7.push(_fda)-1;}var _fe3=document.createDocumentFragment(),_fe4;function _fe2(){var _fe5=arguments;if(_fd9>-1){for(var i=0;i<_fe5.length;i++){var top=_fe5[i];var _fe6=rows[top?0:rows.length-1];_fe6=_fe6&&_fe0(_fe6);if(_fe6){var row=_fe6[top?"previousSibling":"nextSibling"];if(row){row=self.row(row);}if(row&&row.element!=_fe6){var _fe7=top?"unshift":"push";_fd3[_fe7](row.data);rows[_fe7](row.element);_fd5.count++;}}}}};function _fe0(row){if(!dom.isDescendant(row,self.domNode)&&byId(row.id)){return self.row(row.id.slice(self.id.length+5)).element;}return row;};function _fe8(_fe9){_fe4=self.insertRow(_fe9,_fe3,null,_fd6++,_fd5);_fe4.observerIndex=_fd9;return _fe4;};function _fea(_feb){if(typeof _fd9!=="undefined"){_fd7[_fd9].cancel();_fd7[_fd9]=0;self._numObservers--;}if(_feb){throw _feb;}};var _fec;function _fed(_fee){_fec=_fee.slice(0);_fd8=_fd4?_fd4.parentNode:self.contentNode;if(_fd8&&_fd8.parentNode&&(_fd8!==self.contentNode||_fee.length)){_fd8.insertBefore(_fe3,_fd4||null);_fe4=_fee[_fee.length-1];_fe4&&self.adjustRowIndices(_fe4);}else{if(_fd7[_fd9]&&self.cleanEmptyObservers){_fea();}}rows=_fee;if(_fda){_fda.rows=rows;}};if(_fd3.map){rows=_fd3.map(_fe8,console.error);if(rows.then){return _fd3.then(function(_fef){_fd3=_fef;return rows.then(function(_ff0){_fed(_ff0);_fe2(1,1,0,0);return _fec;});});}}else{rows=[];for(var i=0,l=_fd3.length;i<l;i++){rows[i]=_fe8(_fd3[i]);}}_fed(rows);_fe2(1,1,0,0);return _fec;},_onNotification:function(rows,_ff1,from,to){},renderHeader:function(){},_autoId:0,insertRow:function(_ff2,_ff3,_ff4,i,_ff5){var _ff6=_ff5.parentId,id=this.id+"-row-"+(_ff6?_ff6+"-":"")+((this.store&&this.store.getIdentity)?this.store.getIdentity(_ff2):this._autoId++),row=byId(id),_ff7=row&&row.previousSibling;if(row){if(row===_ff4){_ff4=(_ff4.connected||_ff4).nextSibling;}this.removeRow(row);}row=this.renderRow(_ff2,_ff5);row.className=(row.className||"")+" dgrid-row "+(i%2==1?_f97:_f98)+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[row.id=id]=_ff2;_ff3.insertBefore(row,_ff4||null);if(_ff7){this.adjustRowIndices(_ff7);}row.rowIndex=i;return row;},renderRow:function(_ff8,_ff9){return put("div",""+_ff8);},removeRow:function(_ffa,_ffb){_ffa=_ffa.element||_ffa;delete this._rowIdToObject[_ffa.id];if(!_ffb){put(_ffa,"!");}},row:function(_ffc){var id;if(_ffc instanceof this._Row){return _ffc;}if(_ffc.target&&_ffc.target.nodeType){_ffc=_ffc.target;}if(_ffc.nodeType){var _ffd;do{var _ffe=_ffc.id;if((_ffd=this._rowIdToObject[_ffe])){return new this._Row(_ffe.substring(this.id.length+5),_ffd,_ffc);}_ffc=_ffc.parentNode;}while(_ffc&&_ffc!=this.domNode);return;}if(typeof _ffc=="object"){id=this.store.getIdentity(_ffc);}else{id=_ffc;_ffc=this._rowIdToObject[this.id+"-row-"+id];}return new this._Row(id,_ffc,byId(this.id+"-row-"+id));},cell:function(_fff){return {row:this.row(_fff)};},_move:function(item,steps,_1000,_1001){var _1002,_1003,_1004;_1004=_1003=item.element;steps=steps||1;do{if((_1002=_1003[steps<0?"previousSibling":"nextSibling"])){do{_1003=_1002;if(_1003&&(_1003.className+" ").indexOf(_1000+" ")>-1){_1004=_1003;steps+=steps<0?1:-1;break;}}while((_1002=(!_1001||!_1003.hidden)&&_1003[steps<0?"lastChild":"firstChild"]));}else{_1003=_1003.parentNode;if(!_1003||_1003===this.bodyNode||_1003===this.headerNode){break;}}}while(steps);return _1004;},up:function(row,steps,_1005){if(!row.element){row=this.row(row);}return this.row(this._move(row,-(steps||1),"dgrid-row",_1005));},down:function(row,steps,_1006){if(!row.element){row=this.row(row);}return this.row(this._move(row,steps||1,"dgrid-row",_1006));},scrollTo:has("touch")?function(_1007){return this.useTouchScroll?this.inherited(arguments):_faf.call(this,_1007);}:_faf,getScrollPosition:has("touch")?function(){return this.useTouchScroll?this.inherited(arguments):_fae.call(this);}:_fae,get:function(name){var fn="_get"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){return this[fn].apply(this,[].slice.call(arguments,1));}if(!1&&typeof this[fn+"Attr"]==="function"){console.warn("dgrid: Use "+fn+" instead of "+fn+"Attr for getting "+name);}return this[name];},set:function(name,value){if(typeof name==="object"){for(var k in name){this.set(k,name[k]);}}else{var fn="_set"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){this[fn].apply(this,[].slice.call(arguments,1));}else{if(!1&&typeof this[fn+"Attr"]==="function"){console.warn("dgrid: Use "+fn+" instead of "+fn+"Attr for setting "+name);}this[name]=value;}}return this;},_getClass:_fac,_setClass:_faa,_getClassName:_fac,_setClassName:_faa,_setSort:function(_1008,_1009){this._sort=typeof _1008!="string"?_1008:[{attribute:_1008,descending:_1009}];this.refresh();if(this._lastCollection){if(_1008.length){if(typeof _1008!="string"){_1009=_1008[0].descending;_1008=_1008[0].attribute;}this._lastCollection.sort(function(a,b){var aVal=a[_1008],bVal=b[_1008];if(aVal===undefined){aVal="";}if(bVal===undefined){bVal="";}return aVal==bVal?0:(aVal>bVal==!_1009?1:-1);});}this.renderArray(this._lastCollection);}},sort:function(_100a,_100b){_f91.deprecated("sort(...)","use set(\"sort\", ...) instead","dgrid 0.4");this.set("sort",_100a,_100b);},_getSort:function(){return this._sort;},_setShowHeader:function(show){var _100c=this.headerNode;this.showHeader=show;put(_100c,(show?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();if(show){_100c.scrollLeft=this.getScrollPosition().x;}},setShowHeader:function(show){_f91.deprecated("setShowHeader(...)","use set(\"showHeader\", ...) instead","dgrid 0.4");this.set("showHeader",show);},_setShowFooter:function(show){this.showFooter=show;put(this.footerNode,(show?"!":".")+"dgrid-footer-hidden");this.resize();}});});},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(has,put){has.add("dom-contains",function(_100d,doc,_100e){return !!_100e.contains;});var _100f=[],_1010,_1011,_1012,_1013=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;function _1014(index){var _1015=_100f[index],i,l;if(_1015===undefined){return;}_1010[_1011](_1015);_100f[index]=undefined;for(i=index+1,l=_100f.length;i<l;i++){if(_100f[i]>_1015){_100f[i]--;}}};var util={defaultDelay:15,throttle:function(cb,_1016,delay){var ran=false;delay=delay||util.defaultDelay;return function(){if(ran){return;}ran=true;cb.apply(_1016,arguments);setTimeout(function(){ran=false;},delay);};},throttleDelayed:function(cb,_1017,delay){var ran=false;delay=delay||util.defaultDelay;return function(){if(ran){return;}ran=true;var a=arguments;setTimeout(function(){ran=false;cb.apply(_1017,a);},delay);};},debounce:function(cb,_1018,delay){var timer;delay=delay||util.defaultDelay;return function(){if(timer){clearTimeout(timer);timer=null;}var a=arguments;timer=setTimeout(function(){cb.apply(_1018,a);},delay);};},each:function(_1019,_101a,_101b){var i,len;if(!_1019){return;}if(typeof _1019.length==="number"){for(i=0,len=_1019.length;i<len;i++){_101a.call(_101b,_1019[i],i,_1019);}}else{for(i in _1019){_101a.call(_101b,_1019[i],i,_1019);}}},contains:function(_101c,node){if(has("dom-contains")){return _101c.contains(node);}else{return _101c.compareDocumentPosition(node)&8;}},addCssRule:function(_101d,css){if(!_1010){_1010=put(document.getElementsByTagName("head")[0],"style");_1010=_1010.sheet||_1010.styleSheet;_1011=_1010.deleteRule?"deleteRule":"removeRule";_1012=_1010.cssRules?"cssRules":"rules";}var index=_100f.length;_100f[index]=(_1010.cssRules||_1010.rules).length;_1010.addRule?_1010.addRule(_101d,css):_1010.insertRule(_101d+"{"+css+"}",_100f[index]);return {get:function(prop){return _1010[_1012][_100f[index]].style[prop];},set:function(prop,value){if(typeof _100f[index]!=="undefined"){_1010[_1012][_100f[index]].style[prop]=value;}},remove:function(){_1014(index);}};},escapeCssIdentifier:function(id,_101e){return typeof id==="string"?id.replace(_1013,_101e||"\\$1"):id;}};return util;});},"xstyle/has-class":function(){define(["dojo/has"],function(has){var _101f={};return function(){var test,args=arguments;for(var i=0;i<args.length;i++){var test=args[i];if(!_101f[test]){_101f[test]=true;var parts=test.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),_1020=has(parts[2]),lower=-parts[4];if((lower>0?lower<=_1020&&(-parts[5]||lower)>=_1020:!!_1020)==!parts[1]){document.documentElement.className+=" has-"+test;}}}};});},"xstyle/css":function(){define(["require"],function(_1021){"use strict";function _1022(tag,id,_1023){var _1024=document.documentElement;var _1025=_1024.insertBefore(document.createElement(tag),_1024.firstChild);_1025.id=id;var _1026=(_1025.currentStyle||getComputedStyle(_1025,null)||{})[_1023];_1024.removeChild(_1025);return _1026;};return {load:function(_1027,_1028,_1029,_102a){var url=_1028.toUrl(_1027);var _102b;if(url.match(/!$/)){_102b={wait:false};url=url.slice(0,-1);}var _102c=_1028.cache&&_1028.cache["url:"+url];if(_102c){if(_102c.xCss){var _102d=_102c.parser;var xCss=_102c.xCss;_102c=_102c.cssText;}_1021(["./core/load-css"],function(load){_102e(load.insertCss(_102c));});if(xCss){}return;}function _102e(_102f){var _1030=_1022("x-parse",null,"content");var sheet=_102f&&(_102f.sheet||_102f.styleSheet);if(_1030&&_1030!="none"&&_1030!="normal"){_1028([eval(_1030)],function(_1031){if(_102f){_1031.process(_102f,_1029);}else{_1031.processAll();_1029(sheet);}});}else{_1029(sheet);}};var _1032=_1022("div",_1027.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display");if(_1032=="none"){return _102e();}_1021(["./core/load-css"],function(load){load(url,_102e,_102b);});}};});},"dgrid/OnDemandList":function(){define(["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/dom","dojo/on","./util/misc","put-selector/put"],function(List,_1033,_1034,lang,_1035,dom,_1036,_1037,put){return _1034([List,_1033],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2000,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:_1037.defaultDelay,keepScrollPosition:false,rowHeight:22,postCreate:function(){this.inherited(arguments);var self=this;_1036(this.bodyNode,"scroll",_1037[this.pagingMethod](function(event){self._processScroll(event);},null,this.pagingDelay));},renderQuery:function(query,_1038){var self=this,_1039=(_1038&&_1038.container)||this.contentNode,_103a={query:query,count:0,options:_1038},_103b,_103c=this.preload,_103d;var _103e={node:put(_1039,"div.dgrid-preload",{rowIndex:0}),count:0,query:query,next:_103a,options:_1038};_103e.node.style.height="0";_103a.node=_103b=put(_1039,"div.dgrid-preload");_103a.previous=_103e;_103b.rowIndex=this.minRowsPerPage;if(_103c){if((_103a.next=_103c.next)&&_103b.offsetTop>=_103c.node.offsetTop){_103a.previous=_103c;}else{_103a.next=_103c;_103a.previous=_103c.previous;}_103a.previous.next=_103a;_103a.next.previous=_103a;}else{this.preload=_103a;}var _103f=put(_103b,"-div.dgrid-loading"),_1040=put(_103f,"div.dgrid-below");_1040.innerHTML=this.loadingMessage;function _1041(err){put(_103f,"!");if(err){if(self._refreshDeferred){self._refreshDeferred.reject(err);delete self._refreshDeferred;}throw err;}};_1038=lang.mixin(this.get("queryOptions"),_1038,{start:0,count:this.minRowsPerPage},"level" in query?{queryLevel:query.level}:null);this._trackError(function(){return _103d=query(_1038);});if(typeof _103d==="undefined"){_1041();return;}_1035.when(self.renderArray(_103d,_103b,_1038),function(trs){var total=typeof _103d.total==="undefined"?_103d.length:_103d.total;return _1035.when(total,function(total){var _1042=trs.length,_1043=_103b.parentNode,_1044=self.noDataNode;put(_103f,"!");if(!("queryLevel" in _1038)){self._total=total;}if(total===0){if(_1044){put(_1044,"!");delete self.noDataNode;}self.noDataNode=_1044=put("div.dgrid-no-data");_1043.insertBefore(_1044,self._getFirstRowSibling(_1043));_1044.innerHTML=self.noDataMessage;}var _1045=0;for(var i=0;i<_1042;i++){_1045+=self._calcRowHeight(trs[i]);}if(_1042&&_1045){self.rowHeight=_1045/_1042;}total-=_1042;_103a.count=total;_103b.rowIndex=_1042;if(total){_103b.style.height=Math.min(total*self.rowHeight,self.maxEmptySpace)+"px";}else{_103b.style.display="none";_1038.count++;}if(self._previousScrollPosition){self.scrollTo(self._previousScrollPosition);delete self._previousScrollPosition;}self._processScroll();if(self._refreshDeferred){self._refreshDeferred.resolve(_103d);delete self._refreshDeferred;}return trs;},_1041);},_1041);return _103d;},refresh:function(_1046){var self=this,keep=(_1046&&_1046.keepScrollPosition),dfd,_1047;if(typeof keep==="undefined"){keep=this.keepScrollPosition;}if(keep){this._previousScrollPosition=this.getScrollPosition();}this.inherited(arguments);if(this.store){dfd=this._refreshDeferred=new _1035();_1047=self.renderQuery(function(_1048){return self.store.query(self.query,_1048);});if(typeof _1047==="undefined"){dfd.reject();}return dfd.then(function(_1049){setTimeout(function(){_1036.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_1049});},0);delete self._refreshDeferred;return _1049;},function(err){delete self._refreshDeferred;throw err;});}},resize:function(){this.inherited(arguments);this._processScroll();},_getFirstRowSibling:function(_104a){return _104a.lastChild;},_calcRowHeight:function(_104b){var _104c=_104b.nextSibling;if(_104c&&!/\bdgrid-preload\b/.test(_104c.className)){return _104c.offsetTop-_104b.offsetTop;}return _104b.offsetHeight;},lastScrollTop:0,_processScroll:function(evt){var grid=this,_104d=grid.bodyNode,_104e=(evt&&evt.scrollTop)||this.getScrollPosition().y,_104f=_104d.offsetHeight+_104e,_1050,_1051,_1052=grid.preload,_1053=grid.lastScrollTop,_1054=grid.bufferRows*grid.rowHeight,_1055=_1054-grid.rowHeight,_1056,_1057,_1058,_1059=true;var _105a=1;grid.lastScrollTop=_104e;function _105b(_105c,_105d,_105e,below){var _105f=grid.farOffRemoval,_1051=_105c.node;if(_105d>2*_105f){var row,_1060=_1051[_105e];var _1061=0;var count=0;var _1062=[];while((row=_1060)){var _1063=grid._calcRowHeight(row);if(_1061+_1063+_105f>_105d||(_1060.className.indexOf("dgrid-row")<0&&_1060.className.indexOf("dgrid-loading")<0)){break;}var _1060=row[_105e];_1061+=_1063;count+=row.count||1;grid.removeRow(row,true);_1062.push(row);}_105c.count+=count;if(below){_1051.rowIndex-=count;_1064(_105c);}else{_1051.style.height=(_1051.offsetHeight+_1061)+"px";}var _1065=put("div",_1062);setTimeout(function(){put(_1065,"!");},1);}};function _1064(_1066,noMax){_1066.node.style.height=Math.min(_1066.count*grid.rowHeight,noMax?Infinity:grid.maxEmptySpace)+"px";};function _1067(_1068,_1069){do{_1068=_1069?_1068.next:_1068.previous;}while(_1068&&!_1068.node.offsetWidth);return _1068;};while(_1052&&!_1052.node.offsetWidth){_1052=_1052.previous;}while(_1052&&_1052!=_1050){_1050=grid.preload;grid.preload=_1052;_1051=_1052.node;var _106a=_1051.offsetTop;var _106b;if(_104f+_105a+_1055<_106a){_1052=_1067(_1052,(_1059=false));}else{if(_104e-_105a-_1055>(_106a+(_106b=_1051.offsetHeight))){_1052=_1067(_1052,(_1059=true));}else{var _106c=((_1051.rowIndex?_104e-_1054:_104f)-_106a)/grid.rowHeight;var count=(_104f-_104e+2*_1054)/grid.rowHeight;var _106d=Math.max(Math.min((_104e-_1053)*grid.rowHeight,grid.maxRowsPerPage/2),grid.maxRowsPerPage/-2);count+=Math.min(Math.abs(_106d),10);if(_1051.rowIndex==0){_106c-=count;}_106c=Math.max(_106c,0);if(_106c<10&&_106c>0&&count+_106c<grid.maxRowsPerPage){count+=Math.max(0,_106c);_106c=0;}count=Math.min(Math.max(count,grid.minRowsPerPage),grid.maxRowsPerPage,_1052.count);if(count==0){_1052=_1067(_1052,_1059);continue;}count=Math.ceil(count);_106c=Math.min(Math.floor(_106c),_1052.count-count);var _106e=lang.mixin(grid.get("queryOptions"),_1052.options);_1052.count-=count;var _106f=_1051,_1070,_1071=grid.queryRowsOverlap,below=(_1051.rowIndex>0||_1051.offsetTop>_104e)&&_1052;if(below){var _1072=_1052.previous;if(_1072){_105b(_1072,_104e-(_1072.node.offsetTop+_1072.node.offsetHeight),"nextSibling");if(_106c>0&&_1072.node==_1051.previousSibling){_106c=Math.min(_1052.count,_106c);_1052.previous.count+=_106c;_1064(_1052.previous,true);_1051.rowIndex+=_106c;_1071=0;}else{count+=_106c;}_1052.count-=_106c;}_106e.start=_1051.rowIndex-_1071;_106e.count=Math.min(count+_1071,grid.maxRowsPerPage);_1051.rowIndex=_106e.start+_106e.count;}else{if(_1052.next){_105b(_1052.next,_1052.next.node.offsetTop-_104f,"previousSibling",true);var _106f=_1051.nextSibling;if(_106f==_1052.next.node){_1052.next.count+=_1052.count-_106c;_1052.next.node.rowIndex=_106c+count;_1064(_1052.next);_1052.count=_106c;_1071=0;}else{_1070=true;}}_106e.start=_1052.count;_106e.count=Math.min(count+_1071,grid.maxRowsPerPage);}if(_1070&&_106f&&_106f.offsetWidth){_1070=_106f.offsetTop;}_1064(_1052);if("level" in _1052.query){_106e.queryLevel=_1052.query.level;}if(!("queryLevel" in _106e)&&(_106e.start>grid._total||_106e.count<0)){continue;}var _1073=put(_106f,"-div.dgrid-loading[style=height:"+count*grid.rowHeight+"px]"),_1074=put(_1073,"div.dgrid-"+(below?"below":"above"));_1074.innerHTML=grid.loadingMessage;_1073.count=count;var _1075=_1052.query(_106e),_1076=grid._trackError(function(){return _1075;});if(_1076===undefined){put(_1073,"!");return;}(function(_1077,below,_1078,_1079){_1058=_1035.when(grid.renderArray(_1079,_1077,_106e),function(rows){_1057=_1079;_106f=_1077.nextSibling;put(_1077,"!");if(_1078&&_106f&&_106f.offsetWidth){var pos=grid.getScrollPosition();grid.scrollTo({x:pos.x,y:pos.y+_106f.offsetTop-_1078,preserveMomentum:true});}_1035.when(_1079.total||_1079.length,function(total){if(!("queryLevel" in _106e)){grid._total=total;}if(below){below.count=total-below.node.rowIndex;if(below.count===0){_106e.count++;}_1064(below);}});grid._processScroll();return rows;},function(e){put(_1077,"!");throw e;});}).call(this,_1073,below,_1070,_1075);_1052=_1052.previous;}}}if(_1058&&(_1056=this._refreshDeferred)){delete this._refreshDeferred;_1035.when(_1058,function(){_1056.resolve(_1057);});}},removeRow:function(_107a,_107b){function _107c(_107d,_107e){return _107d!=null?_107d:_107e;};if(_107a){var _107f=_107a.previousSibling,_1080=_107a.nextSibling,_1081=_107f&&_107c(_107f.observerIndex,_107f.previousObserverIndex),_1082=_1080&&_107c(_1080.observerIndex,_1080.nextObserverIndex),_1083=_107a.observerIndex;_107a.observerIndex=undefined;if(_107b){_107a.nextObserverIndex=_1082;_107a.previousObserverIndex=_1081;}if(this.cleanEmptyObservers&&_1083>-1&&_1083!==_1081&&_1083!==_1082){var _1084=this.observers;var _1085=_1084[_1083];if(_1085){if(!_107b){var rows=_1085.rows;for(var i=0;i<rows.length;i++){if(rows[i]!=_107a&&dom.isDescendant(rows[i],this.domNode)){return this.inherited(arguments);}}}_1085.cancel();this._numObservers--;_1084[_1083]=0;}}}this.inherited(arguments);}});});},"dgrid/_StoreMixin":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/aspect","put-selector/put"],function(_1086,_1087,lang,_1088,_1089,_108a,put){function noop(value){return value;};function _108b(err){if(typeof err!=="object"){err=new Error(err);}else{if(err.dojoType==="cancel"){return;}}err.grid=this;if(_1089.emit(this.domNode,"dgrid-error",{grid:this,error:err,cancelable:true,bubbles:true})){console.error(err);}};return _1087(null,{store:null,query:null,queryOptions:null,getBeforePut:true,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};_108a.before(this,"configStructure",lang.hitch(this,function(){this._columnsWithSet={};}));},postCreate:function(){this.inherited(arguments);if(this.store){this._updateNotifyHandle(this.store);}},destroy:function(){this.inherited(arguments);if(this._notifyHandle){this._notifyHandle.remove();}},_configColumn:function(_108c){if(_108c.set){this._columnsWithSet[_108c.field]=_108c;}this.inherited(arguments);},_updateNotifyHandle:function(store){if(this._notifyHandle){this._notifyHandle.remove();delete this._notifyHandle;}if(store&&typeof store.notify==="function"){this._notifyHandle=_108a.after(store,"notify",lang.hitch(this,"_onNotify"),true);var sort=this.get("sort");if(!sort||!sort.length){console.warn("Observable store detected, but no sort order specified. "+"You may experience quirks when adding/updating items.  "+"These can be resolved by setting a sort order on the list or grid.");}}},_setStore:function(store,query,_108d){this._updateNotifyHandle(store);this.store=store;this.dirty={};this.set("query",query,_108d);},_setQuery:function(query,_108e){var sort=_108e&&_108e.sort;this.query=query!==undefined?query:this.query;this.queryOptions=_108e||this.queryOptions;sort?this.set("sort",sort):this.refresh();},setStore:function(store,query,_108f){_1086.deprecated("setStore(...)","use set(\"store\", ...) instead","dgrid 0.4");this.set("store",store,query,_108f);},setQuery:function(query,_1090){_1086.deprecated("setQuery(...)","use set(\"query\", ...) instead","dgrid 0.4");this.set("query",query,_1090);},_getQueryOptions:function(){var _1091=lang.delegate(this.queryOptions,{});if(typeof (this._sort)==="function"||this._sort.length){_1091.sort=this._sort;}return _1091;},_getQuery:function(){var q=this.query;return typeof q=="object"&&q!=null?lang.delegate(q,{}):q;},_setSort:function(_1092,_1093){if(this.store){this._lastCollection=null;}this.inherited(arguments);},_onNotify:function(_1094,_1095){this.inherited(arguments);if(_1094&&this._numObservers<1){this.refresh({keepScrollPosition:true});}},refresh:function(){var _1096=this.inherited(arguments);if(!this.store){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return _1096;},renderArray:function(){var self=this;var rows=this.inherited(arguments);if(!this.store){_1088.when(rows,function(_1097){if(_1097.length&&self.noDataNode){put(self.noDataNode,"!");}});}return rows;},insertRow:function(_1098,_1099,_109a,i,_109b){var store=this.store,dirty=this.dirty,id=store&&store.getIdentity(_1098),_109c;if(id in dirty&&!(id in this._updating)){_109c=dirty[id];}if(_109c){_1098=lang.delegate(_1098,_109c);}return this.inherited(arguments);},updateDirty:function(id,field,value){var dirty=this.dirty,_109d=dirty[id];if(!_109d){_109d=dirty[id]={};}_109d[field]=value;},setDirty:function(id,field,value){_1086.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(id,field,value);},save:function(){var self=this,store=this.store,dirty=this.dirty,dfd=new _1088(),_109e=dfd.promise,_109f=function(id){var data;return (self.getBeforePut||!(data=self.row(id).data))?function(){return store.get(id);}:function(){return data;};};function _10a0(id,_10a1){return function(_10a2){var _10a3=self._columnsWithSet,_10a4=self._updating,key,data;if(typeof _10a2.set==="function"){_10a2.set(_10a1);}else{for(key in _10a1){_10a2[key]=_10a1[key];}}for(key in _10a3){data=_10a3[key].set(_10a2);if(data!==undefined){_10a2[key]=data;}}_10a4[id]=true;return _1088.when(store.put(_10a2),function(){delete dirty[id];delete _10a4[id];});};};for(var id in dirty){var put=_10a0(id,dirty[id]);_109e=_109e.then(_109f(id)).then(put);}dfd.resolve();return _109e;},revert:function(){this.dirty={};this.refresh();},_trackError:function(func){var _10a5;if(typeof func=="string"){func=lang.hitch(this,func);}try{_10a5=func();}catch(err){_108b.call(this,err);}return _1088.when(_10a5,noop,lang.hitch(this,_108b));},newRow:function(){var row=this.inherited(arguments);if(this.noDataNode){put(this.noDataNode,"!");delete this.noDataNode;}return row;},removeRow:function(_10a6,_10a7){var row={element:_10a6};if(!_10a7&&this.noDataMessage&&(this.up(row).element===_10a6)&&(this.down(row).element===_10a6)){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return this.inherited(arguments);}});});},"dgrid/Selection":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query","dojo/_base/sniff"],function(_10a8,_10a9,_10aa,on,has,_10ab,List,_10ac,put){has.add("dom-comparedocumentposition",function(_10ad,doc,_10ae){return !!_10ae.compareDocumentPosition;});has.add("pointer",function(_10af){return "PointerEvent" in _10af?"pointer":"MSPointerEvent" in _10af?"MSPointer":false;});has.add("css-user-select",function(_10b0,doc,_10b1){var style=_10b1.style,_10b2=["Khtml","O","ms","Moz","Webkit"],i=_10b2.length,name="userSelect";do{if(typeof style[name]!=="undefined"){return name;}}while(i--&&(name=_10b2[i]+"UserSelect"));return false;});has.add("dom-selectstart",typeof document.onselectstart!=="undefined");var _10b3=has("mac")?"metaKey":"ctrlKey",_10b4=has("css-user-select"),_10b5=has("pointer"),_10b6=_10b5&&_10b5.slice(0,2)==="MS",_10b7=_10b5?_10b5+(_10b6?"Down":"down"):"mousedown",_10b8=_10b5?_10b5+(_10b6?"Up":"up"):"mouseup";function _10b9(node,_10ba){var value=node.unselectable=_10ba?"on":"",_10bb=node.getElementsByTagName("*"),i=_10bb.length;while(--i){if(_10bb[i].tagName==="INPUT"||_10bb[i].tagName==="TEXTAREA"){continue;}_10bb[i].unselectable=value;}};function _10bc(grid,_10bd){var node=grid.bodyNode,value=_10bd?"text":has("ff")<21?"-moz-none":"none";if(_10b4&&_10b4!=="msUserSelect"){node.style[_10b4]=value;}else{if(has("dom-selectstart")){if(!_10bd&&!grid._selectstartHandle){grid._selectstartHandle=on(node,"selectstart",function(evt){var tag=evt.target&&evt.target.tagName;if(tag!=="INPUT"&&tag!=="TEXTAREA"){evt.preventDefault();}});}else{if(_10bd&&grid._selectstartHandle){grid._selectstartHandle.remove();delete grid._selectstartHandle;}}}else{_10b9(node,!_10bd);if(!_10bd&&!grid._unselectableHandle){grid._unselectableHandle=_10ab.after(grid,"renderRow",function(row){_10b9(row,true);return row;});}else{if(_10bd&&grid._unselectableHandle){grid._unselectableHandle.remove();delete grid._unselectableHandle;}}}}};return _10a9(null,{selectionDelegate:".dgrid-row",selectionEvents:_10b7+","+_10b8+",dgrid-cellfocusin",selectionTouchEvents:has("touch")?_10ac.tap:null,deselectOnRefresh:true,allowSelectAll:false,selection:{},selectionMode:"extended",allowTextSelection:undefined,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var _10be=this.selectionMode;this.selectionMode="";this._setSelectionMode(_10be);},destroy:function(){this.inherited(arguments);if(this._selectstartHandle){this._selectstartHandle.remove();}if(this._unselectableHandle){this._unselectableHandle.remove();}if(this._removeDeselectSignals){this._removeDeselectSignals();}},_setSelectionMode:function(mode){if(mode==this.selectionMode){return;}this.clearSelection();this.selectionMode=mode;this._selectionHandlerName="_"+mode+"SelectionHandler";this._setAllowTextSelection(this.allowTextSelection);},setSelectionMode:function(mode){_10a8.deprecated("setSelectionMode(...)","use set(\"selectionMode\", ...) instead","dgrid 0.4");this.set("selectionMode",mode);},_setAllowTextSelection:function(allow){if(typeof allow!=="undefined"){_10bc(this,allow);}else{_10bc(this,this.selectionMode==="none");}this.allowTextSelection=allow;},_handleSelect:function(event,_10bf){if(!this[this._selectionHandlerName]||!this.allowSelect(this.row(_10bf))||(event.type==="dgrid-cellfocusin"&&event.parentType==="mousedown")||(event.type===_10b8&&_10bf!=this._waitForMouseUp)){return;}this._waitForMouseUp=null;this._selectionTriggerEvent=event;if(!event.keyCode||!event.ctrlKey||event.keyCode==32){if(!event.shiftKey&&event.type===_10b7&&this.isSelected(_10bf)){this._waitForMouseUp=_10bf;}else{this[this._selectionHandlerName](event,_10bf);}}this._selectionTriggerEvent=null;},_singleSelectionHandler:function(event,_10c0){var _10c1=event.keyCode?event.ctrlKey:event[_10b3];if(this._lastSelected===_10c0){this.select(_10c0,null,!_10c1||!this.isSelected(_10c0));}else{this.clearSelection();this.select(_10c0);this._lastSelected=_10c0;}},_multipleSelectionHandler:function(event,_10c2){var _10c3=this._lastSelected,_10c4=event.keyCode?event.ctrlKey:event[_10b3],value;if(!event.shiftKey){value=_10c4?null:true;_10c3=null;}this.select(_10c2,_10c3,value);if(!_10c3){this._lastSelected=_10c2;}},_extendedSelectionHandler:function(event,_10c5){if(event.button===2?!this.isSelected(_10c5):!(event.keyCode?event.ctrlKey:event[_10b3])){this.clearSelection(null,true);}this._multipleSelectionHandler(event,_10c5);},_toggleSelectionHandler:function(event,_10c6){this.select(_10c6,null,null);},_initSelectionEvents:function(){var grid=this,_10c7=this.contentNode,_10c8=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};if(has("touch")&&!has("pointer")&&this.selectionTouchEvents){on(_10c7,_10ac.selector(_10c8,this.selectionTouchEvents),function(evt){grid._handleSelect(evt,this);grid._ignoreMouseSelect=this;});on(_10c7,on.selector(_10c8,this.selectionEvents),function(event){if(grid._ignoreMouseSelect!==this){grid._handleSelect(event,this);}else{if(event.type===_10b8){grid._ignoreMouseSelect=null;}}});}else{on(_10c7,on.selector(_10c8,this.selectionEvents),function(event){grid._handleSelect(event,this);});}if(this.addKeyHandler){this.addKeyHandler(32,function(event){grid._handleSelect(event,event.target);});}if(this.allowSelectAll){this.on("keydown",function(event){if(event[_10b3]&&event.keyCode==65&&!/\bdgrid-input\b/.test(event.target.className)){event.preventDefault();grid[grid.allSelected?"clearSelection":"selectAll"]();}});}if(this._setStore){_10ab.after(this,"_setStore",function(){grid._updateDeselectionAspect();});}this._updateDeselectionAspect();},_updateDeselectionAspect:function(){var self=this,store=this.store,_10c9,_10ca;function _10cb(_10cc,_10cd,_10ce){var id=_10cd||(_10cc&&_10cc[self.idProperty||"id"]);if(id!=null){var row=self.row(id),_10cf=row&&self.selection[row.id];if(_10cf){self[_10ce](row,null,_10cf);}}};if(this._removeDeselectSignals){this._removeDeselectSignals();}if(store&&store.notify){_10c9=_10ab.before(store,"notify",function(_10d0,_10d1){if(!_10d0){_10cb(_10d0,_10d1,"deselect");}});_10ca=_10ab.after(store,"notify",function(_10d2,_10d3){_10cb(_10d2,_10d3,"select");},true);this._removeDeselectSignals=function(){_10c9.remove();_10ca.remove();};}else{_10c9=_10ab.before(this,"removeRow",function(_10d4,_10d5){var row;if(!_10d5){row=this.row(_10d4);if(row&&(row.id in this.selection)){this.deselect(row);}}});this._removeDeselectSignals=function(){_10c9.remove();};}},allowSelect:function(row){return true;},_fireSelectionEvent:function(type){var queue=this._selectionEventQueues[type],_10d6=this._selectionTriggerEvent,_10d7;_10d7={bubbles:true,grid:this};if(_10d6){_10d7.parentType=_10d6.type;}_10d7[this._selectionTargetType]=queue;on.emit(this.contentNode,"dgrid-"+type,_10d7);this._selectionEventQueues[type]=[];},_fireSelectionEvents:function(){var _10d8=this._selectionEventQueues,type;for(type in _10d8){if(_10d8[type].length){this._fireSelectionEvent(type);}}},_select:function(row,toRow,value){var _10d9,_10da,_10db,_10dc,_10dd;if(typeof value==="undefined"){value=true;}if(!row.element){row=this.row(row);}if(value===false||this.allowSelect(row)){_10d9=this.selection;_10da=!!_10d9[row.id];if(value===null){value=!_10da;}_10db=row.element;if(!value&&!this.allSelected){delete this.selection[row.id];}else{_10d9[row.id]=value;}if(_10db){if(value){put(_10db,".dgrid-selected"+(this.addUiClasses?".ui-state-active":""));}else{put(_10db,"!dgrid-selected!ui-state-active");}}if(value!==_10da&&_10db){this._selectionEventQueues[(value?"":"de")+"select"].push(row);}if(toRow){if(!toRow.element){toRow=this.row(toRow);}if(!toRow){this._lastSelected=_10db;console.warn("The selection range has been reset because the "+"beginning of the selection is no longer in the DOM. "+"If you are using OnDemandList, you may wish to increase "+"farOffRemoval to avoid this, but note that keeping more nodes "+"in the DOM may impact performance.");return;}_10dc=toRow.element;if(_10dc){_10dd=this._determineSelectionDirection(_10db,_10dc);if(!_10dd){_10dc=document.getElementById(_10dc.id);_10dd=this._determineSelectionDirection(_10db,_10dc);}while(row.element!=_10dc&&(row=this[_10dd](row))){this._select(row,null,value);}}}}},_determineSelectionDirection:has("dom-comparedocumentposition")?function(from,to){var _10de=to.compareDocumentPosition(from);if(_10de&1){return false;}return _10de===2?"down":"up";}:function(from,to){if(to.sourceIndex<1){return false;}return to.sourceIndex>from.sourceIndex?"down":"up";},select:function(row,toRow,value){this._select(row,toRow,value);this._fireSelectionEvents();},deselect:function(row,toRow){this.select(row,toRow,false);},clearSelection:function(_10df,_10e0){this.allSelected=false;for(var id in this.selection){if(_10df!==id){this._select(id,null,false);}}if(!_10e0){this._lastSelected=null;}this._fireSelectionEvents();},selectAll:function(){this.allSelected=true;this.selection={};for(var i in this._rowIdToObject){var row=this.row(this._rowIdToObject[i]);this._select(row.id,null,true);}this._fireSelectionEvents();},isSelected:function(_10e1){if(typeof _10e1==="undefined"||_10e1===null){return false;}if(!_10e1.element){_10e1=this.row(_10e1);}return (_10e1.id in this.selection)?!!this.selection[_10e1.id]:this.allSelected&&(!_10e1.data||this.allowSelect(_10e1));},refresh:function(){if(this.deselectOnRefresh){this.clearSelection();}this._lastSelected=null;return this.inherited(arguments);},renderArray:function(){var grid=this,rows=this.inherited(arguments);_10aa.when(rows,function(rows){var _10e2=grid.selection,i,row,_10e3;for(i=0;i<rows.length;i++){row=grid.row(rows[i]);_10e3=row.id in _10e2?_10e2[row.id]:grid.allSelected;if(_10e3){grid._select(row,null,_10e3);}}grid._fireSelectionEvents();});return rows;}});});},"dgrid/Keyboard":function(){define(["dojo/_base/declare","dojo/aspect","dojo/on","dojo/_base/lang","dojo/has","put-selector/put","./util/misc","dojo/_base/Deferred","dojo/_base/sniff"],function(_10e4,_10e5,on,lang,has,put,_10e6,_10e7){var _10e8={checkbox:1,radio:1,button:1},_10e9=/\bdgrid-cell\b/,_10ea=/\bdgrid-row\b/;var _10eb=_10e4(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);if(!this.keyMap){this.keyMap=lang.mixin({},_10eb.defaultKeyMap);}if(!this.headerKeyMap){this.headerKeyMap=lang.mixin({},_10eb.defaultHeaderKeyMap);}},postCreate:function(){this.inherited(arguments);var grid=this;function _10ec(event){var _10ed=event.target;return _10ed.type&&(!_10e8[_10ed.type]||event.keyCode==32);};function _10ee(_10ef){var _10f0=grid.cellNavigation,_10f1=_10f0?_10e9:_10ea,_10f2=_10ef===grid.headerNode,_10f3=_10ef;function _10f4(){if(grid._focusedHeaderNode){grid._focusedHeaderNode.tabIndex=-1;}if(grid.showHeader){if(_10f0){for(var i=0,_10f5,_10f6=grid.headerNode.getElementsByTagName("th");(_10f5=_10f6[i]);++i){if(_10f1.test(_10f5.className)){grid._focusedHeaderNode=_10f3=_10f5;break;}}}else{grid._focusedHeaderNode=_10f3=grid.headerNode;}if(_10f3){_10f3.tabIndex=grid.tabIndex;}}};if(_10f2){_10f4();_10e5.after(grid,"renderHeader",_10f4,true);}else{_10e5.after(grid,"renderArray",function(ret){return _10e7.when(ret,function(ret){var _10f7=grid._focusedNode||_10f3;if(_10f1.test(_10f7.className)&&_10e6.contains(_10ef,_10f7)){return ret;}for(var i=0,_10f8=_10ef.getElementsByTagName("*"),_10f9;(_10f9=_10f8[i]);++i){if(_10f1.test(_10f9.className)){_10f7=grid._focusedNode=_10f9;break;}}_10f7.tabIndex=grid.tabIndex;return ret;});});}grid._listeners.push(on(_10ef,"mousedown",function(event){if(!_10ec(event)){grid._focusOnNode(event.target,_10f2,event);}}));grid._listeners.push(on(_10ef,"keydown",function(event){if(event.metaKey||event.altKey){return;}var _10fa=grid[_10f2?"headerKeyMap":"keyMap"][event.keyCode];if(_10fa&&!_10ec(event)){_10fa.call(grid,event);}}));};if(this.tabableHeader){_10ee(this.headerNode);on(this.headerNode,"dgrid-cellfocusin",function(){grid.scrollTo({x:this.scrollLeft});});}_10ee(this.contentNode);},removeRow:function(_10fb){if(!this._focusedNode){return this.inherited(arguments);}var self=this,_10fc=document.activeElement===this._focusedNode,_10fd=this[this.cellNavigation?"cell":"row"](this._focusedNode),_10fe=_10fd.row||_10fd,_10ff;_10fb=_10fb.element||_10fb;if(_10fb===_10fe.element){_10ff=this.down(_10fe,true);if(!_10ff||_10ff.element===_10fb){_10ff=this.up(_10fe,true);}this._removedFocus={active:_10fc,rowId:_10fe.id,columnId:_10fd.column&&_10fd.column.id,siblingId:!_10ff||_10ff.element===_10fb?undefined:_10ff.id};setTimeout(function(){if(self._removedFocus){self._restoreFocus(_10fe.id);}},0);this._focusedNode=null;}this.inherited(arguments);},insertRow:function(_1100){var _1101=this.inherited(arguments);if(this._removedFocus&&!this._removedFocus.wait){this._restoreFocus(_1101);}return _1101;},_restoreFocus:function(row){var _1102=this._removedFocus,_1103,cell;row=row&&this.row(row);_1103=row&&row.element&&row.id===_1102.rowId?row:typeof _1102.siblingId!=="undefined"&&this.row(_1102.siblingId);if(_1103&&_1103.element){if(!_1103.element.parentNode.parentNode){_1102.wait=true;return;}if(typeof _1102.columnId!=="undefined"){cell=this.cell(_1103,_1102.columnId);if(cell&&cell.element){_1103=cell;}}if(_1102.active&&_1103.element.offsetHeight!==0){this._focusOnNode(_1103,false,null);}else{put(_1103.element,".dgrid-focus");_1103.element.tabIndex=this.tabIndex;this._focusedNode=_1103.element;}}delete this._removedFocus;},addKeyHandler:function(key,_1104,_1105){return _10e5.after(this[_1105?"headerKeyMap":"keyMap"],key,_1104,true);},_focusOnNode:function(_1106,_1107,event){var _1108="_focused"+(_1107?"Header":"")+"Node",_1109=this[_1108],_110a=this.cellNavigation?"cell":"row",cell=this[_110a](_1106),_110b,input,_110c,_110d,i;_1106=cell&&cell.element;if(!_1106){return;}if(this.cellNavigation){_110b=_1106.getElementsByTagName("input");for(i=0,_110c=_110b.length;i<_110c;i++){input=_110b[i];if((input.tabIndex!=-1||"_dgridLastValue" in input)&&!input.disabled){if(has("ie")<8){input.style.position="relative";}input.focus();if(has("ie")<8){input.style.position="";}_110d=true;break;}}}if(event!==null){event=lang.mixin({grid:this},event);if(event.type){event.parentType=event.type;}if(!event.bubbles){event.bubbles=true;}}if(_1109){put(_1109,"!dgrid-focus[!tabIndex]");if(has("ie")<8){_1109.style.position="";}if(event){event[_110a]=this[_110a](_1109);on.emit(_1109,"dgrid-cellfocusout",event);}}_1109=this[_1108]=_1106;if(event){event[_110a]=cell;}var _110e=this.cellNavigation?_10e9:_10ea;if(!_110d&&_110e.test(_1106.className)){if(has("ie")<8){_1106.style.position="relative";}_1106.tabIndex=this.tabIndex;_1106.focus();}put(_1106,".dgrid-focus");if(event){on.emit(_1109,"dgrid-cellfocusin",event);}},focusHeader:function(_110f){this._focusOnNode(_110f||this._focusedHeaderNode,true);},focus:function(_1110){var node=_1110||this._focusedNode;if(node){this._focusOnNode(node,false);}else{this.contentNode.focus();}}});var _1111=_10eb.moveFocusVertical=function(event,steps){var _1112=this.cellNavigation,_1113=this[_1112?"cell":"row"](event),_1114=_1112&&_1113.column.id,next=this.down(this._focusedNode,steps,true);if(_1112){next=this.cell(next,_1114);}this._focusOnNode(next,false,event);event.preventDefault();};var _1115=_10eb.moveFocusUp=function(event){_1111.call(this,event,-1);};var _1116=_10eb.moveFocusDown=function(event){_1111.call(this,event,1);};var _1117=_10eb.moveFocusPageUp=function(event){_1111.call(this,event,-this.pageSkip);};var _1118=_10eb.moveFocusPageDown=function(event){_1111.call(this,event,this.pageSkip);};var _1119=_10eb.moveFocusHorizontal=function(event,steps){if(!this.cellNavigation){return;}var _111a=!this.row(event),_111b=this["_focused"+(_111a?"Header":"")+"Node"];this._focusOnNode(this.right(_111b,steps),_111a,event);event.preventDefault();};var _111c=_10eb.moveFocusLeft=function(event){_1119.call(this,event,-1);};var _111d=_10eb.moveFocusRight=function(event){_1119.call(this,event,1);};var _111e=_10eb.moveHeaderFocusEnd=function(event,_111f){var nodes;if(this.cellNavigation){nodes=this.headerNode.getElementsByTagName("th");this._focusOnNode(nodes[_111f?0:nodes.length-1],true,event);}event.preventDefault();};var _1120=_10eb.moveHeaderFocusHome=function(event){_111e.call(this,event,true);};var _1121=_10eb.moveFocusEnd=function(event,_1122){var self=this,_1123=this.cellNavigation,_1124=this.contentNode,_1125=_1122?0:_1124.scrollHeight,_1126=_1124.scrollTop+_1125,_1127=_1124[_1122?"firstChild":"lastChild"],_1128=_1127.className.indexOf("dgrid-preload")>-1,_1129=_1128?_1127[(_1122?"next":"previous")+"Sibling"]:_1127,_112a=_1129.offsetTop+(_1122?0:_1129.offsetHeight),_112b;if(_1128){while(_1129&&_1129.className.indexOf("dgrid-row")<0){_1129=_1129[(_1122?"next":"previous")+"Sibling"];}if(!_1129){return;}}if(!_1128||_1127.offsetHeight<1){if(_1123){_1129=this.cell(_1129,this.cell(event).column.id);}this._focusOnNode(_1129,false,event);}else{if(!has("dom-addeventlistener")){event=lang.mixin({},event);}_112b=_10e5.after(this,"renderArray",function(rows){_112b.remove();return _10e7.when(rows,function(rows){var _112c=rows[_1122?0:rows.length-1];if(_1123){_112c=self.cell(_112c,self.cell(event).column.id);}self._focusOnNode(_112c,false,event);});});}if(_1126===_112a){event.preventDefault();}};var _112d=_10eb.moveFocusHome=function(event){_1121.call(this,event,true);};function _112e(event){event.preventDefault();};_10eb.defaultKeyMap={32:_112e,33:_1117,34:_1118,35:_1121,36:_112d,37:_111c,38:_1115,39:_111d,40:_1116};_10eb.defaultHeaderKeyMap={32:_112e,35:_111e,36:_1120,37:_111c,39:_111d};return _10eb;});},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(_112f,_1130,_1131){return _112f(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:true,buildRendering:function(){_1131.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id);},startup:function(){if(this._started){return;}this.inherited(arguments);var _1132=_1131.getEnclosingWidget(this.domNode.parentNode);if(_1132&&_1132.isLayoutContainer){this._resizeHandle.remove();}},destroyRecursive:function(){this.destroy();},destroy:function(){this.inherited(arguments);_1131.remove(this.id);},getChildren:function(){return [];},isLeftToRight:function(){return !this.isRTL;},resize:function(_1133){if(_1133){_1130.setMarginBox(this.domNode,_1133);}this.inherited(arguments);},_set:function(prop,value){this[prop]=value;},watch:function(){},getParent:function(){return _1131.getEnclosingWidget(this.domNode.parentNode);}});});},"dijit/layout/BorderContainer":function(){define("dijit/layout/BorderContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./_LayoutWidget","./utils"],function(array,_1134,_1135,_1136,_1137,_1138,_1139,event,keys,lang,on,touch,_113a,_113b,_113c,_113d,_113e){var _113f=_1135("dijit.layout._Splitter",[_113b,_113c],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeypress:_onKeyPress,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_1136.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _1140=_1134(this._cookieName);if(_1140){this.child.domNode.style[this.horizontal?"height":"width"]=_1140;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_1141=_1138.getMarginBox(this.child.domNode)[dim],_1142=array.filter(this.container.getChildren(),function(child){return child.region=="center";})[0],_1143=_1138.getMarginBox(_1142.domNode)[dim];return Math.min(this.child.maxSize,_1141+_1143);},_startDrag:function(e){if(!this.cover){this.cover=_1137.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_1136.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_1137.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_1136.add(this.domNode,"dijitSplitterShadow");_1137.place(this.fake,this.domNode,"after");}_1136.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_1136.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _1144=this._factor,_1145=this.horizontal,axis=_1145?"pageY":"pageX",_1146=e[axis],_1147=this.domNode.style,dim=_1145?"h":"w",_1148=_1138.getMarginBox(this.child.domNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_1149=this.region,_114a=_1149=="top"||_1149=="bottom"?"top":"left",_114b=parseInt(_1147[_114a],10),_114c=this._resize,_114d=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,touch.move,this._drag=function(e,_114e){var delta=e[axis]-_1146,_114f=_1144*delta+_1148,_1150=Math.max(Math.min(_114f,max),min);if(_114c||_114e){_114d(_1150);}_1147[_114a]=delta+_114b+_1144*(_1150-_114f)+"px";}),on(de,"dragstart",event.stop),on(this.ownerDocumentBody,"selectstart",event.stop),on(de,touch.release,lang.hitch(this,"_stopDrag"))]);event.stop(e);},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_1136.toggle(this.domNode,"dijitSplitterHover",o);_1136.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_1136.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_1137.destroy(this.fake);}_1136.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_1134(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyPress:function(e){this._resize=true;var _1151=this.horizontal;var tick=1;switch(e.charOrCode){case _1151?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _1151?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _1152=_1138.getMarginSize(this.child.domNode)[_1151?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_1152,this._computeMaxSize()),this.child.minSize));event.stop(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _1153=_1135("dijit.layout._Gutter",[_113b,_113c],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_1136.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _1154=_1135("dijit.layout.BorderContainer",_113d,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_113f,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},startup:function(){if(this._started){return;}array.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(child){var _1155=child.region;if(_1155){this.inherited(arguments);_1136.add(child.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_1155=="leading"){_1155=ltr?"left":"right";}if(_1155=="trailing"){_1155=ltr?"right":"left";}if(_1155!="center"&&(child.splitter||this.gutters)&&!child._splitterWidget){var _1156=child.splitter?this._splitterClass:_1153;if(lang.isString(_1156)){_1156=lang.getObject(_1156);}var _1157=new _1156({id:child.id+"_splitter",container:this,child:child,region:_1155,live:this.liveSplitters});_1157.isSplitter=true;child._splitterWidget=_1157;_1137.place(_1157.domNode,child.domNode,"after");_1157.startup();}child.region=_1155;}},layout:function(){this._layoutChildren();},addChild:function(child,_1158){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(child){var _1159=child.region;var _115a=child._splitterWidget;if(_115a){_115a.destroy();delete child._splitterWidget;}this.inherited(arguments);if(this._started){this._layoutChildren();}_1136.remove(child.domNode,this.baseClass+"Pane");_1139.set(child.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_1139.set(child.domNode,_1159=="top"||_1159=="bottom"?"width":"height","auto");},getChildren:function(){return array.filter(this.inherited(arguments),function(_115b){return !_115b.isSplitter;});},getSplitter:function(_115c){return array.filter(this.getChildren(),function(child){return child.region==_115c;})[0]._splitterWidget;},resize:function(_115d,_115e){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_1139.getComputedStyle(node);this.pe=_1138.getPadExtents(node,this.cs);this.pe.r=_1139.toPixelValue(node,this.cs.paddingRight);this.pe.b=_1139.toPixelValue(node,this.cs.paddingBottom);_1139.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_115f,_1160){if(!this._borderBox||!this._borderBox.h){return;}var _1161=array.map(this.getChildren(),function(child,idx){return {pane:child,weight:[child.region=="center"?Infinity:0,child.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(child.region)?1:-1),idx]};},this);_1161.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});var _1162=[];array.forEach(_1161,function(_1163){var pane=_1163.pane;_1162.push(pane);if(pane._splitterWidget){_1162.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_113e.layoutChildren(this.domNode,dim,_1162,_115f,_1160);},destroyRecursive:function(){array.forEach(this.getChildren(),function(child){var _1164=child._splitterWidget;if(_1164){_1164.destroy();}delete child._splitterWidget;});this.inherited(arguments);}});_1154.ChildWidgetProperties={region:"",layoutPriority:0,splitter:false,minSize:0,maxSize:Infinity};lang.extend(_113a,_1154.ChildWidgetProperties);_1154._Splitter=_113f;_1154._Gutter=_1153;return _1154;});},"epi/shell/widget/layout/_ComponentWrapper":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/string","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/Evented","dijit/_base/wai","dijit/_CssStateMixin","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/layout/BorderContainer","epi","epi/shell/command/_CommandProviderMixin","epi/shell/widget/command/GadgetAction","epi/shell/widget/command/RemoveGadget","epi/shell/widget/ComponentChrome","epi/shell/widget/dialog/Confirmation","epi/shell/widget/layout/_ComponentResizeMixin","epi/shell/widget/layout/_ComponentSplitter","dojo/text!./templates/_ComponentWrapperHeader.htm","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.gadgetchrome","dijit/form/Button","dijit/form/ToggleButton"],function(_1165,array,_1166,lang,_1167,_1168,_1169,_116a,_116b,wai,_116c,_116d,_116e,_116f,_1170,epi,_1171,_1172,_1173,_1174,_1175,_1176,_1177,_1178,res){var _1179=_1165([_116f,_116d,_116e,_116c,_116b],{templateString:_1178,title:"",res:res,open:true,toggleable:true,closable:false,"class":"epi-gadgetHeader",toggle:function(){},onClose:function(){},postCreate:function(){this.inherited(arguments);if(this.toggleable){this._trackMouseState(this.titleBarNode,"epi-gadgetTitle");}},startup:function(){this.inherited(arguments);this.toggleButton.set("checked",!this.open);},_setClosableAttr:function(_117a){_1167.set(this.closeButton.domNode,"display",_117a?"":"none");_1169.toggle(this.titleBarNode,"epi-gadget-unlocked",_117a);},_setTitleAttr:function(title){this._set("title",title||"");this.toggleButton.set("label",this.title);},_setToggleableAttr:function(_117b){this.toggleable=_117b;wai.setWaiRole(this.focusNode,_117b?"button":"heading");if(_117b){wai.setWaiState(this.focusNode,"controls",this.id+"_pane");_1168.set(this.focusNode,"tabIndex",this.tabIndex);}else{_1168.remove(this.focusNode,"tabIndex");}this.toggleButton.set("disabled",!this.toggleable);this.toggleButton.set("iconClass",this.toggleable?"epi-gadget-toggle":"");}});return _1165([_1170,_1176,_116c,_1171,_116b],{dndType:"epi.shell.layout._ComponentWrapper",heading:"",toggleable:true,tabIndex:"0",baseClass:"epi-gadget","class":"epi-gadgetContainer",closable:false,dragRestriction:false,confirmationBeforeRemoval:true,res:res,gutters:false,postCreate:function(){this.inherited(arguments);this._header=new _1179({region:"top",splitter:false,title:this.heading||"",closable:this.closable,toggle:lang.hitch(this,this.toggle),onClose:lang.hitch(this,this.onClose)});this.addChild(this._header);},_setIsRemovableAttr:function(_117c){_117c=_117c!==false;this._set("isRemovable",_117c);this.set("closable",!!(_117c&&this.closable));},_setClosableAttr:function(_117d){this._set("closable",_117d);this._header&&this._header.set("closable",_117d);},_showRemovalConfirmationDialog:function(_117e){var _117f=this.heading?_1166.substitute(this.res.removecomponentquestion,{name:this.heading}):this.res.removecomponentquestionwithoutname;var _1180=new _1175({description:_117f,title:epi.resources.header.episerver,onAction:_117e});_1180.show();},onClose:function(evt){if(!this.confirmationBeforeRemoval){_1167.set(this.domNode,"display","none");this.onClosed();}else{this._showRemovalConfirmationDialog(lang.hitch(this,function(close){if(close){_1167.set(this.domNode,"display","none");this.onClosed();}}));return true;}},startup:function(){this._header.set("open",this.open);this.set("open",this.open);this.inherited(arguments);},resize:function(_1181){_1181=lang.mixin({},_1181);if(!_1181.h){if(!this.open){var _1182=_116a.getMarginExtents(this.domNode).h;_1181.h=_1182+this._getClosedHeight();}else{if(this.lastOpenHeight){_1181.h=this.lastOpenHeight;}}}this.inherited(arguments,[_1181]);},getSize:function(){var size=_116a.getMarginBox(this.domNode);if(!this.open){size.h=this._getClosedHeight();}return size;},_getClosedHeight:function(){var _1183=this._header?_116a.getMarginBox(this._header.domNode).h:0,_1184=this._splitter?_116a.getMarginBox(this._splitter.domNode).h:0;return _1183+_1184;},onClosed:function(){},_setHeadingAttr:function(text){this._set("heading",text);this._header&&this._header.set("title",text);},_setToggleableAttr:function(_1185){this._header&&this._header.set("toggleable",_1185);},toggle:function(){if(this._started){if(!open){this.lastOpenHeight=_116a.getMarginBox(this.domNode).h;}}this._started&&this.set("open",!this.get("open"));},_setOpenAttr:function(open){this.inherited(arguments);if(this._started){this.emit("toggle",this.open);}},addChild:function(child){if(child.isInstanceOf(_1177)||child.isInstanceOf(_1179)){return this.inherited(arguments);}this._addGadgetCommands(child);this.add("commands",new _1173({model:this}));var _1186=new _1174({region:"center",splitter:false});_1186.addProvider(this);_1186.addChild(child);this._child=_1186;this.inherited("addChild",[_1186]);if(this._started&&!child.started&&!child._started){child.startup();}},_addGadgetCommands:function(_1187){if(_1187&&lang.isArray(_1187.gadgetActions)){array.forEach(_1187.gadgetActions,function(_1188){this.add("commands",new _1172({actionName:_1188.actionName,label:_1188.text,model:_1187}));},this);}}});});},"dijit/_base/wai":function(){define("dijit/_base/wai",["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_1189,lang,dijit){var _118a={hasWaiRole:function(elem,role){var _118b=this.getWaiRole(elem);return role?(_118b.indexOf(role)>-1):(_118b.length>0);},getWaiRole:function(elem){return lang.trim((_1189.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_1189.set(elem,"role",role);},removeWaiRole:function(elem,role){var _118c=_1189.get(elem,"role");if(!_118c){return;}if(role){var t=lang.trim((" "+_118c+" ").replace(" "+role+" "," "));_1189.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,state){return elem.hasAttribute?elem.hasAttribute("aria-"+state):!!elem.getAttribute("aria-"+state);},getWaiState:function(elem,state){return elem.getAttribute("aria-"+state)||"";},setWaiState:function(elem,state,value){elem.setAttribute("aria-"+state,value);},removeWaiState:function(elem,state){elem.removeAttribute("aria-"+state);}};lang.mixin(dijit,_118a);return dijit;});},"epi/shell/command/_CommandProviderMixin":function(){define(["dojo/_base/array","dojo/_base/declare","epi/shell/StatefulArray"],function(array,_118d,_118e){return _118d([_118e],{commands:null,constructor:function(){this.commands=this.commands||[];},updateCommandModel:function(model){array.forEach(this.commands,function(_118f){_118f.set("model",model);});}});});},"epi/shell/widget/command/GadgetAction":function(){define(["dojo/_base/declare","epi/shell/command/_Command"],function(_1190,_1191){return _1190([_1191],{actionName:null,category:"setting",canExecute:true,_execute:function(){this.model.loadView({action:this.actionName});}});});},"epi/shell/command/_Command":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/Stateful"],function(_1192,_1193,_1194){return _1192([_1194],{label:null,tooltip:null,iconClass:null,category:null,order:null,model:null,canExecute:false,isAvailable:true,_callOnModelChange:false,postscript:function(){this.inherited(arguments);this.model&&this._onModelChange();this._callOnModelChange=true;},destroy:function(){},execute:function(){if(this.isAvailable&&this.canExecute){return this._execute();}},watchModelChange:function(){_1193.deprecated("epi/shell/command/_Command","watchModelChange will be removed since it was not meant for public use","11.0");this.set("_callOnModelChange",true);},unwatchModelChange:function(){_1193.deprecated("epi/shell/command/_Command","unwatchModelChange will be removed since it was not meant for public use","11.0");this.set("_callOnModelChange",false);},_execute:function(){},_onModelChange:function(){},_modelSetter:function(model){this.model=model;this._callOnModelChange&&this._onModelChange();}});});},"epi/shell/widget/command/RemoveGadget":function(){define(["dojo/_base/declare","dojo/_base/lang","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.gadgetchrome","epi/shell/command/_Command"],function(_1195,lang,_1196,_1197){return _1195([_1197],{label:_1196.deletemenuitemlabel,category:"setting",order:1000,canExecute:true,_execute:function(){this.model.onClose();}});});},"epi/shell/widget/ComponentChrome":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dijit/layout/BorderContainer","epi/shell/widget/_FocusableMixin","epi/shell/widget/command/CommandToolbar","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome","epi/shell/command/_CommandConsumerMixin","epi/shell/command/builder/ButtonBuilder","epi/shell/command/builder/DropDownButtonBuilder","epi/shell/command/builder/MenuAssembler"],function(_1198,lang,_1199,_119a,_119b,_119c,_119d,_119e,_119f,_11a0,_11a1){return _1198([_119a,_119e,_119b],{gutters:false,iconClass:"dijitNoIcon",postCreate:function(){this.inherited(arguments);this.toolbar=new _119c({"class":"epi-componentToolbar",region:"bottom",groups:["default","context","setting"]});this.inherited("addChild",[this.toolbar]);var _11a2={showLabel:false};var _11a3=lang.mixin({"class":"epi-componentToolbarButton epi-mediumButton"},_11a2);var _11a4=new _119f({settings:_11a3,optionClass:"epi-menu--inverted",optionItemClass:"epi-radioMenuItem"});var _11a5=new _11a0({itemSettings:_11a2,settings:lang.delegate(_11a3,{iconClass:"epi-iconContextMenu",title:_119d.contextmenutooltip})});var _11a6=new _11a0({itemSettings:_11a2,settings:lang.delegate(_11a3,{"class":"epi-componentSettingsButton epi-componentToolbarButton epi-mediumButton",iconClass:"epi-iconSettingsMenu",title:_119d.settingsmenutooltip})});var _11a7=[{builder:_11a4,target:this.toolbar},{category:"setting",builder:_11a6,target:this.toolbar},{category:"context",builder:_11a5,target:this.toolbar},{category:"popup",builder:_11a5,target:this.toolbar}];var _11a8=new _11a1({configuration:_11a7,commandSource:this});_11a8.build();},addChild:function(child){if(child){this.set("heading",child.get("heading"));}child.region="center";this.inherited(arguments);}});});},"epi/shell/widget/command/CommandToolbar":function(){define(["dojo/_base/declare","dijit/Toolbar"],function(_11a9,_11aa){return _11a9([_11aa],{_positions:null,groups:null,constructor:function(){this._positions=[];this.groups=[];},postMixInProperties:function(){this.inherited(arguments);for(var i=0;i<this.groups.length;i++){var _11ab={category:this.groups[i],position:0};this._positions.push(_11ab);}},addChild:function(_11ac,_11ad){if(!_11ad){var _11ae=_11ac._commandCategory||"default";_11ad=this._getCurrentPosition(_11ae);this.inherited("addChild",[_11ac,_11ad]);this._updatePositions(_11ae);}else{this.inherited(arguments);}},_getCurrentPosition:function(_11af){for(var i=0;i<this._positions.length;i++){if(this._positions[i].category===_11af){return this._positions[i].position;}}return 0;},_updatePositions:function(_11b0){var _11b1=0;for(var i=0;i<this._positions.length;i++){if(this._positions[i].category===_11b0){_11b1=1;}this._positions[i].position=this._positions[i].position+_11b1;}}});});},"epi/shell/command/_CommandConsumerMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(array,_11b2,lang){return _11b2(null,{providers:null,constructor:function(){this.providers=this.providers||[];},destroy:function(){this.inherited(arguments);array.forEach(this.providers,function(item){item.watch.unwatch();});},getConsumer:function(){return this;},addProvider:function(_11b3){var watch=_11b3.watch("commands",lang.hitch(this,this._commandsChanged));this.providers.push({provider:_11b3,watch:watch});this.onCommandsChanged("commands",null,_11b3.commands);return {removeProvider:lang.hitch(this,this.removeProvider,_11b3)};},removeProvider:function(_11b4){var _11b5=this.providers;for(var i=_11b5.length-1;i>=0;i--){if(_11b5[i].provider===_11b4){break;}}if(i>=0){var item=_11b5.splice(i,1)[0];item.watch.unwatch();item=null;this.onCommandsChanged("commands",_11b4.commands,null);}},getCommands:function(){var _11b6=[];array.forEach(this.providers,function(item){_11b6=_11b6.concat(item.provider.commands);});return _11b6;},onCommandsChanged:function(name,_11b7,added){},_commandsChanged:function(){this.onCommandsChanged.apply(this,arguments);}});});},"epi/shell/command/builder/ButtonBuilder":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Menu","dijit/form/Button","dijit/form/DropDownButton","dijit/form/ToggleButton","epi/shell/command/ToggleCommand","../_CommandModelBindingMixin","./_Builder","./OptionsBuilderMixin"],function(_11b8,lang,Menu,_11b9,_11ba,_11bb,_11bc,_11bd,_11be,_11bf){var _11c0=_11b8([_11ba,_11bd],{onClick:function(){}});var _11c1=_11b8([_11bb,_11bd]);return _11b8([_11be],{optionClass:"",optionItemClass:"",_buttonClass:_11b8([_11b9,_11bd]),_dropDownClass:_11c0,_optionsMenuClass:_11b8([Menu,_11bf],{baseClass:"epi-optionsMenu"}),_create:function(_11c2){var _11c3=_11c2.get("options") instanceof Array,_11c4=this._createOptions(_11c2);if(_11c3){return new this._dropDownClass(lang.mixin({"class":"epi-chromeless epi-mediumButton",dropDown:new this._optionsMenuClass({"class":this.optionClass,model:_11c2,optionItemClass:this.optionItemClass})},_11c4));}if(_11c2 instanceof _11bc){return new _11c1(_11c4);}return new this._buttonClass(_11c4);},_createOptions:function(_11c5){return lang.mixin({model:_11c5},this.settings);}});});},"epi/shell/command/ToggleCommand":function(){define(["dojo/_base/declare","epi/shell/DestroyableByKey","epi/shell/command/_Command"],function(_11c6,_11c7,_11c8){return _11c6([_11c8,_11c7],{property:null,active:false,_execute:function(){var name=this.property,value=!this.active;this.model.set(name,value);this.set("active",value);},_onModelChange:function(){var self=this;var model=this.model,_11c9=model&&model[this.property],_11ca=typeof _11c9=="boolean";this.set("canExecute",_11ca);this.set("active",_11ca&&_11c9);if(model){this.destroyByKey("modelPropertyWatcher");this.ownByKey("modelPropertyWatcher",model.watch(this.property,function(name,_11cb,value){self.set("active",!!value);}));}}});});},"epi/shell/command/_CommandModelBindingMixin":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/dom-class","../widget/_ModelBindingMixin"],function(_11cc,_11cd,_11ce,_11cf){return _11cc(_11cf,{modelBindingMap:{label:["label"],tooltip:["tooltip"],iconClass:["iconClass"],canExecute:["canExecute"],isExecuting:["isExecuting"],isAvailable:["isAvailable"],active:["checked","isExpand"]},_setCanExecuteAttr:function(_11d0){this.set("disabled",!_11d0);},_setIsAvailableAttr:function(_11d1){if(this.domNode){_11cd.set(this.domNode,"display",_11d1?"":"none");}},_setIsExecutingAttr:function(_11d2){this.isExecutingClass&&_11ce.toggle(this.domNode,this.isExecutingClass,_11d2);},onClick:function(){this.inherited(arguments);this.model&&this.model.execute.apply(this.model,arguments);}});});},"epi/shell/widget/_ModelBindingMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","epi/shell/DestroyableByKey"],function(array,_11d3,lang,_11d4){return _11d3([_11d4],{model:null,modelBindingMap:null,constructor:function(_11d5){},postMixInProperties:function(){this.inherited(arguments);if(!this.modelBindingMap){this.modelBindingMap={};}},_setModelAttr:function(value){this.destroyByKey(this.model);this._set("model",value);this._setupModelBindings();},_setupModelBindings:function(){if(!this.model){return;}var _11d6=lang.hitch(this,"_modelWatch");for(var _11d7 in this.modelBindingMap){var _11d8=this.modelBindingMap[_11d7];this.ownByKey(this.model,this.model.watch(_11d7,_11d6));array.forEach(_11d8,function(_11d9){this.set(_11d9,this.model.get(_11d7));},this);}},_modelWatch:function(_11da,_11db,value){var _11dc=this.modelBindingMap[_11da];array.forEach(_11dc,function(_11dd){this.set(_11dd,value);},this);}});});},"epi/shell/command/builder/_Builder":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dijit/registry"],function(array,_11de,lang,_11df){return _11de(null,{settings:null,postscript:function(mixin){if(mixin){lang.mixin(this,mixin);}},create:function(_11e0,_11e1){var _11e2=this._create(_11e0);_11e2._command=_11e0;_11e2._commandCategory=_11e0.category;this._addToContainer(_11e2,_11e1);},remove:function(_11e3,_11e4){var _11e5=_11e4.getChildren(),len=_11e5.length,i=0;for(;i<len;i++){var child=_11e5[i];if(child._command===_11e3){_11e4.removeChild(child);child.destroy();return true;}}return false;},_create:function(){},_addToContainer:function(_11e6,_11e7){var _11e8=null;if(_11e6._command){var order=this._getSortOrder(_11e6);this._getChildren(_11e7).some(function(child,index){var _11e9=this._getSortOrder(child);if(_11e9>order){_11e8=index;return true;}},this);}_11e6.placeAt(_11e7,_11e8);},_getSortOrder:function(_11ea){return (_11ea._command&&_11ea._command.order)?_11ea._command.order:0;},_getChildren:function(_11eb){if(typeof (_11eb.getChildren)==="function"){return _11eb.getChildren();}else{return _11df.findWidgets(_11eb);}}});});},"epi/shell/command/builder/OptionsBuilderMixin":function(){define(["epi","dojo/_base/declare","dojo/_base/lang","dojo/on","dojox/html/entities","dijit/CheckedMenuItem","../OptionGroup","epi/shell/widget/MenuHeaderSeparator","epi/shell/DestroyableByKey"],function(epi,_11ec,lang,on,_11ed,_11ee,_11ef,_11f0,_11f1){return _11ec([_11f1],{optionItemClass:"",constructor:function(_11f2){_11ec.safeMixin(this,_11f2);},startup:function(){this.inherited(arguments);this._addOptionMenuItems();},_addOptionMenuItems:function(){if(!this._started){return;}this.getChildren().forEach(function(child){this.removeChild(child);if(typeof child.destroy==="function"){child.destroy();}},this);this._createOptionMenuItems(this.model).forEach(this.addChild.bind(this));},_createOptionMenuItems:function(model){var items=[];var _11f3=model.get("options");if(!lang.isArray(_11f3)){return items;}if(model.optionsLabel){items.push(new _11f0({label:model.optionsLabel}));}_11f3.forEach(function(_11f4){if(_11f4 instanceof _11ef){items.push(new _11f0({label:_11f4.label}));items=items.concat(this._createOptionMenuItems(_11f4));}else{items.push(this._createMenuItem(_11f4,model));}},this);return items;},_setModelAttr:function(model){this._set("model",model);this.destroyByKey("optionsWatch");this.ownByKey("optionsWatch",model.watch("options",this._addOptionMenuItems.bind(this)));},_createMenuItem:function(_11f5,model){var _11f6=new _11ee({label:_11ed.encode(_11f5.label),checked:epi.areEqual(model.get("selected"),_11f5.value),"class":this.optionItemClass});_11f6.own(on(_11f6,"click",function(){model.set("selected",_11f5.value);}));_11f6.own(model.watch("selected",function(name,_11f7,_11f8){_11f6.set("checked",epi.areEqual(_11f8,_11f5.value));}));return _11f6;}});});},"epi/shell/command/OptionGroup":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Stateful","epi/shell/DestroyableByKey"],function(_11f9,lang,_11fa,_11fb){return _11f9([_11fa,_11fb],{label:"",options:null,model:null,selected:null,property:"",constructor:function(){this.options=[];},_selectedSetter:function(value){if(this.selected!==value){this.selected=value;this.model&&this.model.set(this.property,value);}},_modelSetter:function(model){this.destroyByKey("_model");this.model=model;if(model){this.set("selected",model.get(this.property));this.ownByKey("_model",model.watch(this.property,lang.hitch(this,function(name,_11fc,_11fd){this.set("selected",_11fd);})));}}});});},"epi/shell/widget/MenuHeaderSeparator":function(){define(["dojo/_base/declare","dijit/MenuSeparator","dojo/text!./templates/MenuHeaderSeparator.html"],function(_11fe,_11ff,_1200){return _11fe([_11ff],{templateString:_1200,_setLabelAttr:{node:"labelNode",type:"innerHTML"}});});},"url:epi/shell/widget/templates/MenuHeaderSeparator.html":"<tr class=\"dijitMenuSeparator epi-invertedTooltip\" role=\"separator\">\n    <td colspan=\"4\">\n        <div class=\"epi-tooltipDialogTop\">\n            <span data-dojo-attach-point=\"labelNode\"></span>\n            <div class=\"dijitTooltipConnector\"></div>\n        </div>\n    </td>\n</tr>\n","epi/shell/command/builder/DropDownButtonBuilder":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dijit/Menu","dijit/form/DropDownButton","epi/shell/command/builder/MenuBuilder","epi/shell/DestroyableByKey"],function(_1201,lang,_1202,Menu,_1203,_1204,_1205){return _1201([_1204,_1205],{hideEmptyButton:false,_button:null,remove:function(_1206,_1207){var _1208=this._button,_1209=_1208.dropDown?_1208.dropDown.getChildren():[];_1209.forEach(function(child){if(child._command===_1206){this.destroyByKey(_1206);_1208.removeChild(child);child.destroy();return true;}},this);return false;},_addToContainer:function(_120a,_120b){if(!this._button){this._button=new _1203(lang.mixin({dropDown:new Menu()},this.settings));this._button._commandCategory=_120a._commandCategory;}if(_120b.addChild){_120b.addChild(this._button);}else{this._button.placeAt(_120b);this._button.startup();}this.inherited(arguments,[_120a,this._button.dropDown]);this._toggleButton();this.ownByKey(_120a._command,_120a._command.watch("isAvailable",lang.hitch(this,this._toggleButton)));},_toggleButton:function(){var _120c=this._button.dropDown.getChildren(),len=_120c.length,i=0,_120d=true,child;for(i;i<len;i++){child=_120c[i];if(child._command.isAvailable){_120d=false;break;}}if(this.hideEmptyButton){_1202.toggle(this._button.domNode,"dijitHidden",_120d);}else{this._button.set("disabled",_120d);}}});});},"epi/shell/command/builder/MenuBuilder":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Menu","dijit/MenuItem","dijit/CheckedMenuItem","dijit/PopupMenuItem","epi/shell/command/builder/_Builder","epi/shell/command/builder/OptionsBuilderMixin","epi/shell/command/_CommandModelBindingMixin"],function(_120e,lang,Menu,_120f,_1210,_1211,_1212,_1213,_1214){return _120e([_1212],{_menuItemClass:_120e([_120f,_1214]),_checkedMenuItemClass:_120e([_1210,_1214]),_popupMenuItemClass:_120e([_1211,_1214]),_optionsMenuClass:_120e([Menu,_1213]),_create:function(_1215){var _1216=typeof _1215.active=="boolean",_1217=lang.isArray(_1215.options),_1218="popup" in _1215,cls=_1216?this._checkedMenuItemClass:((_1217||_1218)?this._popupMenuItemClass:this._menuItemClass),_1219=lang.mixin({model:_1215},this.itemSettings);var _121a=new cls(_1219);if(_1218){if(_1215.popupClass){_1215.set("popup",new _1215.popupClass({category:_1215.popupCategory}));}_121a.popup=_1215.popup;}if(_1217){_121a.popup=new this._optionsMenuClass({model:_1215});}return _121a;}});});},"epi/shell/command/builder/MenuAssembler":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/Stateful","epi/shell/_StatefulGetterSetterMixin"],function(array,_121b,_121c,lang,_121d,_121e){return _121c([_121d,_121e],{commandSource:null,configuration:null,_commandSourceConnect:null,destroy:function(){_121b.disconnect(this._commandSourceConnect);},build:function(){this.set("commandSource",this.commandSource);},_setCommandSourceAttr:function(value){if(this._commandSourceConnect&&this.commandSource){_121b.disconnect(this._commandSourceConnect);this._removeCommands(this.commandSource.getCommands());}this.commandSource=value;if(this.commandSource){this._addCommands(this.commandSource.getCommands());this._commandSourceConnect=_121b.connect(this.commandSource,"onCommandsChanged",this,this._commandsChanged);}},_commandsChanged:function(name,_121f,added){if(_121f){this._removeCommands(_121f);}if(added){this._addCommands(added);}},_getBuildInfo:function(_1220){var _1221,_1222=_1220.category;array.some(this.configuration,function(item){if(item.category==_1222){_1221=item;return true;}return false;});return _1221;},_addCommands:function(_1223){array.forEach(_1223,this._addCommand,this);},_addCommand:function(_1224){var _1225=this._getBuildInfo(_1224);if(_1225){_1225.builder.create(_1224,_1225.target);}},_removeCommands:function(_1226){array.forEach(_1226,function(_1227){var _1228=this._getBuildInfo(_1227);if(_1228){_1228.builder.remove(_1227,_1228.target);}},this);}});});},"epi/shell/_StatefulGetterSetterMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(_1229,lang){return _1229(null,{get:function(name){var names=this._getAttrNames(name);return this[names.g]?this[names.g]():this[name];},set:function(name,value){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var names=this._getAttrNames(name);var _122a=this[names.s];if(lang.isFunction(_122a)){_122a.apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,value);}return this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,value){var _122b=this[name];this[name]=value;if(this._watchCallbacks){this._watchCallbacks(name,_122b,value);}return this;}});});},"epi/shell/widget/layout/_ComponentResizeMixin":function(){define(["dojo/_base/declare","dojo/dom-style","epi/shell/widget/layout/_ComponentSplitter"],function(_122c,_122d,_122e){return _122c(null,{showSplitter:true,open:true,resizable:true,startup:function(){this.inherited(arguments);if(!this._splitter){var _122f={child:this,container:this.getParent(),id:this.id+"_splitter",region:"bottom"};if(this._splitterNode){this._splitter=new _122e(_122f,this._splitterNode);}else{this._splitter=new _122e(_122f);this.addChild(this._splitter);}}this._toggleSplitter(this.showSplitter);this._splitter.startup();this._splitter.set("disabled",!this.resizable);},destroy:function(){if(this._splitter){this._splitter.destroyRecursive();}this.inherited(arguments);},_setOpenAttr:function(value){this._set("open",value);_122d.set(this.domNode,"minHeight",this.get("minHeight")+"px");this.set("resizable",value);},_setResizableAttr:function(value){this._set("resizable",value);if(this._splitter){this._splitter.set("disabled",!value);}},_getMinHeightAttr:function(){if(this.open){return this.minHeight;}return this.getSize().h;},_setShowSplitterAttr:function(_1230){this._set("showSplitter",_1230);this._toggleSplitter(_1230);},_toggleSplitter:function(show){if(this._splitter){_122d.set(this._splitter.domNode,"display",show?"":"none");}},getSize:function(){},_setLastOpenHeightAttr:function(value){this._set("lastOpenHeight",value);if(value&&this.open){_122d.set(this.domNode,"height",value+"px");}},_getSettingsAttr:function(){return {open:this.open,lastOpenHeight:this.open?this.getSize().h:this.lastOpenHeight};}});});},"epi/shell/widget/layout/_ComponentSplitter":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/on","dojo/touch","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_CssStateMixin"],function(_1231,event,lang,win,_1232,_1233,keys,on,touch,_1234,_1235,_1236){return _1231([_1234,_1235,_1236],{baseClass:"epi-gadgetGutter",templateString:"<div data-dojo-attach-event=\"onkeypress:_onKeyPress,press:_startDrag\" role=\"separator\" tabindex=\"0\"></div>",disabled:false,constructor:function(){this._handlers=[];},_startDrag:function(e){if(this.disabled){return;}var _1237=this.domNode.style,_1238=e.pageY,node=this.child.domNode,_1239=_1233.getComputedStyle(node),_123a=_1232.getMarginExtents(node,_1239).h,_123b=_1232.getMarginBox(node,_1239).h,_123c=this.container._getMaxSizeChild?lang.hitch(this.container,"_getMaxSizeChild"):lang.hitch(this,function(){return this.child.maxHeight||Infinity;}),min=this.child.minHeight||0,_123d=parseInt(_1237.top,10),_123e=lang.hitch(this.container,"_layoutChildren",this.child),doc=win.doc;this._handlers=this._handlers.concat([on(doc,touch.move,this._drag=function(e,_123f){var delta=e.pageY-_1238,_1240=delta+_123b,_1241=Math.max(Math.min(_1240,_123c()),min+_123a);_123e(_1241,_123f);_1237.top=delta+_123d+_1241-_1240+"px";}),on(doc,"dragstart",event.stop),on(win.body(),"selectstart",event.stop),on(doc,touch.release,lang.hitch(this,"_stopDrag"))]);event.stop(e);},_stopDrag:function(e){try{this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}},_onKeyPress:function(e){var tick=1;switch(e.keyCode){case keys.UP_ARROW:tick=-1;break;case keys.DOWN_ARROW:break;default:return;}var _1242=_1232.getMarginSize(this.child.domNode).h+tick;this.container._layoutChildren(this.child,Math.max(Math.min(_1242,this.child.maxSize),this.child.minSize));event.stop(e);},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;this.inherited(arguments);}});});},"url:epi/shell/widget/layout/templates/_ComponentWrapperHeader.htm":"<div>\r\n    <div class=\"epi-gadgetTitle dojoxDragHandle\" data-dojo-attach-point=\"titleBarNode\">\r\n        <div data-dojo-attach-point=\"focusNode\" class=\"epi-gadgetTitleFocus\">\r\n            <button data-dojo-type=\"dijit/form/ToggleButton\" data-dojo-attach-point=\"toggleButton\"\r\n                data-dojo-attach-event=\"onClick:toggle\" data-dojo-props=\"title:'${res.togglebuttontooltip}', showLabel:true, iconClass:'epi-gadget-toggle', 'class':'epi-chromelessButton'\">\r\n                ${title}</button>\r\n        </div>\r\n        <div class=\"epi-gadgetButtonBar\">\r\n            <button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-point=\"closeButton\" data-dojo-attach-event=\"onClick:onClose\"\r\n                data-dojo-props=\"showLabel:false, title:'${res.closebuttontooltip}', iconClass:'epi-gadget-delete', 'class':'epi-chromelessButton'\">\r\n                ${res.closebuttontooltip}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/layout/ComponentTabContainer":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/topic","dojo/when","dojo/Evented","dojo/text!./templates/ComponentTabContainer.htm","dijit/layout/TabContainer","dijit/layout/utils","epi/dependency","epi/shell/widget/layout/_ComponentTabController","epi/shell/widget/layout/_ComponentResizeMixin","dijit/_WidgetsInTemplateMixin","dijit/form/ToggleButton","epi/shell/widget/ComponentChrome","epi/shell/widget/_FocusableMixin","epi/shell/command/_CommandProviderMixin","epi/shell/widget/command/RemoveGadget"],function(array,lang,_1243,_1244,_1245,_1246,_1247,_1248,topic,when,_1249,_124a,_124b,_124c,_124d,_124e,_124f,_1250,_1251,_1252,_1253,_1254,_1255){return _1243([_124b,_1250,_124f,_1253,_1249,_1254],{useMenu:true,doLayout:true,useSlider:false,toggleable:true,templateString:_124a,controllerWidget:_124e,_removeCommand:null,postMixInProperties:function(){this.inherited(arguments);this.profile=this.profile||_124d.resolve("epi.shell.Profile");this._removeCommand=new _1255({model:this});},startup:function(){if(this._started){return;}this.inherited(arguments);when(this.profile.get(this.componentId+"_selectedTab")).then(this._selectStoredTab.bind(this));if(this.maxHeight){_1244.set(this.containerNode,"maxHeight",this.maxHeight);}},_selectStoredTab:function(_1256){if(!_1256){return;}var _1257=this.getChildren();var _1258=_1257.some(function(child){return child.id===_1256;});if(_1258){this.selectChild(_1256,false,true);}},postCreate:function(){this.inherited(arguments);this.add("commands",this._removeCommand);this.tablist.on("toggle",lang.hitch(this,function(_1259){this._started&&this.set("open",_1259);}));},addChild:function(child,_125a){var _125b=new _1252({title:child.get("heading")||""});_125b.addChild(child);this.inherited(arguments,[_125b,_125a]);if(this._started&&!_125b._started){_125b.startup();}},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _125c=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_125c;var _125d=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_125c},{domNode:this.containerNode,layoutAlign:"client"}];if(this._splitter){_125d.push({domNode:this._splitter.domNode,layoutAlign:"bottom"});}_124c.layoutChildren(this.domNode,this._contentBox,_125d);this._containerContentBox=_124c.marginBox2contentBox(this.containerNode,_125d[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var width=_1248.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:width});}}},resize:function(_125e){_125e=lang.mixin({},_125e);if(!_125e.h){if(!this.open){_125e.h=this._getClosedHeight();}else{if(this.lastOpenHeight){_125e.h=this.lastOpenHeight;}}}this.inherited(arguments,[_125e]);},getSize:function(){var size=_1248.getMarginBox(this.domNode);if(!this.open){size.h=this._getClosedHeight();}return size;},_getClosedHeight:function(){var _125f=_1248.getMarginExtents(this.domNode).h,_1260=this.tablist?_1248.getMarginBox(this.tablist.domNode).h:0,_1261=this._splitter?_1248.getMarginBox(this._splitter.domNode).h:0;return _1260+_1261+_125f;},selectChild:function(page,_1262,_1263){this.inherited(arguments);if(!_1263){this.profile.set(this.componentId+"_selectedTab",this.selectedChildWidget.id);}this._removeCommand.set("model",this.selectedChildWidget);},_makeController:function(_1264){var _1265=this.inherited(arguments);_1265.set("title",this.get("heading")||"");return _1265;},_setToggleableAttr:function(_1266){this._set("toggleable",_1266);this.tablist&&this.tablist.set("toggleable",this.toggleable);},_setOpenAttr:function(open){this.inherited(arguments);this.tablist.setOpen(open);_1244.set(this.containerNode,"display",open?"":"none");if(this._started){if(!open){this.lastOpenHeight=_1248.getMarginBox(this.domNode).h;}this.emit("toggle",this.open);}}});});},"url:epi/shell/widget/layout/templates/ComponentTabContainer.htm":"<div class=\"dijitTabContainer dojoxDragHandle epi-componentGroup epi-compactTabs\">\r\n    <div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\r\n    <div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\r\n    <div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\r\n    <div data-dojo-attach-point=\"_splitterNode\"></div>\r\n</div>\r\n","dijit/layout/TabContainer":function(){define("dijit/layout/TabContainer",["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_1267,_1268,_1269,_126a){return _1267("dijit.layout.TabContainer",_1268,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_126b){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_1269=typeof this.controllerWidget=="string"?lang.getObject(this.controllerWidget):this.controllerWidget;return new _1269({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_126b);},postMixInProperties:function(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?_126a:_1269;}}});});},"dijit/layout/_TabContainerBase":function(){require({cache:{"url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n"}});define("dijit/layout/_TabContainerBase",["dojo/text!./templates/TabContainer.html","./StackContainer","./utils","../_TemplatedMixin","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(_126c,_126d,_126e,_126f,_1270,_1271,_1272,_1273){return _1270("dijit.layout._TabContainerBase",[_126d,_126f],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_126c,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&_1273.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){_1271.add(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){_1271.add(this.domNode,"dijitTabContainerNested");_1271.add(this.tablist.containerNode,"dijitTabContainerTabListNested");_1271.add(this.tablistSpacer,"dijitTabContainerSpacerNested");_1271.add(this.containerNode,"dijitTabPaneWrapperNested");}else{_1271.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function(tab){_1271.add(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _1274=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_1274;var _1275=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_1274},{domNode:this.containerNode,layoutAlign:"client"}];_126e.layoutChildren(this.domNode,this._contentBox,_1275);this._containerContentBox=_126e.marginBox2contentBox(this.containerNode,_1275[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var width=_1272.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:width});}if(sc&&sc.resize){sc.resize();}}},destroy:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);}});});},"url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n","dijit/layout/StackContainer":function(){define("dijit/layout/StackContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/ready","dojo/topic","../registry","../_WidgetBase","./_LayoutWidget","dojo/i18n!../nls/common"],function(array,_1276,_1277,_1278,has,lang,ready,topic,_1279,_127a,_127b){if(has("dijit-legacy-requires")){ready(0,function(){var _127c=["dijit/layout/StackController"];require(_127c);});}var _127d=_1277("dijit.layout.StackContainer",_127b,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_1278.add(this.domNode,"dijitLayoutContainer");},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress",this._onKeyPress);},startup:function(){if(this._started){return;}var _127e=this.getChildren();array.forEach(_127e,this._setupChild,this);if(this.persist){this.selectedChildWidget=_1279.byId(_1276(this.id+"_selectedChild"));}else{array.some(_127e,function(child){if(child.selected){this.selectedChildWidget=child;}return child.selected;},this);}var _127f=this.selectedChildWidget;if(!_127f&&_127e[0]){_127f=this.selectedChildWidget=_127e[0];_127f.selected=true;}topic.publish(this.id+"-startup",{children:_127e,selected:_127f});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _1280=this.selectedChildWidget;if(_1280){this._showChild(_1280);}}this.inherited(arguments);},_setupChild:function(child){this.inherited(arguments);_1278.replace(child.domNode,"dijitHidden","dijitVisible");child.domNode.title="";},addChild:function(child,_1281){this.inherited(arguments);if(this._started){topic.publish(this.id+"-addChild",child,_1281);this.layout();if(!this.selectedChildWidget){this.selectChild(child);}}},removeChild:function(page){this.inherited(arguments);if(this._started){topic.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _1282=this.getChildren();if(_1282.length){this.selectChild(_1282[0]);}}}if(this._started){this.layout();}},selectChild:function(page,_1283){page=_1279.byId(page);if(this.selectedChildWidget!=page){var d=this._transition(page,this.selectedChildWidget,_1283);this._set("selectedChildWidget",page);topic.publish(this.id+"-selectChild",page);if(this.persist){_1276(this.id+"_selectedChild",this.selectedChildWidget.id);}}return d;},_transition:function(_1284,_1285){if(_1285){this._hideChild(_1285);}var d=this._showChild(_1284);if(_1284.resize){if(this.doLayout){_1284.resize(this._containerContentBox||this._contentBox);}else{_1284.resize();}}return d;},_adjacent:function(_1286){var _1287=this.getChildren();var index=array.indexOf(_1287,this.selectedChildWidget);index+=_1286?1:_1287.length-1;return _1287[index%_1287.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyPress:function(e){topic.publish(this.id+"-containerKeyPress",{e:e,page:this});},layout:function(){var child=this.selectedChildWidget;if(child&&child.resize){if(this.doLayout){child.resize(this._containerContentBox||this._contentBox);}else{child.resize();}}},_showChild:function(page){var _1288=this.getChildren();page.isFirstChild=(page==_1288[0]);page.isLastChild=(page==_1288[_1288.length-1]);page._set("selected",true);_1278.replace(page.domNode,"dijitVisible","dijitHidden");return (page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);_1278.replace(page.domNode,"dijitHidden","dijitVisible");page.onHide&&page.onHide();},closeChild:function(page){var _1289=page.onClose(this,page);if(_1289){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_128a){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;array.forEach(this.getChildren(),function(child){if(!_128a){this.removeChild(child);}child.destroyRecursive(_128a);},this);this._descendantsBeingDestroyed=false;}});_127d.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};lang.extend(_127a,_127d.ChildWidgetProperties);return _127d;});},"dijit/layout/ScrollingTabController":function(){require({cache:{"url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_menuBtn\"\n\t\t\tdata-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t\tdata-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_leftBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_rightBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'\n\t\t\t\tdata-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"onclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\" role=\"button\">\n\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>"}});define("dijit/layout/ScrollingTabController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom"],function(array,_128b,_128c,_128d,_128e,fx,lang,on,query,has,_128f,_1290,_1291,_1292,_1293,_1294,Menu,_1295,_1296,_1297){var _1298=_128b("dijit.layout.ScrollingTabController",[_1292,_1294],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_1290,useMenu:true,useSlider:true,tabStripClass:"",widgetsInTemplate:true,_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";_128c.add(n,"tabStrip-disabled");}_128c.add(this.tablistWrapper,this.tabStripClass);},onStartup:function(){this.inherited(arguments);_128e.set(this.domNode,"visibility","");this._postStartup=true;this.own(on(this.containerNode,"attrmodified-label, attrmodified-iconclass",lang.hitch(this,function(evt){if(this._dim){this.resize(this._dim);}})));},onAddChild:function(page,_1299){this.inherited(arguments);_128e.set(this.containerNode,"width",(_128e.get(this.containerNode,"width")+200)+"px");},onRemoveChild:function(page,_129a){var _129b=this.pane2button[page.id];if(this._selectedTab===_129b.domNode){this._selectedTab=null;}this.inherited(arguments);},_initButtons:function(){this._btnWidth=0;this._buttons=query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=_128d.getMarginSize(btn).w;return true;}else{_128e.set(btn,"display","none");return false;}},this);},_getTabsWidth:function(){var _129c=this.getChildren();if(_129c.length){var _129d=_129c[this.isLeftToRight()?0:_129c.length-1].domNode,_129e=_129c[this.isLeftToRight()?_129c.length-1:0].domNode;return _129e.offsetLeft+_129e.offsetWidth-_129d.offsetLeft;}else{return 0;}},_enableBtn:function(width){var _129f=this._getTabsWidth();width=width||_128e.get(this.scrollNode,"width");return _129f>0&&width<_129f;},resize:function(dim){this._dim=dim;this.scrollNode.style.height="auto";var cb=this._contentBox=_1293.marginBox2contentBox(this.domNode,{h:0,w:dim.w});cb.h=this.scrollNode.offsetHeight;_128d.setContentSize(this.domNode,cb);var _12a0=this._enableBtn(this._contentBox.w);this._buttons.style("display",_12a0?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";_1293.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());}this._setButtonClass(this._getScroll());this._postResize=true;return {h:this._contentBox.h,w:dim.w};},_getScroll:function(){return (this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_128e.get(this.containerNode,"width")-_128e.get(this.scrollNode,"width")+(has("ie")>=8?-1:1)*this.scrollNode.scrollLeft;},_convertToScrollLeft:function(val){if(this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit")){return val;}else{var _12a1=_128e.get(this.containerNode,"width")-_128e.get(this.scrollNode,"width");return (has("ie")>=8?-1:1)*(val-_12a1);}},onSelectChild:function(page){var tab=this.pane2button[page.id];if(!tab||!page){return;}var node=tab.domNode;if(node!=this._selectedTab){this._selectedTab=node;if(this._postResize){var sl=this._getScroll();if(sl>node.offsetLeft||sl+_128e.get(this.scrollNode,"width")<node.offsetLeft+_128e.get(node,"width")){this.createSmoothScroll().play();}}}this.inherited(arguments);},_getScrollBounds:function(){var _12a2=this.getChildren(),_12a3=_128e.get(this.scrollNode,"width"),_12a4=_128e.get(this.containerNode,"width"),_12a5=_12a4-_12a3,_12a6=this._getTabsWidth();if(_12a2.length&&_12a6>_12a3){return {min:this.isLeftToRight()?0:_12a2[_12a2.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_12a2[_12a2.length-1].domNode.offsetLeft+_12a2[_12a2.length-1].domNode.offsetWidth)-_12a3:_12a5};}else{var _12a7=this.isLeftToRight()?0:_12a5;return {min:_12a7,max:_12a7};}},_getScrollForSelectedTab:function(){var w=this.scrollNode,n=this._selectedTab,_12a8=_128e.get(this.scrollNode,"width"),_12a9=this._getScrollBounds();var pos=(n.offsetLeft+_128e.get(n,"width")/2)-_12a8/2;pos=Math.min(Math.max(pos,_12a9.min),_12a9.max);return pos;},createSmoothScroll:function(x){if(arguments.length>0){var _12aa=this._getScrollBounds();x=Math.min(Math.max(x,_12aa.min),_12aa.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var self=this,w=this.scrollNode,anim=new fx.Animation({beforeBegin:function(){if(this.curve){delete this.curve;}var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);anim.curve=new fx._Line(oldS,newS);},onAnimate:function(val){w.scrollLeft=val;}});this._anim=anim;this._setButtonClass(x);return anim;},_getBtnNode:function(e){var n=e.target;while(n&&!_128c.contains(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function(_12ab,node){if(node&&_128c.contains(node,"dijitTabDisabled")){return;}var _12ac=_128e.get(this.scrollNode,"width");var d=(_12ac*0.75)*_12ab;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function(_12ad){var _12ae=this._getScrollBounds();this._leftBtn.set("disabled",_12ad<=_12ae.min);this._rightBtn.set("disabled",_12ad>=_12ae.max);}});var _12af=_128b("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_1291,tabIndex:"",isFocusable:function(){return false;}});_128b("dijit.layout._ScrollingTabControllerButton",[_1296,_12af]);_128b("dijit.layout._ScrollingTabControllerMenuButton",[_1296,_1297,_12af],{containerId:"",tabIndex:"-1",isLoaded:function(){return false;},loadDropDown:function(_12b0){this.dropDown=new Menu({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var _12b1=_128f.byId(this.containerId);array.forEach(_12b1.getChildren(),function(page){var _12b2=new _1295({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir,onClick:function(){_12b1.selectChild(page);}});this.dropDown.addChild(_12b2);},this);_12b0();},closeDropDown:function(focus){this.inherited(arguments);if(this.dropDown){this._popupStateNode.removeAttribute("aria-owns");this.dropDown.destroyRecursive();delete this.dropDown;}}});return _1298;});},"url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_menuBtn\"\n\t\t\tdata-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t\tdata-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_leftBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_rightBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'\n\t\t\t\tdata-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"onclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\" role=\"button\">\n\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>","epi/shell/widget/layout/_ComponentTabController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/Evented","dojo/text!./templates/_ComponentTabController.htm","dijit/layout/ScrollingTabController","dijit/_WidgetsInTemplateMixin","dijit/form/ToggleButton"],function(array,_12b3,lang,_12b4,_12b5,_12b6,_12b7,_12b8,_12b9,_12ba,_12bb){return _12b3([_12b9,_12ba,_12b7],{templateString:_12b8,title:"",toggleable:true,open:true,addChild:function(child,index){if(index&&typeof index=="number"){index++;}else{index=this.getChildren().length+1;}this.inherited("addChild",[child,index]);_12b4.set(child.domNode,"display",this.open?"":"none");},_toggle:function(e){if(e){this._started&&!this._initializing&&this.set("open",!this.get("open"));}},_setTitleAttr:function(title){this._set("title",title||"");this.toggleButton.set("label",title);},setOpen:function(open){this._initializing=true;this.set("open",open);this.toggleButton.set("checked",!this.open);this._initializing=false;},_setOpenAttr:function(open){this._set("open",open);if(!this.open){_12b6.add(this.tablistWrapper,"closed");}else{_12b6.remove(this.tablistWrapper,"closed");}this.toggleButton.set("showLabel",!this.open);array.forEach(this.getChildren(),lang.hitch(this,function(child){if(child!==this.toggleButton){_12b4.set(child.domNode,"display",this.open?"":"none");}}));!this._initializing&&this.emit("toggle",this.open);},_setToggleableAttr:function(_12bc){this._set("toggleable",_12bc);_12b4.set(this.toggleButton.domNode,"display",this.toggleable?"":"none");}});});},"url:epi/shell/widget/layout/templates/_ComponentTabController.htm":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n    \r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_menuBtn\"\r\n         data-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\r\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\r\n         data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_leftBtn\"\r\n         data-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\r\n         data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_rightBtn\"\r\n         data-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\r\n         data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\r\n    <div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\r\n        <div role='tablist' data-dojo-attach-event='onkeypress:onkeypress' data-dojo-attach-point='containerNode' class=\"nowrapTabStrip\" >\r\n            <div data-dojo-type=\"dijit.form.ToggleButton\" data-dojo-attach-point=\"toggleButton\" data-dojo-attach-event=\"onClick:_toggle\" data-dojo-props=\"showLabel:true, iconClass:'epi-gadget-toggle', 'class':'epi-chromelessButton'\"></div>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/layout/ComponentPaneContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry","dojo/dom-style","epi/shell/widget/_ScrollbarMeasurementMixin","epi/shell/widget/layout/ComponentContainer"],function(array,_12bd,lang,_12be,_12bf,_12c0,_12c1){return _12bd([_12c1,_12c0],{_previousChildrenCount:null,layoutComponents:function(){_12bf.set(this.containerNode,"overflow-y","hidden");var _12c2=this.getChildren();array.forEach(_12c2,function(_12c3){if(_12c3.lastOpenHeight&&(_12c3.lastOpenHeight<_12c3.minHeight)){_12c3.set("lastOpenHeight",_12c3.minHeight);}});if(_12c2.length===1){var child=_12c2[0];if(!child.open){child.set("open",true);}child.resize(this._containerSize);}else{if(_12c2.length===2){var _12c4=array.every(_12c2,function(child){return child.open;});array.forEach(_12c2,function(child){child.set("resizable",_12c4);});this._layout2Children(_12c2[0],_12c2[1]);}else{var _12c5=lang.hitch(this,function(width){var _12c6=0;this.getChildren().forEach(function(child){_12c6+=child.getSize().h;});if(width&&(_12c6>this._containerSize.h)){width-=this.getScrollbarSize().x;}array.forEach(this.getChildren(),function(_12c7){_12c7.set("resizable",_12c7.open);if(_12c7.resize&&lang.isFunction(_12c7.resize)){if(width){_12c7.resize({w:width});}else{_12c7.resize();}}});});if(this._previousChildrenCount<3){_12c5(null);}_12c5(this._containerSize.w);}}this._previousChildrenCount=_12c2.length;_12bf.set(this.containerNode,"overflow-y","auto");},_layout2Children:function(child,_12c8){var _12c9=this._containerSize;var _12ca={w:_12c9.w};var _12cb={w:_12c9.w};var _12cc=child.getSize().h;var _12cd=_12c8.getSize().h;var _12ce=Math.floor(_12c9.h/2);if(child.open&&_12c8.open&&(!child.lastOpenHeight||!_12c8.lastOpenHeight)){_12ca.h=_12ce;_12cb.h=_12c9.h-_12ce;}else{if(!child.open&&!_12c8.open){_12ca.h=_12cc;_12cb.h=_12cd;child.set("lastOpenHeight",_12ce);_12c8.set("lastOpenHeight",_12c9.h-_12ce);}else{if(_12cc<_12cd){_12ca.h=_12cc;_12cb.h=_12c9.h-_12cc;}else{_12ca.h=_12c9.h-_12cd;_12cb.h=_12cd;}}}child.resize(_12ca);_12c8.resize(_12cb);},_layoutChildren:function(child,_12cf,_12d0){var _12d1=this.getChildren(),_12d2=_12be.getContentBox(this.containerNode).h;child.resize({h:_12cf});if(_12d1.length===2){array.forEach(_12d1,function(_12d3){if(_12d3!==child){_12d3.resize({h:_12d2-_12cf});}});}if(_12d0){array.forEach(_12d1,function(_12d4){if(_12d4.getSize().h){_12d4.set("lastOpenHeight",_12d4.getSize().h);}});this.layoutComponents();this._persistComponentSettings();}},_onCompontentsChanged:function(){var _12d5=this.getChildren(),_12d6=_12d5.length>1,_12d7=_12d5.length>2,_12d8=_12d5.length===1;array.forEach(_12d5,function(child,index){child.set("showSplitter",_12d7||index<_12d5.length-1);child.set("toggleable",_12d6);if(_12d8&&child.setDefaultStates){child.setDefaultStates();}},this);},_componentToggle:function(){var _12d9=this.getChildren();if(_12d9.length===2){var _12da=array.every(_12d9,function(child){return child.open;});array.forEach(_12d9,function(child){child.set("resizable",_12da);});}this.inherited(arguments);},_getMaxSizeChild:function(){var _12db=this.getChildren(),child=_12db[0],_12dc=_12db[1],_12dd=_12be.getMarginBox(child.domNode).h;if(_12db.length===2){_12dd+=_12be.getMarginBox(_12dc.domNode).h-_12dc.minHeight;return _12dd;}return child.maxHeight||Infinity;}});});},"epi/shell/widget/_ScrollbarMeasurementMixin":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dojo/dom-style"],function(_12de,win,_12df,_12e0){var mixin=_12de([],{getScrollbars:function(node){var _12e1=this.getScrollbarSize(),root=node.documentElement||node,_12e2;function _12e3(size,sb){if(root){return {y:root.scrollHeight>root.clientHeight?size.y:sb.y,x:root.scrollWidth>root.clientWidth?size.x:sb.x};}return {x:0,y:0};};function _12e4(size){var _12e5={x:0,y:0};if(root){_12e0.get(root,"overflow-y")==="scroll"?_12e5.y=size.y:_12e5.y=0;_12e0.get(root,"overflow-x")==="scroll"?_12e5.x=size.x:_12e5.x=0;_12e0.get(root,"overflow")==="scroll"?_12e5={x:size.x,y:size.y,permanent:true}:_12e5.permanent=false;}return _12e5;};if(root){_12e2=_12e4(_12e1);return _12e2.permanent?_12e2:_12e3(_12e1,_12e2);}return {x:0,y:0};},getScrollbarSize:function(){function _12e6(){var _12e7;try{var _12e8=_12df.create("div",{style:{overflow:"scroll",position:"absolute",top:"-200px",left:"-200px",width:"100px",height:"100px"}},win.body());_12e7={x:_12e8.offsetWidth-_12e8.clientWidth,y:_12e8.offsetHeight-_12e8.clientHeight};_12df.destroy(_12e8);}catch(ex){_12e7={x:16,y:16};}return _12e7;};return mixin._scrollbarSize=mixin._scrollbarSize||_12e6();}});return mixin;});},"epi/shell/widget/DateRange":function(){define(["dojo","dojo/i18n","epi","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/DateTextBox"],function(dojo,i18n,epi,_12e9,_12ea,_12eb){return dojo.declare([_12e9,_12ea,_12eb],{templateString:"<div class=\"ui-daterange-popup\" style=\"width:390px;\">            <div>                <div style=\"margin: 5px;\" data-dojo-type=\"dijit/form/DateTextBox\" dojoAttachPoint=\"startDateInput\" dojoAttachEvent=\"onMouseEnter: forbidCloseParent\"></div>                <div style=\"margin: 5px;\" data-dojo-type=\"dijit/form/DateTextBox\" dojoAttachPoint=\"endDateInput\" dojoAttachEvent=\"onMouseEnter: forbidCloseParent\"></div>            </div>            <div style=\"text-align: right;margin: 20px 7px 0 0;\">                <button data-dojo-type=\"dijit/form/Button\" type=\"button\" dojoAttachPoint=\"chooseButton\">${commonRes.action.choose}</button>                <button data-dojo-type=\"dijit/form/Button\" type=\"button\" dojoAttachPoint=\"cancelButton\">${commonRes.action.cancel}</button>            </div>        </div>",closeParent:true,commonRes:epi.resources,forbidCloseParent:function(){this.closeParent=false;},allowCloseParent:function(){this.closeParent=true;}});});},"dijit/form/DateTextBox":function(){define("dijit/form/DateTextBox",["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_12ec,_12ed,_12ee){return _12ec("dijit.form.DateTextBox",_12ee,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_12ed,_selector:"date",value:new Date("")});});},"dijit/Calendar":function(){define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/event","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(array,date,local,_12ef,_12f0,_12f1,event,_12f2,keys,lang,has,_12f3,_12f4,_12f5,_12f6,_12f7){var _12f8=_12ef("dijit.Calendar",[_12f3,_12f4,_12f5],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(value){_12f2.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",value);},_createMonthWidget:function(){return new _12f8._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeydown","_onKeyDown");this.connect(this.dateRowsNode,"onmouseover","_onDayMouseOver");this.connect(this.dateRowsNode,"onmouseout","_onDayMouseOut");this.connect(this.dateRowsNode,"onmousedown","_onDayMouseDown");this.connect(this.dateRowsNode,"onmouseup","_onDayMouseUp");},_onMonthSelect:function(_12f9){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_12f9);var _12fa=this.dateModule.getDaysInMonth(date);var _12fb=this.currentFocus.getDate();date.setDate(Math.min(_12fb,_12fa));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_12f1.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_12f1.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_12f1.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_12f1.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_12f1.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_12f1.contains(node,"dijitCalendarDisabledDate")){_12f1.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_12f1.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _12fc=-1,_12fd,_12fe=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_12fc=1;case keys.LEFT_ARROW:_12fd="day";if(!this.isLeftToRight()){_12fc*=-1;}break;case keys.DOWN_ARROW:_12fc=1;case keys.UP_ARROW:_12fd="week";break;case keys.PAGE_DOWN:_12fc=1;case keys.PAGE_UP:_12fd=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_12fe=this.dateModule.add(_12fe,"month",1);_12fd="day";case keys.HOME:_12fe=new this.dateClassObj(_12fe);_12fe.setDate(1);break;case keys.ENTER:case keys.SPACE:this.set("value",this.currentFocus);break;default:return true;}if(_12fd){_12fe=this.dateModule.add(_12fe,_12fd,_12fc);}this._setCurrentFocusAttr(_12fe);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){event.stop(evt);}},onValueSelected:function(){},onChange:function(value){this.onValueSelected(value);},getClassForDate:function(){}});_12f8._MonthDropDownButton=_12ef("dijit.Calendar._MonthDropDownButton",_12f7,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _12f8._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(month){var _12ff=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.dropDown.set("months",_12ff);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_12ff[month.getMonth()]+"</div>";}});_12f8._MonthDropDown=_12ef("dijit.Calendar._MonthDropDown",[_12f4,_12f6],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_1300){this.domNode.innerHTML=array.map(_1300,function(month,idx){return month?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+month+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(_12f0.get(evt.target,"month"));},onChange:function(){},_onMenuHover:function(evt){_12f1.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});return _12f8;});},"dijit/CalendarLite":function(){require({cache:{"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n"}});define("dijit/CalendarLite",["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./hccss"],function(array,_1301,_1302,date,_1303,stamp,dom,_1304,event,lang,has,_1305,_1306,_1307,_1308){var _1309=_1301("dijit.CalendarLite",[_1306,_1307],{templateString:_1308,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(value){return value&&!isNaN(value)&&typeof value=="object"&&value.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){if(this.value&&!isNaN(this.value)){var value=new this.dateClassObj(this.value);value.setHours(0,0,0,0);if(value.getDate()<this.value.getDate()){value=this.dateModule.add(value,"hour",1);}return value;}else{return null;}},_setValueAttr:function(value,_130a){if(typeof value=="string"){value=stamp.fromISOString(value);}value=this._patchDate(value);if(this._isValidDate(value)&&!this.isDisabledDate(value,this.lang)){this._set("value",value);this.set("currentFocus",value);this._markSelectedDates([value]);if(this._created&&(_130a||typeof _130a=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(value){if(value){value=new this.dateClassObj(value);value.setHours(1,0,0,0);}return value;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);var _130b=month.getDay(),_130c=this.dateModule.getDaysInMonth(month),_130d=this.dateModule.getDaysInMonth(this.dateModule.add(month,"month",-1)),today=new this.dateClassObj(),_130e=_1302.getFirstDayOfWeek(this.lang);if(_130e>_130b){_130e-=7;}if(!this.summary){var _130f=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.gridNode.setAttribute("summary",_130f[month.getMonth()]);}this._date2cell={};array.forEach(this.dateCells,function(_1310,idx){var i=idx+_130e;var date=new this.dateClassObj(month),_1311,clazz="dijitCalendar",adj=0;if(i<_130b){_1311=_130d-_130b+i+1;adj=-1;clazz+="Previous";}else{if(i>=(_130b+_130c)){_1311=i-_130b-_130c+1;adj=1;clazz+="Next";}else{_1311=i-_130b+1;clazz+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_1311);if(!this.dateModule.compare(date,today,"date")){clazz="dijitCalendarCurrentDate "+clazz;}if(this.isDisabledDate(date,this.lang)){clazz="dijitCalendarDisabledDate "+clazz;_1310.setAttribute("aria-disabled","true");}else{clazz="dijitCalendarEnabledDate "+clazz;_1310.removeAttribute("aria-disabled");_1310.setAttribute("aria-selected","false");}var _1312=this.getClassForDate(date,this.lang);if(_1312){clazz=_1312+" "+clazz;}_1310.className=clazz+"Month dijitCalendarDateTemplate";var _1313=date.valueOf();this._date2cell[_1313]=_1310;_1310.dijitDateValue=_1313;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);this.monthWidget.set("month",month);var y=month.getFullYear()-1;var d=new this.dateClassObj();array.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_1314){this.dateModule=_1314.datePackage?lang.getObject(_1314.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_1314.datePackage?lang.getObject(_1314.datePackage+".locale",false):_1303;},_createMonthWidget:function(){return _1309._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_1315=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_1316=_1302.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_1305.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _1315[_1316++%7];});var r=_1305.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _1317=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_1317,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _1318=lang.hitch(this,function(_1319,part,_131a){this.connect(this[_1319],"onclick",function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_131a));});});_1318("incrementMonth","month",1);_1318("decrementMonth","month",-1);_1318("nextYearLabelNode","year",1);_1318("previousYearLabelNode","year",-1);},_setCurrentFocusAttr:function(date,_131b){var _131c=this.currentFocus,_131d=this._getNodeByDate(_131c);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_131c,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _131e=this._getNodeByDate(date);_131e.setAttribute("tabIndex",this.tabIndex);if(this.focused||_131b){_131e.focus();}if(_131d&&_131d!=_131e){if(has("webkit")){_131d.setAttribute("tabIndex","-1");}else{_131d.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){event.stop(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_1304.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(value){value=this._patchDate(value);return value&&this._date2cell?this._date2cell[value.valueOf()]:null;},_markSelectedDates:function(dates){function mark(_131f,cell){_1304.toggle(cell,"dijitCalendarSelectedDate",_131f);cell.setAttribute("aria-selected",_131f?"true":"false");};array.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=array.filter(array.map(dates,this._getNodeByDate,this),function(n){return n;});array.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_1309._MonthWidget=_1301("dijit.CalendarLite._MonthWidget",_1306,{_setMonthAttr:function(month){var _1320=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month),_1321=(has("ie")==6?"":"<div class='dijitSpacer'>"+array.map(_1320,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_1321+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_1320[month.getMonth()]+"</div>";}});return _1309;});},"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","dijit/form/_DateTimeTextBox":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n"}});define("dijit/form/_DateTimeTextBox",["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_1322,stamp,_1323,lang,_1324,_1325,_1326){new Date("X");var _1327=_1323("dijit.form._DateTimeTextBox",[_1324,_1325],{templateString:_1326,hasDownArrow:true,cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},pattern:_1322.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},compare:function(val1,val2){var _1328=this._isInvalidDate(val1);var _1329=this._isInvalidDate(val2);return _1328?(_1329?0:-1):(_1329?1:date.compare(val1,val2,this._selector));},forceWidth:true,format:function(value,_132a){if(!value){return "";}return this.dateLocaleModule.format(value,_132a);},"parse":function(value,_132b){return this.dateLocaleModule.parse(value,_132b)||(this._isEmpty(value)?null:undefined);},serialize:function(val,_132c){if(val.toGregorian){val=val.toGregorian();}return stamp.toISOString(val,_132c);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(_132d){this.dateModule=_132d.datePackage?lang.getObject(_132d.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_132d.datePackage?lang.getObject(_132d.datePackage+".locale",false):_1322;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString();},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function(_132e){_132e.selector=this._selector;_132e.fullYear=true;var _132f=stamp.fromISOString;if(typeof _132e.min=="string"){_132e.min=_132f(_132e.min);}if(typeof _132e.max=="string"){_132e.max=_132f(_132e.max);}this.inherited(arguments);},_isInvalidDate:function(value){return !value||isNaN(value)||typeof value!="object"||value.toString()==this._invalidDate;},_setValueAttr:function(value,_1330,_1331){if(value!==undefined){if(typeof value=="string"){value=stamp.fromISOString(value);}if(this._isInvalidDate(value)){value=null;}if(value instanceof Date&&!(this.dateClassObj instanceof Date)){value=new this.dateClassObj(value);}}this.inherited(arguments);if(this.value instanceof Date){this.filterString="";}if(this.dropDown){this.dropDown.set("value",value,false);}},_set:function(attr,value){if(attr=="value"&&this.value instanceof Date&&this.compare(value,this.value)==0){return;}this.inherited(arguments);},_setDropDownDefaultValueAttr:function(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this.dropDownDefaultValue=val;},openDropDown:function(_1332){if(this.dropDown){this.dropDown.destroy();}var _1333=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_1334=this,value=this.get("value");this.dropDown=new _1333({onChange:function(value){_1334.set("value",value,true);},id:this.id+"_popup",dir:_1334.dir,lang:_1334.lang,value:value,currentFocus:!this._isInvalidDate(value)?value:this.dropDownDefaultValue,constraints:_1334.constraints,filterString:_1334.filterString,datePackage:_1334.params.datePackage,isDisabledDate:function(date){return !_1334.rangeCheck(date,_1334.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(value,_1335){this._setValueAttr(this.parse(value,this.constraints),_1335,value);}});return _1327;});},"epi/shell/widget/DateRangePicker":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/_base/window","dojo/has","dojo/topic","dijit/popup","dijit/_Widget","dijit/_TemplatedMixin","dijit/_HasDropDown","epi/shell/widget/DateRange","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(_1336,lang,_1337,win,has,topic,popup,_1338,_1339,_133a,_133b,res){return _1336([_1338,_1339,_133a],{templateString:"<div>                             <a class=\"epi-iconToolbar-item-link epi-iconToolbar-calendar\" href=\"#\" title=\"${res.selectdateinterval}\" data-dojo-attach-point=\"_buttonNode, focusNode\"></a>                         </div>",res:res,startDate:new Date(),endDate:new Date(),openDropDown:function(){if(this.dropDown){this.dropDown.destroy();}this.dropDown=new _133b();this.dropDown.startDateInput._setValueAttr(this.startDate);this.dropDown.endDateInput._setValueAttr(this.endDate);this.connect(this.dropDown.chooseButton,"onClick",lang.hitch(this,"_onChooseClick"));this.connect(this.dropDown.cancelButton,"onClick",lang.hitch(this,"_closeDropDown"));this.connect(this.dropDown,"onMouseLeave",lang.hitch(this.dropDown,"allowCloseParent"));this.connect(win.body(),(!has("mozilla")?"onmousewheel":"DOMMouseScroll"),lang.hitch(this,"_closeDropDown"));this.inherited(arguments);_1337.set(this.dropDown.domNode,"width","390px");},_onBlur:function(){if(this.dropDown&&this.dropDown.closeParent){popup.close(this.dropDown);this._opened=false;}},_closeDropDown:function(){this.closeDropDown();},_onChooseClick:function(){this.startDate=this.dropDown.startDateInput.get("value");this.endDate=this.dropDown.endDateInput.get("value");this.closeDropDown();topic.publish("intervalHasBeenSet",this.id);}});});},"epi/shell/widget/DateTimeSelector":function(){define(["dojo/_base/declare","dojo/keys","dojo/aspect","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Calendar","epi/shell/widget/TimeSpinner","epi/datetime","dojo/text!./templates/DateTimeSelector.html"],function(_133c,keys,_133d,_133e,_133f,_1340,_1341,_1342,_1343,_1344){return _133c([_133e,_133f,_1340],{templateString:_1344,value:null,postCreate:function(){this.inherited(arguments);_133d.after(this.calendar,"handleKey",function(evt){switch(evt.keyCode){case keys.RIGHT_ARROW:case keys.LEFT_ARROW:case keys.DOWN_ARROW:case keys.UP_ARROW:this.set("value",this.currentFocus);return true;default:return true;}},true);},_setValueAttr:function(value){this.calendar.set("value",value,false);this.timePicker.set("value",value,false);},_onCalendarKeyPress:function(e){if(e.keyCode===keys.TAB){this.timePicker.focus();}},_onTimePickerKeyPress:function(e){if(e.keyCode===keys.TAB){this.calendar.focus();}},_getValueAttr:function(){var _1345=this.calendar.get("value");var _1346=this.timePicker.get("value");if(!_1345&&!_1346){return null;}if(!_1345){this.calendar.goToToday();_1345=this.calendar.get("value");}if(!_1346){_1346=new Date(0,0,0,0,0,0,0);this.timePicker.set("value",_1346,false);}return new Date(_1345.getFullYear(),_1345.getMonth(),_1345.getDate(),_1346.getHours(),_1346.getMinutes(),_1346.getSeconds(),_1346.getMilliseconds());},_onChange:function(value){var _1347=this.get("value");this.onChange(_1347);},onChange:function(value){},focus:function(){this.calendar.focus();}});});},"epi/shell/widget/TimeSpinner":function(){define(["dojo/_base/declare","epi/datetime","dojox/form/TimeSpinner"],function(_1348,_1349,_134a){return _1348([_134a],{smallDelta:60,largeDelta:360,_arrowPressed:function(_134b,_134c,_134d){this.inherited(arguments);this.onChange(this.get("value"));}});});},"dojox/form/TimeSpinner":function(){define("dojox/form/TimeSpinner",["dojo/_base/lang","dojo/_base/event","dijit/form/_Spinner","dojo/keys","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare"],function(lang,event,_134e,keys,_134f,_1350,_1351,_1352){return _1352("dojox.form.TimeSpinner",_134e,{required:false,adjust:function(val,delta){return _134f.add(val,"minute",delta);},isValid:function(){return true;},smallDelta:5,largeDelta:30,timeoutChangeRate:0.5,parse:function(time,_1353){return _1350.parse(time,{selector:"time",formatLength:"short"});},format:function(time,_1354){if(lang.isString(time)){return time;}return _1350.format(time,{selector:"time",formatLength:"short"});},serialize:_1351.toISOString,value:"12:00 AM",_onKeyPress:function(e){if((e.charOrCode==keys.HOME||e.charOrCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var value=this.constraints[(e.charOrCode==keys.HOME?"min":"max")];if(value){this._setValueAttr(value,true);}event.stop(e);}}});});},"url:epi/shell/widget/templates/DateTimeSelector.html":"<div style=\"position: relative;\" class=\"epi-dateTimeWrapper\">\r\n    <div data-dojo-attach-point=\"calendar\" data-dojo-type=\"dijit/Calendar\"  data-dojo-attach-event=\"onChange: _onChange, onKeyPress:_onCalendarKeyPress\" ></div>\r\n    <div data-dojo-attach-point=\"calendarOverlay\" style=\"position: absolute; left: 0; top: 0;\"></div>\r\n    <div style=\"text-align: center; padding: 5px\" class=\"epi-timePickerWrapper\">\r\n        <div class=\"dijitInline dijitIcon epi-iconClock\"></div><div data-dojo-attach-point=\"timePicker\" data-dojo-type=\"epi/shell/widget/TimeSpinner\" data-dojo-attach-event=\"onKeyPress:_onTimePickerKeyPress, onChange: _onChange\"></div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/DateTimeSelectorDropDown":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/keys","dijit/form/_DateTimeTextBox","epi/shell/widget/DateTimeSelector"],function(_1355,lang,keys,_1356,_1357){return _1355([_1356],{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_1357,forceWidth:false,_isSelecting:false,_canceled:false,_isDropDownShowing:false,constructor:function(){this.constraints={formatLength:"short",fullYear:"true"};},toggleDropDown:function(){this._isSelecting=!this._isSelecting;this.inherited(arguments);},openDropDown:function(){this.inherited(arguments);this.dropDown.onChange=function(){};this.connect(this.dropDown.domNode,"onkeypress",lang.hitch(this,function(e){this._canceled=e.keyCode===keys.ESCAPE;if(e.keyCode===keys.ESCAPE||e.keyCode===keys.ENTER){this._isSelecting=false;this.closeDropDown(true);}}));this._isSelecting=true;this._canceled=false;this._dropDownShowing=true;},_setValueAttr:function(value){if(value){if(!(value instanceof Date)){value=new Date(value);}value=new Date(value.getFullYear(),value.getMonth(),value.getDate(),value.getHours(),value.getMinutes());this.inherited(arguments,[value]);}else{this.inherited(arguments);}},closeDropDown:function(focus){if(!this._isSelecting&&this._dropDownShowing){if(!this._canceled&&this.dropDown){this.set("value",this.dropDown.get("value"));}this.inherited(arguments);this._dropDownShowing=false;}},_onBlur:function(){this._isSelecting=false;if(this._dropDownShowing){this.closeDropDown();}this.inherited(arguments);}});});},"epi/shell/widget/FormContainer":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","dojo/aspect","dojo/has","dojo/when","dijit/layout/_LayoutWidget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/Form","epi/epi","require","epi/shell/widget/WidgetFactory","epi/shell/MetadataTransformer"],function(_1358,array,lang,_1359,_135a,has,when,_135b,_135c,_135d,Form,epi,_135e,_135f,_1360){return _1358([_135b,_135c,_135d],{templateString:"<div class=\"epi-form-container\">                            <div data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">                            </div>                         </div>",value:null,metadata:null,propertyFilter:null,defaultContainerWidget:"epi/shell/layout/SimpleContainer",useDefaultValue:null,readOnly:false,doLayout:true,_widgetMap:null,_uiSetUp:false,_aspectHandles:null,postMixInProperties:function(){this.inherited(arguments);this._widgetMap={};this._aspectHandles=[];},startup:function(){if(this._started){return;}this.inherited(arguments);this._setupUI();},destroy:function(_1361){array.forEach(this._aspectHandles,function(item){item.remove();});this._aspectHandles=null;if(this.containerLayout){this.containerLayout.destroyRecursive(_1361);this.containerLayout=null;}this.inherited(arguments);},_getValueAttr:function(){return this.form.get("value");},_setValueAttr:function(value){if(this._formCreated){if(value){this.form.set("value",value);}else{this.form.reset();}}this._set("value",value);},_setMetadataAttr:function(_1362){this._set("metadata",_1362);},_getUseDefaultValueAttr:function(){if(this.useDefaultValue===null){return !this.value;}return this.useDefaultValue;},onGroupCreated:function(_1363,_1364){},onChange:function(value){},onFieldCreated:function(_1365,_1366){},_onFormCreated:function(_1367){if(epi.isEmpty(this.get("value"))){this._onChange();}this.onFormCreated(_1367);},onFormCreated:function(_1368){},_setupUI:function(){var _1369=new _135f();var _136a=this.metadataTransformer||new _1360({propertyFilter:this.propertyFilter});when(this.metadata,lang.hitch(this,function(item){if(false){var _136b=_135e.timedGroup("FormContainer::_setupUI "+arguments.callee.caller.nom);}var _136c=this.get("useDefaultValue");var _136d=_136a.toComponentDefinitions(item,"",_136c,this.readOnly);var _136e=item.layoutType||this.defaultContainerWidget;require([_136e],lang.hitch(this,function(_136f){var _1370=[],_1371=[];this.containerLayout=new _136f();_1370.push(this.containerLayout);this.connect(_1369,"onWidgetCreated",function(_1372,_1373){var _1374=_1370[_1370.length-1];var _1375=_1371.length?_1371[_1371.length-1]:null;this._widgetMap[_1372.id]={parent:_1374,group:_1375};this.own(this.watch("readOnly",lang.hitch(this,function(name,_1376,value){_1372.set("readOnly",value);})));if(_1373.settings._type==="field"){_1372.set("editMode","createcontent");this.connect(_1372,"onChange","_onChange");this._aspectHandles.push(_135a.before(_1372,"focus",lang.hitch(this,function(){this._beforeSetFocus(_1372);})));this.onFieldCreated(_1373.settings.name,_1372);}else{if(_1373.settings._type==="group"){_1371.push(_1372);this.onGroupCreated(_1373.settings.name,_1372,_1375);}else{if(_1373.settings._type==="parent"){_1370.push(_1372);}}}});this.connect(_1369,"onWidgetHierarchyCreated",function(_1377,_1378){if(_1378.settings._type==="group"){_1371.pop();}else{if(_1378.settings._type==="parent"){_1370.pop();}}});when(_1369.createWidgets(this.containerLayout,_136d,false),lang.hitch(this,function(_1379){this.containerLayout.placeAt(this.form.domNode);this._formCreated=true;this.form.connectChildren();if(this.value!==null){this.set("value",this.value);}this.layout();this._uiSetUp=true;this._onFormCreated(this);_1369=null;_1370=null;_1371=null;if(false){_136b.end();}}));this.own(this.form.watch("state",lang.hitch(this,function(name,_137a,value){this.set("state",value);})));}));}));},_onChange:function(){if(!this._uiSetUp){return;}var _137b=this.form.get("value");if(!epi.areEqual(this.value,_137b)){this.value=_137b;this.onChange(_137b);}},focus:function(){},layout:function(){if(!this._started){return;}var child=this.containerLayout;if(child&&child.resize){var size=this._containerContentBox||this._contentBox;child.resize(this.doLayout&&size&&size.w&&size.h?size:null);}},validate:function(){return this._uiSetUp&&this.form.validate();},isValid:function(){return this.validate();},_beforeSetFocus:function(_137c){if(this._widgetMap[_137c.id]){var _137d=this._widgetMap[_137c.id].parent;var group=this._widgetMap[_137c.id].group;this._beforeSetFocus(_137d);if(_137d.selectChild){_137d.selectChild(group);}}}});});},"dijit/form/Form":function(){define("dijit/form/Form",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(_137e,_137f,event,_1380,has,_1381,_1382,_1383,_1384){return _137e("dijit.form.Form",[_1381,_1382,_1383,_1384],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(value){this.encType=value;_137f.set(this.domNode,"encType",value);if(has("ie")){this.domNode.encoding=value;}},reset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};if(!(this.onReset(faux)===false)&&faux.returnValue){this.inherited(arguments,[]);}},onReset:function(){return true;},_onReset:function(e){this.reset(e);event.stop(e);return false;},_onSubmit:function(e){var fp=this.constructor.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){_1380.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){event.stop(e);}},onSubmit:function(){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});});},"epi/shell/MetadataTransformer":function(){define("epi/shell/MetadataTransformer",["dojo/_base/declare","dojo/_base/lang","epi/string","epi/shell/TypeDescriptorManager"],function(_1385,lang,_1386,_1387){return _1385(null,{defaultGroupType:"epi/shell/layout/GroupContainer",defaultSingleGroupType:"epi/shell/layout/SimpleContainer",defaultParentType:"epi/shell/layout/ParentContainer",defaultGroupName:"defaultGroup",defaultGroupTitle:"",propertyFilter:null,_item:null,constructor:function(args){_1385.safeMixin(this,args);},toComponentDefinitions:function(item,_1388,_1389,_138a){this._item=item;var _138b=this._filterProperties(item);return this._getComponentDefinitions(_138b,item.groups,_1388,_1389,_138a);},_filterProperties:function(_138c){var _138d=this.propertyFilter,_138e=_138c.properties;return _138d?_138e.filter(lang.hitch(this,function(prop){return _138d(_138c,prop);})):_138e;},_getComponentDefinitions:function(_138f,_1390,_1391,_1392,_1393){var _1394=lang.clone(_138f)||[],_1395,_1396={},_1397=_1386.pascalToCamel(this.defaultGroupName),_1398,_1399=function(item1,item2){return (item1.displayOrder||0)-(item2.displayOrder||0);};_1395=(_1390||[]).map(function createGroups(group){var _139a=this._createGroupContainer(group,_1393);_1396[_139a.settings.name]=_139a;return _139a;},this);_1395.sort(_1399);_1395.unshift(_1396[_1397]=_1398=this._createGroupContainer({name:_1397,title:this.defaultGroupTitle,displayUI:true},_1393));_1394.sort(_1399);_1394.forEach(function createProperties(_139b){if(!_139b.showForEdit){return;}var _139c=_1386.pascalToCamel(_139b.groupName||""),group=_1396[_139c]||_1398;var _139d=_139b.uiType?this._createPropertyWidget(_139b,_1391,_1392,_1393):this._createParentContainer(_139b,_1391,_1392,_1393);_139d instanceof Array?Array.prototype.push.apply(group.components,_139d):group.components.push(_139d);},this);_1395=_1395.filter(function(group){return group.settings.displayui&&group.components.length;});if(_1395.length===1&&_1395[0].widgetType===this.defaultGroupType){_1395[0].widgetType=this.defaultSingleGroupType;}return _1395;},_createGroupContainer:function(group,_139e){var _139f={_type:"group",name:_1386.pascalToCamel(group.name),title:group.title,readOnly:_139e,displayui:group.displayUI};return {displayOrder:group.displayOrder,settings:lang.mixin(_139f,group.options),widgetType:group.uiType||this.defaultGroupType,components:[]};},_createParentContainer:function(_13a0,_13a1,_13a2,_13a3){var _13a4={_type:"parent",name:_13a1+_1386.pascalToCamel(_13a0.name),title:_13a0.displayName};this._setTranslatedLabelAndTooltip(_13a0.name,_13a4);var _13a5=this._filterProperties(_13a0);return {settings:lang.mixin(_13a4,_13a0.settings),widgetType:_13a0.layoutType||this.defaultParentType,components:this._getComponentDefinitions(_13a5,_13a0.groups,_13a4.name+".",_13a2,_13a3)};},_createPropertyWidget:function(_13a6,_13a7,_13a8,_13a9){var _13aa=lang.mixin(_13a8?{value:_13a6.initialValue}:{},{_type:_13a6.hideSurroundingHtml?"hiddenfield":"field",name:_13a7+_1386.pascalToCamel(_13a6.name),label:_13a6.displayName,selections:_13a6.selections,displayui:_13a6.displayui,readOnly:_13a9},_13a6.settings);this._setTranslatedLabelAndTooltip(_13a6.name,_13aa);return {settings:_13aa,widgetType:_13a6.uiType,widgetPackage:_13a6.uiPackage};},_setTranslatedLabelAndTooltip:function(_13ab,_13ac){var _13ad=this._item.additionalValues&&this._item.additionalValues.modelTypeIdentifier,_13ae;_13ab="properties."+_13ab.toLowerCase();if(!_13ad||!(_13ae=_1387.getResourceValue(_13ad,_13ab))){return;}if(_13ae.caption){_13ac.title=_13ac.label=_13ae.caption;}if(_13ae.help){_13ac.tooltip=_13ae.help;}}});});},"epi/string":function(){define("epi/string",["dojo/_base/kernel","dojo/_base/lang","dojox/html/entities"],function(_13af,lang,_13b0){var _13b1=document.implementation.createHTMLDocument("nonEvaluating").body;return {pascalToCamel:function(input){var parts=input.split(".");var _13b2=this._toCamelCase(parts[0]);for(var i=1;i<parts.length;i++){_13b2+="."+this._toCamelCase(parts[i]);}return _13b2;},_toCamelCase:function(input){if(!input){return "";}if(input[0]===input[0].toLowerCase()){return input;}var _13b3="";for(var i=0;i<input.length;i++){var _13b4=(i+1<input.length);if((i===0||!_13b4)||input[i+1]===input[i+1].toUpperCase()){_13b3+=input[i].toLowerCase();}else{_13b3+=input.substring(i);break;}}return _13b3;},stripHtmlTags:function(input){if(this.isNullOrEmpty(input)){return "";}_13b1.innerHTML=input.replace(/&/gim,"&amp;");return this.removeAllCarriageReturns(_13b1.textContent);},removeAllCarriageReturns:function(input){if(this.isNullOrEmpty(input)){return "";}var _13b5=input.replace(/\t|\r|\n/gim,"");return _13b5.replace(/ {2,}/gim," ");},encodeForWebString:function(input,_13b6){if(this.isNullOrEmpty(input)){return "";}var _13b7=_13b0.encode(input);if(!_13b6||_13b6.length===0){return _13b7;}var _13b8=new RegExp("&lt;(/?("+_13b6.join("|")+")/?\\s*)&gt;","gim");return _13b7.replace(_13b8,"<$1>");},isNullOrEmpty:function(input){return !input||(/^\s*$/).test(input);},toHTML:function(input){if(this.isNullOrEmpty(input)){return "";}return input.replace(/\r\n|\n|\r|\\n/g,"<br/>");},toTooltipText:function(input){if(this.isNullOrEmpty(input)){return "";}return input.replace(/\\n/gim,"\n");},slashName:function(name){_13af.deprecated("epi/string","slashName will be removed since type names with . is no longer supported.","11.0");return name.replace(/\./g,"/");},appendTrailingSlash:function(url){return url.replace(/\/?$/,"/");},truncateMiddle:function(words,_13b9,_13ba){if(typeof words==="string"){words=words.split(/\s+/g);}else{words=words.concat();}if(words.join("").length<=_13b9){return words;}var _13bb=function(words,_13bc,_13bd){if(_13bd){return _13bb(words.reverse(),_13bc).reverse();}var count=0;return words.filter(function(word){count+=word.length;return count<=_13bc;});};var _13be=Math.ceil(_13b9/2);var _13bf=Math.floor(_13b9/2);var _13c0=_13bb(words,_13be);_13ba=_13ba||"&hellip;";_13c0.push(_13ba);return _13c0.concat(_13bb(words,_13bf,true));}};});},"epi/shell/widget/GadgetWrapper":function(){define(["epi","dojo","dijit","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojox/layout/ContentPane","epi/routes","epi/shell/Error","epi/clientResourcesLoader","dojo/NodeList-traverse","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome","epi/i18n!epi/shell/nls/EPiServer.Shell.Resources.Texts"],function(epi,dojo,dijit,_13c1,_13c2,_13c3,_13c4,_13c5,Error,_13c6,_13c7,_13c8,_13c9){var $=epiJQuery,_13ca=epiJQuery;epi.gadget=(function(){var pub={};pub.gadgetIdHash={};pub.getByElement=function(_13cb){_13cb=(_13cb.jquery?_13cb.context:_13cb);var _13cc=dojo.query(_13cb).closest("div.epi-gadgetInner");if(_13cc.length===1){var _13cd=dijit.byNode(_13cc[0]);return _13cd.getInstance();}else{return null;}};pub.getById=function(_13ce){var _13cf=pub.gadgetIdHash[_13ce];if(!_13cf){console.error("Gadget with ID "+_13ce+" is not found in the epi.gadget.gadgetIdHash");return null;}var _13d0=dijit.byId(_13cf);return _13d0.getInstance();};pub.loadView=function(_13d1,_13d2){pub.getByElement(_13d1).loadView(_13d2);};pub.visibilityChanged=function(_13d3,_13d4){pub.getByElement(_13d3).triggerVisibilityChanged();};pub.unload=function(_13d5){pub.getByElement(_13d5).triggerUnload();};return pub;})();return dojo.declare([_13c1,_13c2,_13c3],{res:dojo.mixin({},_13c9,_13c8),componentId:null,element:null,defaultRouteParams:null,routeData:null,templateString:"<div class=\"epi-gadgetInner\" data-dojo-attach-point=\"gadgetContainer\">                              <div class=\"epi-gadgetFeedback\" data-dojo-attach-point=\"gadgetFeedback\">&nbsp;</div>                              <div class=\"epi-gadgetContent\" ioArgs=\"{ preventCache: true }\" data-dojo-type=\"dojox/layout/ContentPane\" data-dojo-attach-point=\"gadgetContent\"></div>                          </div>",stylePaths:null,scriptPaths:null,constructor:function(){this.stylePaths=[];this.scriptPaths=[];},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.routeData){this.set("content","Missing route data");return;}this.defaultRouteParams={};for(var param in this.routeData){if(param[0]!=="_"){this.defaultRouteParams[param]=this.routeData[param];}}var _13d6=epi.clientResourcesLoader.loadResources(this.stylePaths,this.scriptPaths);dojo.when(_13d6,dojo.hitch(this,function(){epi.gadget.gadgetIdHash[this.componentId]=this.id;var _13d7=this.getInstance();_13d7.routeParams=dojo.mixin(this.defaultRouteParams,{gadgetId:this.componentId});this.gadgetContent.set("id","gadget_"+_13d7.id);$(_13d7.element).bind("_epigadgetloadedinternal",dojo.hitch(this,this._onEpiGadgetLoaded));try{if(typeof this.initMethod=="string"){var _13d8=dojo.getObject(this.initMethod);$(_13d7.element).bind("epigadgetinit",_13d8);}}catch(ex){this.setErrorMessage(ex.message);}$(_13d7.element).trigger("epigadgetinit",_13d7);this.connect(this.gadgetContent,"onDownloadEnd",function(){$(_13d7.element).trigger("_epigadgetloadedinternal");});this.loadView(this.defaultRouteParams);}));},destroy:function(){delete epi.gadget.gadgetIdHash[this.componentId];this.inherited(arguments);},getInstance:function(){if(this.instance){return this.instance;}this.instance=this._gadgetInstance();return this.instance;},getId:function(){return this.componentId;},getActionPath:function(_13d9){return _13c5.getActionPath(this._mergeRouteParameters(_13d9),null);},_onEpiGadgetLoaded:function(){var _13da=this.getInstance();$("form.epi-gadgetform",_13da.element).validate({errorElement:"span"});$("form.epi-gadgetform",_13da.element).bind("submit",_13da,this._submitHandler);try{$(_13da.element).trigger("epigadgetloaded",_13da);}catch(err){this.setErrorMessage(this.res.gadgetinitfailed,{details:err.message,errorThrown:true});}},_mergeRouteParameters:function(_13db){return dojo.mixin({},this.defaultRouteParams,_13db);},_submitHandler:function(e){var _13dc=e.data;var _13dd=this;if($(_13dd).valid()){var _13de=_13ca.Event("epigadgetsubmit");_13de.target=_13dd;$(_13dd).trigger(_13de,_13dc);if(!_13de.isDefaultPrevented()){var _13df=$(_13dd).serializeArray();_13df.push({name:"gadgetId",value:_13dc.id});_13dc.ajax({url:_13dd.action,dataType:"html",data:_13df,success:function(data){_13dc.routeParams={};_13dc.gadgetContent.set("content",data.toString());$(_13dc.element).trigger("_epigadgetloadedinternal");}});}}e.preventDefault();},loadView:function(_13e0){this.isVisible=true;var _13e1=this.getInstance();if(_13e0){_13e1.routeParams=_13e0;}else{_13e1.routeParams=this.defaultRouteParams;}var url=_13e1.getActionPath(_13e1.routeParams);this.gadgetContent.set("href",url);},getIsVisible:function(){return this.isVisible;},setErrorMessage:function(_13e2,_13e3){_13e3=dojo.mixin({details:"",status:0,errorThrown:false},_13e3);var _13e4=dojo.query(".epi-gadgetError",this.gadgetContainer);if(_13e4.length===0){_13e4=dojo.create("div",{"class":"epi-feedbackContent-error epi-feedbackContent epi-gadgetError"},this.gadgetContainer,"before");}Error.createErrorMessage(_13e4,_13e2,_13e3.details,_13e3.status,true);dojo.style(_13e4,"display","block");},clearErrorMessage:function(){var _13e5=dojo.query(".epi-gadgetError",this.gadgetContainer);dojo.style(_13e5,"display","none");},setFeedbackMessage:function(_13e6,_13e7){_13e7=dojo.mixin({ajaxLoader:false,feedbackMessage:_13e6,feedbackTitle:"",feedbackHideDelay:0,feedbackFadeOut:false},_13e7);this.gadgetFeedback.innerHTML=_13e7.feedbackMessage;dojo.style(this.gadgetFeedback,"display","block");if(_13e7.ajaxLoader){dojo.addClass(this.gadgetFeedback,"epi-gadgetLoader");}if(_13e7.feedbackHideDelay>0){var self=this;setTimeout(function(){self.clearFeedbackMessage(_13e7);},_13e7.feedbackHideDelay);}else{if(_13e7.feedbackFadeOut){this.clearFeedbackMessage(_13e7);}}},clearFeedbackMessage:function(_13e8){dojo.removeClass(this.gadgetFeedback,"epi-gadgetLoader");if(_13e8&&_13e8.feedbackFadeOut&&dojo.style(this.gadgetFeedback,"display")==="block"){var _13e9={node:this.gadgetFeedback,duration:4000,onEnd:dojo.hitch(this,function(){dojo.style(this.gadgetFeedback,"display","none");dojo.style(this.gadgetFeedback,"opacity","1");})};dojo.fadeOut(_13e9).play();}else{dojo.style(this.gadgetFeedback,"display","none");}},triggerUnload:function(){$(this.getInstance().element).trigger("epigadgetunload",this.getInstance());},triggerVisibilityChanged:function(_13ea){this.isVisible=_13ea;$(this.getInstance().element).trigger("epigadgetvisibilitychanged",this.getInstance());},_gadgetInstance:function(){var _13eb=this;var pub={id:_13eb.componentId,element:_13eb.gadgetContainer,gadgetContent:_13eb.gadgetContent,routeParams:{}};pub.getActionPath=function(_13ec){return _13eb.getActionPath(_13ec);};pub.loadView=function(_13ed){_13eb.loadView(_13ed);};pub.isVisible=function(){return _13eb.getIsVisible();};pub.setErrorMessage=function(_13ee,_13ef){_13eb.setErrorMessage(_13ee,_13ef);};pub.clearErrorMessage=function(){_13eb.clearErrorMessage();};pub.setFeedbackMessage=function(_13f0,_13f1){_13eb.setFeedbackMessage(_13f0,_13f1);};pub.clearFeedbackMessage=function(){_13eb.clearFeedbackMessage();};pub.raiseErrorEvent=function(_13f2){this.error=_13f2;$(this.element).trigger("epigadgeterror",this);this.error=null;};pub.ajax=function(_13f3){var self=this;var _13f4={dataType:"json",feedbackMessage:"",cache:false,type:"POST",ajaxLoader:true,error:function(_13f5,_13f6,_13f7){self.clearFeedbackMessage();self.raiseErrorEvent({xmlHttpRequest:_13f5,status:_13f6,errorThrown:_13f7});self.setErrorMessage("<strong>"+_13eb.res.internalservererror+" ["+_13f5.status+"]</strong>.",{details:_13f5.responseText,status:_13f6,errorThrown:_13f7});},success:function(data){self.clearFeedbackMessage();}};var _13f8=$("input[name=__RequestVerificationToken]",this.element);if(_13f8.length>0){var _13f9={__RequestVerificationToken:_13f8.val()};if(_13f3.data){if(!_13f3.data.__RequestVerificationToken){_13f3.data=$.extend(_13f3.data,_13f9);}}else{_13f3.data=_13f9;}}if($.isFunction(_13f3.success)){var _13fa=_13f3.success;_13f3.success=function(data,_13fb){self.clearFeedbackMessage();_13fa.call(this,data,_13fb);};}if($.isFunction(_13f3.error)){var _13fc=_13f3.error;_13f3.error=function(_13fd,_13fe,_13ff){self.clearFeedbackMessage();_13fc.call(this,_13fd,_13fe,_13ff);};}_13f4=$.extend(_13f4,_13f3);self.setFeedbackMessage("",_13f4);$.ajax(_13f4);};return pub;}});});},"dojox/layout/ContentPane":function(){define("dojox/layout/ContentPane",["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(lang,_1400,_1401,_1402,_1403){return _1403("dojox.layout.ContentPane",_1401,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,ioMethod:_1400.get,ioArgs:{},onExecError:function(e){},_setContent:function(cont){var _1404=this._contentSetter;if(!(_1404&&_1404 instanceof _1402._ContentSetter)){_1404=this._contentSetter=new _1402._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _1405=this.onContentError(e);try{this.containerNode.innerHTML=_1405;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};return this.inherited("_setContent",arguments);},destroy:function(){var _1406=this._contentSetter;if(_1406){_1406.tearDown();}this.inherited(arguments);}});});},"dojox/html/_base":function(){define("dojox/html/_base",["dojo/_base/declare","dojo/Deferred","dojo/dom-construct","dojo/html","dojo/_base/kernel","dojo/_base/lang","dojo/ready","dojo/_base/sniff","dojo/_base/url","dojo/_base/xhr","dojo/when","dojo/_base/window"],function(_1407,_1408,_1409,_140a,_140b,lang,ready,has,_140c,_140d,when,_140e){var html=_140b.getObject("dojox.html",true);if(has("ie")){var _140f=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _1410=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _1411=html._adjustCssPaths=function(_1412,_1413){if(!_1413||!_1412){return;}if(_140f){_1413=_1413.replace(_140f,function(_1414,pre,delim,url,post){return pre+(new _140c(_1412,"./"+url).toString())+post;});}return _1413.replace(_1410,function(_1415,_1416,_1417,_1418,_1419,media){if(_1417){return "@import \""+(new _140c(_1412,"./"+_1417).toString())+"\""+media;}else{return "url("+(new _140c(_1412,"./"+_1419).toString())+")"+media;}});};var _141a=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _141b=html._adjustHtmlPaths=function(_141c,cont){var url=_141c||"./";return cont.replace(_141a,function(tag,start,name,delim,_141d,_141e,_141f,end){return start+(name?(name+"="+delim+(new _140c(url,_141d).toString())+delim):("style="+_141e+_1411(url,_141f)+_141e))+end;});};var _1420=html._snarfStyles=function(_1421,cont,_1422){_1422.attributes=[];cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_1423){return _1423.replace(/<(\/?)style\b/ig,"&lt;$1Style").replace(/<(\/?)link\b/ig,"&lt;$1Link").replace(/@import "/ig,"@ import \"");});return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_1424,_1425,_1426,_1427,delim,href){var i,attr=(_1425||_1427||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_1426){i=_1422.push(_1421?_1411(_1421,_1426):_1426);}else{i=_1422.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var atObj={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");atObj[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_1422.attributes[i-1]=atObj;}return "";});};var _1428=html._snarfScripts=function(cont,byRef){byRef.code="";cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_1429){return _1429.replace(/<(\/?)script\b/ig,"&lt;$1Script");});function _142a(src){if(byRef.downloadRemote){src=src.replace(/&([a-z0-9#]+);/g,function(m,name){switch(name){case "amp":return "&";case "gt":return ">";case "lt":return "<";default:return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";}});_140d.get({url:src,sync:true,load:function(code){byRef.code+=code+";";},error:byRef.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,function(_142b,delim,src,code){if(src){_142a(src);}else{byRef.code+=code;}return "";});};var _142c=html.evalInGlobal=function(code,_142d){_142d=_142d||_140e.doc.body;var n=_142d.ownerDocument.createElement("script");n.type="text/javascript";_142d.appendChild(n);n.text=code;};html._ContentSetter=_1407(_140a._ContentSetter,{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_142e){this._styleNodes=[];var st,att,_142f,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_142e.length;i<e;i++){_142f=_142e[i];att=_142e.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_142f;}else{st.appendChild(doc.createTextNode(_142f));}}},empty:function(){this.inherited("empty",arguments);this._styles=[];},onBegin:function(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _1430=this._styles;if(lang.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_141b(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_1420(this.referencePath,cont,_1430);}if(this.executeScripts){var _1431=this;var byRef={downloadRemote:true,errBack:function(e){_1431._onError.call(_1431,"Exec","Error downloading remote script in \""+_1431.id+"\"",e);}};cont=_1428(cont,byRef);this._code=byRef.code;}}this.content=cont;},onEnd:function(){var code=this._code,_1432=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_1409.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_1432&&_1432.length){this._renderStyles(_1432);}var d=new _1408();var _1433=this.getInherited(arguments),args=arguments,_1434=lang.hitch(this,function(){_1433.apply(this,args);when(this.parseDeferred,function(){d.resolve();});});if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_142c(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}ready(_1434);}else{_1434();}return d.promise;},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_1409.destroy(this._styleNodes.pop());}}delete this._styleNodes;lang.mixin(this,html._ContentSetter.prototype);}});html.set=function(node,cont,_1435){if(!_1435){return _140a._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_1435,{content:cont,node:node}));return op.set();}};return html;});},"epi/shell/Error":function(){define("epi/shell/Error",["dojo","dijit/Dialog","epi/i18n!epi/shell/nls/episerver.shell.resources.texts"],function(dojo,_1436,res){return {openErrorDialog:function(_1437,_1438){var _1439=new _1436({title:res.error,style:"width: 600px",content:_1438});_1439.show();},createErrorMessage:function(_143a,_143b,_143c,_143d,_143e){if(_143b){if(!_143c){_143e=false;}if(_143e){_143b=_143b+" <br/><a href='#' class='epi-openErrorDialogButton'>"+res.errormoreinformationtext+"</a>";}_143a.innerHTML=_143b;dojo.query(".epi-openErrorDialogButton").connect("onclick",dojo.hitch(this,function(){this.openErrorDialog(_143a,_143c);}));}},showDialogWithElementContent:function(_143f){this.openErrorDialog(dojo.body(),_143f.innerHTML);}};});},"dojo/NodeList-traverse":function(){define("dojo/NodeList-traverse",["./query","./_base/lang","./_base/array"],function(_1440,lang,array){var _1441=_1440.NodeList;lang.extend(_1441,{_buildArrayFromCallback:function(_1442){var ary=[];for(var i=0;i<this.length;i++){var items=_1442.call(this[i],this[i],ary);if(items){ary=ary.concat(items);}}return ary;},_getUniqueAsNodeList:function(nodes){var ary=[];for(var i=0,node;node=nodes[i];i++){if(node.nodeType==1&&array.indexOf(ary,node)==-1){ary.push(node);}}return this._wrap(ary,null,this._NodeListCtor);},_getUniqueNodeListWithParent:function(nodes,query){var ary=this._getUniqueAsNodeList(nodes);ary=(query?_1440._filterResult(ary,query):ary);return ary._stash(this);},_getRelatedUniqueNodes:function(query,_1443){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(_1443),query);},children:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){return lang._toArray(node.childNodes);});},closest:function(query,root){return this._getRelatedUniqueNodes(null,function(node,ary){do{if(_1440._filterResult([node],query,root).length){return node;}}while(node!=root&&(node=node.parentNode)&&node.nodeType==1);return null;});},parent:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){return node.parentNode;});},parents:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];while(node.parentNode){node=node.parentNode;pary.push(node);}return pary;});},siblings:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];var nodes=(node.parentNode&&node.parentNode.childNodes);for(var i=0;i<nodes.length;i++){if(nodes[i]!=node){pary.push(nodes[i]);}}return pary;});},next:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var next=node.nextSibling;while(next&&next.nodeType!=1){next=next.nextSibling;}return next;});},nextAll:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];var next=node;while((next=next.nextSibling)){if(next.nodeType==1){pary.push(next);}}return pary;});},prev:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var prev=node.previousSibling;while(prev&&prev.nodeType!=1){prev=prev.previousSibling;}return prev;});},prevAll:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];var prev=node;while((prev=prev.previousSibling)){if(prev.nodeType==1){pary.push(prev);}}return pary;});},andSelf:function(){return this.concat(this._parent);},first:function(){return this._wrap(((this[0]&&[this[0]])||[]),this);},last:function(){return this._wrap((this.length?[this[this.length-1]]:[]),this);},even:function(){return this.filter(function(item,i){return i%2!=0;});},odd:function(){return this.filter(function(item,i){return i%2==0;});}});return _1441;});},"epi/shell/widget/GlobalMenu":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/event","dojo/NodeList-traverse","dojo/dom-attr","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/query","dojo/topic","dojo/text!./templates/GlobalMenu.html","dijit/focus","dijit/_Container","dijit/_TemplatedMixin","dijit/_Widget","epi/Url","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GlobalMenu","dojo/has","dgrid/util/has-css3"],function(_1444,lang,event,_1445,_1446,_1447,_1448,_1449,query,topic,_144a,_144b,_144c,_144d,_144e,Url,_144f,has){return _1444([_144e,_144d,_144c],{res:_144f,templateString:_144a,_focusNode:null,_siteUrl:null,openClass:"epi-globalNavigation--open",hoverClass:"epi-globalNavigation--hover",shadowClass:"epi-globalNavigation--shadow",hiddenClass:"dijitHidden",postCreate:function(){this.inherited(arguments);this._focusNode=query(".epi-navigation-selected > a",this.containerNode)[0];this.connect(this,"onBlur",function(){this._toggleGlobalSearch(false);this._hideMenu();});this.connect(this.domNode,"onmouseenter",this._toggleHintOn);this.connect(this.domNode,"onmouseleave",this._toggleHintOff);this.connect(this.accordionNode,"onclick",this._showMenu);this.connect(this.expandCollapseContainer,"onclick",this._toggleMenu);this._hideMenu();topic.subscribe("/epi/shell/context/changed",lang.hitch(this,"_onContextChanged"));if(has("css-transitions")){this.connect(this.accordionNode,has("transitionend"),lang.hitch(this,function(){if(this._isOpen()){_144b.focus(this._focusNode);return;}if(_1448.contains(this.accordionNode,this.hoverClass)){return;}_1448.add(this.containerNode,this.hiddenClass);}));}},_getContentHeight:function(){return _1449.getContentBox(this.containerNode).h;},_toggleMenu:function(e){if(this._isOpen()){this._hideMenu();}else{this._showMenu();}event.stop(e);},_toggleHintOn:function(){if(this._isOpen()){return;}_1448.add(this.accordionNode,this.hoverClass);},_toggleHintOff:function(){if(this._isOpen()){return;}_1448.remove(this.accordionNode,this.hoverClass);},_showMenu:function(){_1448.remove(this.accordionNode,this.hoverClass);_1448.add(this.accordionNode,this.openClass);_1448.remove(this.containerNode,this.hiddenClass);_1447.set(this.accordionNode,"height",this._getContentHeight()+"px");_1448.add(this.domNode,this.shadowClass);},_hideMenu:function(){_1448.remove(this.accordionNode,this.hoverClass);_1448.remove(this.accordionNode,this.openClass);_1448.remove(this.domNode,this.shadowClass);_1447.set(this.accordionNode,"height","0px");},_isOpen:function(){return _1448.contains(this.accordionNode,this.openClass);},_getToViewModeElement:function(){var _1450=query(".epi-navigation-container-utils",this.element)[0];return query(".epi-navigation-global_sites.epi-navigation-currentSite.epi-navigation-iconic",_1450)[0];},_onContextChanged:function(ctx,_1451){var _1452=this._getToViewModeElement();if(!_1452){return;}var url=this._buildPublicUrl(ctx,_1452);var title=lang.replace(this.res.toviewmode,[url.toString()]);_1446.set(_1452,{href:url.path,title:title});},_buildPublicUrl:function(ctx,_1453){if(this._siteUrl===null){this._siteUrl=_1453.href;}var _1454=new Url(ctx.publicUrl||this._siteUrl);var _1455=window.location;var _1456={scheme:_1455.protocol,authority:_1455.host,path:_1454.path};var url=new Url(null,_1456,true);return url;},_toggleGlobalSearch:function(_1457){var _1458=query("#epi-searchContainer")[0];if(_1458){_1447.set(_1458,"display",_1457?"block":"none");}}});});},"url:epi/shell/widget/templates/GlobalMenu.html":"<div>\r\n    <div data-dojo-attach-point=\"accordionNode\" class=\"epi-navigation-accordioncontainer\">\r\n        <div data-dojo-attach-point=\"containerNode\" class=\"${hiddenClass}\" style=\"position:absolute; bottom:0; left:0; width:100%\"></div>\r\n    </div>\r\n    <div data-dojo-attach-point=\"expandCollapseContainer\" class=\"epi-navigation-expandcollapseContainer\">\r\n        <a data-dojo-attach-point=\"expandCollapseButton\" href=\"javascript:void(0)\" class=\"epi-navigation-expandcollapseBtn\"\r\n            tabindex=\"0\"><span class=\"epi-navigation-expandcollapseIcon\"></span></a>\r\n    </div>\r\n</div>\r\n","dgrid/util/has-css3":function(){define(["dojo/has"],function(has){var _1459=["ms","O","Moz","Webkit"];function _145a(_145b,_145c){var style=_145b.style,i;if(_145c in style){return true;}_145c=_145c.slice(0,1).toUpperCase()+_145c.slice(1);for(i=_1459.length;i--;){if((_1459[i]+_145c) in style){return _1459[i];}}return false;};has.add("css-transitions",function(_145d,doc,_145e){return _145a(_145e,"transitionProperty");});has.add("css-transforms",function(_145f,doc,_1460){return _145a(_1460,"transform");});has.add("css-transforms3d",function(_1461,doc,_1462){return _145a(_1462,"perspective");});has.add("transitionend",function(){var tpfx=has("css-transitions");if(!tpfx){return false;}if(tpfx===true){return "transitionend";}return {ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[tpfx];});return has;});},"epi/shell/widget/HelpButton":function(){define(["dojo/_base/declare","dojo/i18n","epi","epi/dependency","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./templates/HelpButton.htm"],function(_1463,i18n,epi,_1464,_1465,_1466,_1467){return _1463([_1465,_1466],{moduleName:null,webHelpAlias:null,helpUrl:null,templateString:_1467,commonRes:epi.resources,postMixInProperties:function(){if(this.helpUrl===null){var _1468=_1464.resolve("epi.ModuleManager");var _1469=_1468.getModule(this.moduleName);this.helpUrl=_1469.helpPath+"#"+this.webHelpAlias;}this.inherited(arguments);}});});},"url:epi/shell/widget/templates/HelpButton.htm":"<span><a target=\"_blank\" href=\"${helpUrl}\" title=\"${commonRes.action.help}\" onclick=\"window.open('${helpUrl}','_blank', 'scrollbars=yes, height=500, location=no, menubar=no, resizable=yes, toolbar=no, width=840');return false;\" class=\"epi-helpIcon\">&nbsp;</a></span>","epi/shell/widget/IframeWithOverlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","dojo/number","dojo/aspect","dojo/dom-geometry","dojo/dom-style","dojo/dom-construct","dojo/dom-class","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","./_ScrollbarMeasurementMixin","./AutoResizingIframe","./overlay/OverlayContainer","epi/shell/layout/_LayoutWidget","epi/shell/widget/DelayableStandby","dojo/text!./templates/IframeWithOverlay.html"],function(_146a,lang,array,has,_146b,_146c,_146d,_146e,_146f,_1470,_1471,_1472,_1473,_1474,_1475,_1476,_1477,_1478){return _146a([_1476,_1471,_1472,_1473],{templateString:_1478,autoResize:true,previewSize:null,devicePreviewClass:"",previewClass:"",standbySettings:{delayTime:3000,duration:350},postCreate:function(){this.inherited(arguments);this.overlay.set("target",this.iframe);this._setupStandby();},startup:function(){if(this._started){return;}this.inherited(arguments);this.connect(this.iframe,"onUnload",function(){this._standby.show();});this.connect(this.iframe,"onLoad",function(url){_1470.toggle(this.scroller,"epi-editorViewport-preview-external",!this.iframe.isInspectable());this._standby.hide();});this.own(_146c.after(this.iframe,"onAfterResize",function(){this.emit("viewportresized");}.bind(this),true));this._setCenterViewport(this._availableViewport||this._contentBox||_146d.getContentBox(this.containerNode),true);},addChild:function(_1479,_147a){function show(){this.layout();array.forEach(_1479.getChildren(),function(_147b){_147b.connect(_147b,"onLayoutChanged",lang.hitch(this,function(){if(_1479.open){this.layout();}}));},this);};_1479.connect(_1479,"onAfterShow",lang.hitch(this,show));_1479.connect(_1479,"onAfterHide",lang.hitch(this,this._hide));this.inherited(arguments);},onLayoutChanged:function(){this.inherited(arguments);this.getChildren().forEach(lang.hitch(this,function(_147c){if(_147c.open){this.scrollIntoView(_147c.overlayItem);}else{if(_147c!==this.iframe||_147c!==this.overlay){this._hide();}}}));},layout:function(force){if(!this._contentBox){return;}this._layoutChildren(force);this.inherited(arguments);},_layoutChildren:function(force){if(force){this._resetScroll();}this._positionChildren();this._setCenterViewport(this._availableViewport,force);},_positionChildren:function(){var _147d=this.get("centerSize");this._availableViewport=lang.mixin({},this._contentBox);_146e.set(this.scroller,{width:""});var _147e=this.getScrollbars(this.scroller);array.forEach(this.getChildren(),function(child){if(child===this.iframe||child===this.overlay||child.open===false||child.visible===false){return;}var _147f;switch(child.region){case "leading":if(child.resize){child.resize({t:0,l:0,h:this._contentBox.h-_147e.x});}_147f=_146d.position(child.domNode);this._availableViewport.w-=_147f.w;this._availableViewport.l+=_147f.w;break;case "trailing":if(child.resize){if(!child._computedStyle){child._computedStyle=_146e.getComputedStyle(child.domNode);}_147f=_146d.getMarginBox(child.domNode,child._computedStyle);child.resize({t:0,h:this._contentBox.h-_147e.x});_146e.set(child.domNode,{right:_147e.y+"px"});_146e.set(this.scroller,{width:(this._availableViewport.w-_147f.w)+"px"});this._availableViewport.w-=_147f.w+_147e.y;}break;case "center":if(child.resize){child.resize(_147d);}break;default:break;}},this);},_setCenterViewport:function(_1480,_1481){var _1482=lang.clone(this.get("centerSize")),_1483,_1484;function _1485(_1486,axis){var _1487=_1480[_1486],_1488=_1482[_1486],size=_1487>_1488?(_1487-_1488)/2:0;size-=_1484[axis];return Math.round(size);};if(!_1482){return;}this.previewContainer._computedStyle=this.previewContainer._computedStyle||_146e.getComputedStyle(this.previewContainer);_1484=_146d.getPadBorderExtents(this.previewContainer,this.previewContainer._computedStyle);if(!this.autoResize){_1483=this.getScrollbarSize();_1482.w=parseInt(_1482.w)+_1483.x;_1482.h=parseInt(_1482.h);}_146e.set(this.previewContainer,{top:_1485("h","t")+"px",left:_1485("w","l")+"px",width:_1482.w+"px",height:_1482.h+"px"});this.iframe.resize(_1482,!!_1481);},onViewportPullDown:function(){this.emit("viewportpulldown");},scrollIntoView:function(_1489){var _148a,_148b,_148c,_148d=16;if(this.iframe.isLoading||!this._contentBox){return;}this._layoutChildren();if((!this.autoResize&&this.previewSize.w<this._availableViewport.w)){return;}_148a=_1489.get("position");_148b=_148a.x+_148a.w+_148d-this.scroller.scrollLeft-this._availableViewport.w;_148c=this.previewContainer.clientWidth+_148b;_146e.set(this.scrollSizer,{width:_148c+"px"});this.previewContainer.scrollLeft=_148b;this._positionChildren(this.get("centerSize"));},_resetScroll:function(){_146e.set(this.scrollSizer,{width:"1px"});},_setupStandby:function(){var _148e=lang.mixin(this.standbySettings,{target:this.scroller});this.own(this._standby=new _1477(_148e).placeAt(this.domNode,"last"));},_getCenterSizeAttr:function(){return this.previewSize||this._contentBox;},_setPreviewSizeAttr:function(size){this.autoResize=!size;this.previewSize=size;_1470.toggle(this.scroller,"epi-editorViewport-preview",!this.autoResize);this.layout();},_setDevicePreviewClassAttr:function(value){if(value){_1470.replace(this.scroller,value,this.devicePreviewClass);}else{_1470.remove(this.scroller,this.devicePreviewClass);}this._set("devicePreviewClass",value);},_setPreviewClassAttr:function(value){if(value){_1470.replace(this.scroller,value,this.previewClass);}else{_1470.remove(this.scroller,this.previewClass);}this._set("previewClass",value);},_hide:function(){this._resetScroll();_146e.set(this.scroller,{width:""});this._setCenterViewport(this._contentBox);},showDelay:function(delay){this._standby.show(delay);},hideDelay:function(delay){this._standby.hide();}});});},"dojo/number":function(){define("dojo/number",["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_148f,_1490,_1491){var _1492={};lang.setObject("dojo.number",_1492);_1492.format=function(value,_1493){_1493=lang.mixin({},_1493||{});var _1494=i18n.normalizeLocale(_1493.locale),_1495=i18n.getLocalization("dojo.cldr","number",_1494);_1493.customs=_1495;var _1496=_1493.pattern||_1495[(_1493.type||"decimal")+"Format"];if(isNaN(value)||Math.abs(value)==Infinity){return null;}return _1492._applyPattern(value,_1496,_1493);};_1492._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_1492._applyPattern=function(value,_1497,_1498){_1498=_1498||{};var group=_1498.customs.group,_1499=_1498.customs.decimal,_149a=_1497.split(";"),_149b=_149a[0];_1497=_149a[(value<0)?1:0]||("-"+_149b);if(_1497.indexOf("%")!=-1){value*=100;}else{if(_1497.indexOf("‰")!=-1){value*=1000;}else{if(_1497.indexOf("¤")!=-1){group=_1498.customs.currencyGroup||group;_1499=_1498.customs.currencyDecimal||_1499;_1497=_1497.replace(/\u00a4{1,3}/,function(match){var prop=["symbol","currency","displayName"][match.length-1];return _1498[prop]||_1498.currency||"";});}else{if(_1497.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _149c=_1492._numberPatternRE;var _149d=_149b.match(_149c);if(!_149d){throw new Error("unable to find a number expression in pattern: "+_1497);}if(_1498.fractional===false){_1498.places=0;}return _1497.replace(_149c,_1492._formatAbsolute(value,_149d[0],{decimal:_1499,group:group,places:_1498.places,round:_1498.round}));};_1492.round=function(value,_149e,_149f){var _14a0=10/(_149f||10);return (_14a0*+value).toFixed(_149e)/_14a0;};if((0.9).toFixed()==0){var round=_1492.round;_1492.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return round(v,p,m)+(v>0?d:-d);};}_1492._formatAbsolute=function(value,_14a1,_14a2){_14a2=_14a2||{};if(_14a2.places===true){_14a2.places=0;}if(_14a2.places===Infinity){_14a2.places=6;}var _14a3=_14a1.split("."),comma=typeof _14a2.places=="string"&&_14a2.places.indexOf(","),_14a4=_14a2.places;if(comma){_14a4=_14a2.places.substring(comma+1);}else{if(!(_14a4>=0)){_14a4=(_14a3[1]||[]).length;}}if(!(_14a2.round<0)){value=_1492.round(value,_14a4,_14a2.round);}var _14a5=String(Math.abs(value)).split("."),_14a6=_14a5[1]||"";if(_14a3[1]||_14a2.places){if(comma){_14a2.places=_14a2.places.substring(0,comma);}var pad=_14a2.places!==undefined?_14a2.places:(_14a3[1]&&_14a3[1].lastIndexOf("0")+1);if(pad>_14a6.length){_14a5[1]=_1490.pad(_14a6,pad,"0",true);}if(_14a4<_14a6.length){_14a5[1]=_14a6.substr(0,_14a4);}}else{if(_14a5[1]){_14a5.pop();}}var _14a7=_14a3[0].replace(",","");pad=_14a7.indexOf("0");if(pad!=-1){pad=_14a7.length-pad;if(pad>_14a5[0].length){_14a5[0]=_1490.pad(_14a5[0],pad);}if(_14a7.indexOf("#")==-1){_14a5[0]=_14a5[0].substr(_14a5[0].length-pad);}}var index=_14a3[0].lastIndexOf(","),_14a8,_14a9;if(index!=-1){_14a8=_14a3[0].length-index-1;var _14aa=_14a3[0].substr(0,index);index=_14aa.lastIndexOf(",");if(index!=-1){_14a9=_14aa.length-index-1;}}var _14ab=[];for(var whole=_14a5[0];whole;){var off=whole.length-_14a8;_14ab.push((off>0)?whole.substr(off):whole);whole=(off>0)?whole.slice(0,off):"";if(_14a9){_14a8=_14a9;delete _14a9;}}_14a5[0]=_14ab.reverse().join(_14a2.group||",");return _14a5.join(_14a2.decimal||".");};_1492.regexp=function(_14ac){return _1492._parseInfo(_14ac).regexp;};_1492._parseInfo=function(_14ad){_14ad=_14ad||{};var _14ae=i18n.normalizeLocale(_14ad.locale),_14af=i18n.getLocalization("dojo.cldr","number",_14ae),_14b0=_14ad.pattern||_14af[(_14ad.type||"decimal")+"Format"],group=_14af.group,_14b1=_14af.decimal,_14b2=1;if(_14b0.indexOf("%")!=-1){_14b2/=100;}else{if(_14b0.indexOf("‰")!=-1){_14b2/=1000;}else{var _14b3=_14b0.indexOf("¤")!=-1;if(_14b3){group=_14af.currencyGroup||group;_14b1=_14af.currencyDecimal||_14b1;}}}var _14b4=_14b0.split(";");if(_14b4.length==1){_14b4.push("-"+_14b4[0]);}var re=_1491.buildGroupRE(_14b4,function(_14b5){_14b5="(?:"+_1491.escapeString(_14b5,".")+")";return _14b5.replace(_1492._numberPatternRE,function(_14b6){var flags={signed:false,separator:_14ad.strict?group:[group,""],fractional:_14ad.fractional,decimal:_14b1,exponent:false},parts=_14b6.split("."),_14b7=_14ad.places;if(parts.length==1&&_14b2!=1){parts[1]="###";}if(parts.length==1||_14b7===0){flags.fractional=false;}else{if(_14b7===undefined){_14b7=_14ad.pattern?parts[1].lastIndexOf("0")+1:Infinity;}if(_14b7&&_14ad.fractional==undefined){flags.fractional=true;}if(!_14ad.places&&(_14b7<parts[1].length)){_14b7+=","+parts[1].length;}flags.places=_14b7;}var _14b8=parts[0].split(",");if(_14b8.length>1){flags.groupSize=_14b8.pop().length;if(_14b8.length>1){flags.groupSize2=_14b8.pop().length;}}return "("+_1492._realNumberRegexp(flags)+")";});},true);if(_14b3){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(match,_14b9,_14ba,after){var prop=["symbol","currency","displayName"][_14ba.length-1],_14bb=_1491.escapeString(_14ad[prop]||_14ad.currency||"");_14b9=_14b9?"[\\s\\xa0]":"";after=after?"[\\s\\xa0]":"";if(!_14ad.strict){if(_14b9){_14b9+="*";}if(after){after+="*";}return "(?:"+_14b9+_14bb+after+")?";}return _14b9+_14bb+after;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:group,decimal:_14b1,factor:_14b2};};_1492.parse=function(_14bc,_14bd){var info=_1492._parseInfo(_14bd),_14be=(new RegExp("^"+info.regexp+"$")).exec(_14bc);if(!_14be){return NaN;}var _14bf=_14be[1];if(!_14be[1]){if(!_14be[2]){return NaN;}_14bf=_14be[2];info.factor*=-1;}_14bf=_14bf.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _14bf*info.factor;};_1492._realNumberRegexp=function(flags){flags=flags||{};if(!("places" in flags)){flags.places=Infinity;}if(typeof flags.decimal!="string"){flags.decimal=".";}if(!("fractional" in flags)||/^0/.test(flags.places)){flags.fractional=[true,false];}if(!("exponent" in flags)){flags.exponent=[true,false];}if(!("eSigned" in flags)){flags.eSigned=[true,false];}var _14c0=_1492._integerRegexp(flags),_14c1=_1491.buildGroupRE(flags.fractional,function(q){var re="";if(q&&(flags.places!==0)){re="\\"+flags.decimal;if(flags.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+flags.places+"}";}}return re;},true);var _14c2=_1491.buildGroupRE(flags.exponent,function(q){if(q){return "([eE]"+_1492._integerRegexp({signed:flags.eSigned})+")";}return "";});var _14c3=_14c0+_14c1;if(_14c1){_14c3="(?:(?:"+_14c3+")|(?:"+_14c1+"))";}return _14c3+_14c2;};_1492._integerRegexp=function(flags){flags=flags||{};if(!("signed" in flags)){flags.signed=[true,false];}if(!("separator" in flags)){flags.separator="";}else{if(!("groupSize" in flags)){flags.groupSize=3;}}var _14c4=_1491.buildGroupRE(flags.signed,function(q){return q?"[-+]":"";},true);var _14c5=_1491.buildGroupRE(flags.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_1491.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=flags.groupSize,grp2=flags.groupSize2;if(grp2){var _14c6="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_14c6+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_14c6;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _14c4+_14c5;};return _1492;});},"epi/shell/widget/AutoResizingIframe":function(){define(["dojo/_base/declare","./Iframe","./_AutoResizingIframeMixin","./_DynamicStyleSheetIframeMixin"],function(_14c7,_14c8,_14c9,_14ca){return _14c7([_14c8,_14c9,_14ca],{});});},"epi/shell/widget/_AutoResizingIframeMixin":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom-attr","dojo/dom-style","dojo/has","epi/shell/postMessage","epi/shell/widget/_ScrollbarMeasurementMixin"],function(_14cb,_14cc,_14cd,_14ce,has,_14cf,_14d0){return _14cb([_14d0],{onAfterResize:function(size){},postCreate:function(){var self=this,_14d1="/site/resize"+(this.name?"/"+this.name:"");this.inherited(arguments);this.own(_14cf.subscribe(_14d1,function(_14d2){self.contentChange();}));},checkSize:function(){_14cf.publish("/site/checksize",{},this.getWindow());},onLoad:function(){if(this.isInspectable()){this.setOverflow("hidden");}this.inherited(arguments);},onUnload:function(){this.inherited(arguments);if(this._contentBox){_14ce.set(this.iframe,{width:this._contentBox.w+"px",height:this._contentBox.h+"px"});}},contentChange:function(){if(this._contentBox){this.resize(this._contentBox,true);}},resize:function(size,force){var self=this,def=this._resize(size,force);def.then(function(_14d3){self.onAfterResize(_14d3);});return def;},_resize:function(size,force){var _14d4=this._contentBox||{h:0,w:0},self=this,_14d5=new _14cc(),_14d6=new _14cc(),_14d7={h:size.h,w:size.w};function _14d8(_14d9){if(self.resizeThrottle){clearTimeout(self.resizeThrottle);self.resizeThrottle=null;}self.resizeThrottle=setTimeout(function(){_14ce.set(self.iframe,{width:(_14d9.w)+"px",height:_14d9.h+"px"});_14d5.resolve();},50);return _14d5;};if(force||(size&&(size.h!==_14d4.h||size.w!==_14d4.w))){this._contentBox=size;if(this.isInspectable()){_14d7.w-=this.getScrollbarSize().x;}_14d8(_14d7).then(function(){var _14da={h:0,w:0};if(self.isInspectable()){_14da=self._setToDocumentSize(_14d7);}_14d6.resolve(_14da);});}return _14d6.promise;},_setToDocumentSize:function(_14db){this.setOverflow("visible");var _14dc={w:Math.max(this.iframe.contentDocument.body.scrollWidth,_14db.w),h:Math.max(this.iframe.contentDocument.documentElement.scrollHeight,_14db.h)};if(_14dc.w>0&&_14dc.h>0){_14ce.set(this.iframe,{width:_14dc.w+"px",height:_14dc.h+"px"});}this.setOverflow("hidden");_14cd.set(this.iframe,"data-epi-ipad-ping","pong");return _14dc;},setOverflow:function(_14dd){var doc=this.getDocument();if(doc&&doc.documentElement&&doc.body){_14ce.set(doc.documentElement,{overflow:_14dd});_14ce.set(doc.body,{overflow:_14dd});}}});});},"epi/shell/widget/_DynamicStyleSheetIframeMixin":function(){define(["dojo/_base/declare","dijit/Destroyable","epi/shell/DynamicStyleSheet"],function(_14de,_14df,_14e0){return _14de([_14df],{cssRules:null,postMixInProperties:function(){this.inherited(arguments);this.cssRules=[];},postCreate:function(){this.inherited(arguments);this.own(this.watch("isLoading",this._isLoadingHandler));this._setup();},destroy:function(){if(this._css){this._css.destroy();}this.inherited(arguments);},addCssRules:function(rules){var _14e1=rules instanceof Array;_14e1?this.cssRules=this.cssRules.concat(rules):this.cssRules.push(rules);if(this._css){_14e1?this._css.addRules(rules):this._css.addRule(rules);}},_isLoadingHandler:function(name,_14e2,_14e3){if(_14e3){if(this._css){this._css.destroy();}}else{this._setup();}},_setup:function(){if(this.isInspectable()){this._css=new _14e0({doc:this.getDocument(),rules:this.cssRules});}}});});},"epi/shell/DynamicStyleSheet":function(){define("epi/shell/DynamicStyleSheet",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(array,_14e4,_14e5){return _14e4(null,{doc:null,_styleSheet:null,_ruleIndexes:null,_addedRules:null,constructor:function(_14e6){if(!_14e6||!_14e6["doc"]){throw new Error("No doc parameter specified");}this._doc=_14e6["doc"];this._addedRules=[];this._ruleIndexes=[];var rules=_14e6["rules"];if(rules&&rules.length>0){this.addRules(rules);}},destroy:function(){delete this._styleSheet;delete this._doc;},addRules:function(rules){var _14e7=[];array.forEach(rules,function(rule){_14e7.push(this.addRule(rule.selector,rule.css));},this);return _14e7;},addRule:function(_14e8,css){var self,_14e9=this._getStyleSheet();function _14ea(_14eb){var _14ec=self._ruleIndexes[_14eb],_14ed=self._ruleIndexes.length;if(_14ec===undefined){return;}_14e9.deleteRule?_14e9.deleteRule(_14ec):_14e9.removeRule(_14ec);self._ruleIndexes[_14eb]=undefined;for(var i=_14eb;i<_14ed;i++){if(self._ruleIndexes[i]>_14ec){self._ruleIndexes[i]--;}}_14e9=null;};var index=this._ruleIndexes.length;if(_14e9){this._ruleIndexes[index]=(_14e9.cssRules||_14e9.rules).length;_14e9.addRule?_14e9.addRule(_14e8,css):_14e9.insertRule(_14e8+"{"+css+"}",this._ruleIndexes[index]);}return {remove:function(){_14ea(index);}};},_getStyleSheet:function(){if(this._styleSheet){return this._styleSheet;}var _14ee=_14e5.create("style",{type:"text/css"},this._doc.getElementsByTagName("head")[0]);return this._styleSheet=_14ee.sheet||_14ee.styleSheet;}});});},"epi/shell/widget/overlay/OverlayContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/dom-style","dijit/_Container","dijit/_WidgetBase","dijit/_TemplatedMixin","epi/shell/postMessage"],function(array,_14ef,_14f0,lang,_14f1,_14f2,_14f3,_14f4,_14f5){return _14ef([_14f3,_14f2,_14f4],{updateInterval:250,enabled:false,target:null,targetCoverEnabled:false,templateString:"<div data-dojo-attach-point=\"containerNode\" class=\"epi-overlay-container\"><div data-dojo-attach-point=\"targetCover\" class=\"epi-overlay-targetCover\"></div></div>",startup:function(){if(this._started){return;}this.inherited(arguments);this._toggleTargetCover(this.enabled);this.subscribe("/dnd/start",function(){this.set("targetCoverEnabled",true);});this.subscribe("/dnd/cancel",function(){this.set("targetCoverEnabled",false);});this.subscribe("/dnd/drop",function(){this.set("targetCoverEnabled",false);});this.connect(this.target,"onUnload",this.disconnectOverlayItems);this.connect(this.target,"onAfterResize",this._onAfterResizeHandler);},addChild:function(_14f6,_14f7){this.inherited(arguments);_14f6.set("parent",this);_14f6.resize();if(_14f6.onResize){_14f6.own(_14f6.on("resize",this._onContentChange.bind(this)));}},disconnectOverlayItems:function(){this.set("enabled",false);array.forEach(this.getChildren(),lang.hitch(this,function(_14f8){_14f8.set("sourceItemNode",null);}));},_setReadOnlyAttr:function(_14f9){this._set("readOnly",_14f9);array.forEach(this.getChildren(),lang.hitch(this,function(_14fa){_14fa.set("readOnly",_14f9);}));},_onAfterResizeHandler:function(_14fb){this.set("documentSize",_14fb);this._updateOverlayItems(true);},_onContentChange:function(){this.target.contentChange();},_updateOverlayItems:function(_14fc){if(!this.get("enabled")||this.isUpdating||!this.target.isInspectable()){return;}var _14fd=4;var _14fe=1;var dirty;var _14ff;this.isUpdating=true;do{dirty=false;array.forEach(this.getChildren(),function(_1500){var _1501=_1500.get("position");_14ff=_1501.isChanged||_14ff;if(_1501.isChanged){dirty=_1500.updatePosition(_1501)||dirty;}},this);}while(dirty&&_14fe++<_14fd);this.isUpdating=false;if(_14fe>=2||!_14fc&&_14ff){this.target.contentChange();}else{if(!_14fc){this.target.checkSize();}}},_toggleTargetCover:function(_1502){var _1503=this.get("documentSize");if(_1502&&_1503){_14f1.set(this.targetCover,{width:(_1503.w)+"px",height:(_1503.h)+"px"});}_14f1.set(this.targetCover,{display:_1502?"block":"none"});},_togglePoller:function(_1504){var self=this;function _1505(){self._updateOverlayItems();if(self.updateInterval>0){self._pollerToken=setTimeout(_1505,self.updateInterval);}};if(self._pollerToken){clearTimeout(self._pollerToken);}if(_1504){_1505();}},_setUpdateIntervalAttr:function(_1506){this._set("updateInterval",_1506);this._togglePoller(_1506>0);},_setEnabledAttr:function(value){this._set("enabled",value);if(value){this._updateOverlayItems();}array.forEach(this.getChildren(),function(w){w.set("disabled",!value);},this);this._togglePoller(value);_14f1.set(this.domNode,{display:value?"":"none"});},_setTargetCoverEnabledAttr:function(value){if(this.targetCoverEnabled===value){return;}this._toggleTargetCover(value);this._set("targetCoverEnabled",value);}});});},"epi/shell/layout/_LayoutWidget":function(){define(["dojo/_base/declare","dijit/layout/_LayoutWidget"],function(_1507,_1508){return _1507([_1508],{onLayoutChanged:function(){},layout:function(){this.inherited(arguments);this.onLayoutChanged();}});});},"epi/shell/widget/DelayableStandby":function(){define(["dojo/_base/declare","dojo/_base/lang","dojox/widget/Standby"],function(_1509,lang,_150a){return _1509([_150a],{delayTime:300,showTimeOut:30000,color:"#FFFFFF",_timeoutId:-1,_isShowing:false,destroy:function(){this._clearTimeout();this.inherited(arguments);},show:function(_150b,_150c){var _150d=arguments;this._clearTimeout();this._isShowing=true;if(typeof _150b!==undefined&&_150b===0){this.inherited(_150d);}else{this._timeoutId=setTimeout(lang.hitch(this,function(){var _150e=_150c||this.showTimeOut;if(_150e>=0){this._timeoutId=setTimeout(lang.hitch(this,function(){this.hide();}),_150e);}this.inherited(_150d);}),_150b||this.delayTime);}},hide:function(){this._isShowing=false;this._clearTimeout();this.inherited(arguments);},_clearTimeout:function(){if(this._timeoutId>=0){clearTimeout(this._timeoutId);}},_getIsShowingAttr:function(){return this._isShowing;}});});},"dojox/widget/Standby":function(){define("dojox/widget/Standby",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/window","dojo/_base/window","dojo/_base/fx","dojo/fx","dijit/_Widget","dijit/_TemplatedMixin","dijit/registry"],function(_150f,_1510,array,event,has,dom,attr,_1511,_1512,_1513,_1514,_1515,_1516,fx,_1517,_1518,_1519){_150f.experimental("dojox.widget.Standby");return _1510("dojox.widget.Standby",[_1517,_1518],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:0.75,templateString:"<div>"+"<div style=\"display: none; opacity: 0; z-index: 9999; "+"position: absolute; cursor:wait;\" dojoAttachPoint=\"_underlayNode\"></div>"+"<img src=\"${image}\" style=\"opacity: 0; display: none; z-index: -10000; "+"position: absolute; top: 0px; left: 0px; cursor:wait;\" "+"dojoAttachPoint=\"_imageNode\">"+"<div style=\"opacity: 0; display: none; z-index: -10000; position: absolute; "+"top: 0px;\" dojoAttachPoint=\"_textNode\"></div>"+"</div>",_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:false,_resizeCheck:null,_started:false,_parent:null,startup:function(args){if(!this._started){if(typeof this.target==="string"){var w=_1519.byId(this.target);this.target=w?w.domNode:dom.byId(this.target);}if(this.text){this._textNode.innerHTML=this.text;}if(this.centerIndicator==="image"){this._centerNode=this._imageNode;attr.set(this._imageNode,"src",this.image);attr.set(this._imageNode,"alt",this.imageText);}else{this._centerNode=this._textNode;}_1513.set(this._underlayNode,{display:"none",backgroundColor:this.color});_1513.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");if(this.domNode.parentNode&&this.domNode.parentNode!=_1515.body()){_1515.body().appendChild(this.domNode);}if(has("ie")==7){this._ieFixNode=_1511.create("div");_1513.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"});_1515.body().appendChild(this._ieFixNode);}this.inherited(arguments);}},show:function(){if(!this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._displayed=true;this._size();this._disableOverflow();this._fadeIn();}},hide:function(){if(this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._size();this._fadeOut();this._displayed=false;if(this._resizeCheck!==null){clearInterval(this._resizeCheck);this._resizeCheck=null;}}},isVisible:function(){return this._displayed;},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=false;if(this._resizeCheck){clearInterval(this._resizeCheck);}_1513.set(this._centerNode,"display","none");_1513.set(this._underlayNode,"display","none");if(has("ie")==7&&this._ieFixNode){_1515.body().removeChild(this._ieFixNode);delete this._ieFixNode;}if(this._anim){this._anim.stop();delete this._anim;}this.target=null;this._imageNode=null;this._textNode=null;this._centerNode=null;this.inherited(arguments);},_size:function(){if(this._displayed){var dir=attr.get(_1515.body(),"dir");if(dir){dir=dir.toLowerCase();}var _151a;var _151b=this._scrollerWidths();var _151c=this.target;var _151d=_1513.get(this._centerNode,"display");_1513.set(this._centerNode,"display","block");var box=_1512.position(_151c,true);if(_151c===_1515.body()||_151c===_1515.doc){box=_1514.getBox();box.x=box.l;box.y=box.t;}var _151e=_1512.getMarginBox(this._centerNode);_1513.set(this._centerNode,"display",_151d);if(this._ieFixNode){_151a=-this._ieFixNode.offsetTop/1000;box.x=Math.floor((box.x+0.9)/_151a);box.y=Math.floor((box.y+0.9)/_151a);box.w=Math.floor((box.w+0.9)/_151a);box.h=Math.floor((box.h+0.9)/_151a);}var zi=_1513.get(_151c,"zIndex");var ziUl=zi;var ziIn=zi;if(this.zIndex==="auto"){if(zi!="auto"){ziUl=parseInt(ziUl,10)+1;ziIn=parseInt(ziIn,10)+2;}else{var cNode=_151c.parentNode;var oldZi=-100000;while(cNode&&cNode!==_1515.body()&&_151c!==_1515.body()){zi=_1513.get(cNode,"zIndex");if(!zi||zi==="auto"){cNode=cNode.parentNode;}else{var newZi=parseInt(zi,10);if(oldZi<newZi){oldZi=newZi;ziUl=newZi+1;ziIn=newZi+2;}cNode=cNode.parentNode;}}}}else{ziUl=parseInt(this.zIndex,10)+1;ziIn=parseInt(this.zIndex,10)+2;}_1513.set(this._centerNode,"zIndex",ziIn);_1513.set(this._underlayNode,"zIndex",ziUl);var pn=_151c.parentNode;if(pn&&pn!==_1515.body()&&_151c!==_1515.body()&&_151c!==_1515.doc){var obh=box.h;var obw=box.w;var pnBox=_1512.position(pn,true);if(this._ieFixNode){_151a=-this._ieFixNode.offsetTop/1000;pnBox.x=Math.floor((pnBox.x+0.9)/_151a);pnBox.y=Math.floor((pnBox.y+0.9)/_151a);pnBox.w=Math.floor((pnBox.w+0.9)/_151a);pnBox.h=Math.floor((pnBox.h+0.9)/_151a);}pnBox.w-=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_151b.v:0;pnBox.h-=pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_151b.h:0;if(dir==="rtl"){if(has("opera")){box.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_151b.v:0;pnBox.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_151b.v:0;}else{if(has("ie")){pnBox.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_151b.v:0;}else{if(has("webkit")){}}}}if(pnBox.w<box.w){box.w=box.w-pnBox.w;}if(pnBox.h<box.h){box.h=box.h-pnBox.h;}var vpTop=pnBox.y;var _151f=pnBox.y+pnBox.h;var bTop=box.y;var _1520=box.y+obh;var _1521=pnBox.x;var _1522=pnBox.x+pnBox.w;var bLeft=box.x;var _1523=box.x+obw;var delta;if(_1520>vpTop&&bTop<vpTop){box.y=pnBox.y;delta=vpTop-bTop;var _1524=obh-delta;if(_1524<pnBox.h){box.h=_1524;}else{box.h-=2*(pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_151b.h:0);}}else{if(bTop<_151f&&_1520>_151f){box.h=_151f-bTop;}else{if(_1520<=vpTop||bTop>=_151f){box.h=0;}}}if(_1523>_1521&&bLeft<_1521){box.x=pnBox.x;delta=_1521-bLeft;var _1525=obw-delta;if(_1525<pnBox.w){box.w=_1525;}else{box.w-=2*(pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_151b.w:0);}}else{if(bLeft<_1522&&_1523>_1522){box.w=_1522-bLeft;}else{if(_1523<=_1521||bLeft>=_1522){box.w=0;}}}}if(box.h>0&&box.w>0){_1513.set(this._underlayNode,{display:"block",width:box.w+"px",height:box.h+"px",top:box.y+"px",left:box.x+"px"});var _1526=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];this._cloneStyles(_1526);if(!has("ie")){_1526=["MozBorderRadius","MozBorderRadiusTopleft","MozBorderRadiusTopright","MozBorderRadiusBottomleft","MozBorderRadiusBottomright","WebkitBorderRadius","WebkitBorderTopLeftRadius","WebkitBorderTopRightRadius","WebkitBorderBottomLeftRadius","WebkitBorderBottomRightRadius"];this._cloneStyles(_1526,this);}var _1527=(box.h/2)-(_151e.h/2);var _1528=(box.w/2)-(_151e.w/2);if(box.h>=_151e.h&&box.w>=_151e.w){_1513.set(this._centerNode,{top:(_1527+box.y)+"px",left:(_1528+box.x)+"px",display:"block"});}else{_1513.set(this._centerNode,"display","none");}}else{_1513.set(this._underlayNode,"display","none");_1513.set(this._centerNode,"display","none");}if(this._resizeCheck===null){var self=this;this._resizeCheck=setInterval(function(){self._size();},100);}}},_cloneStyles:function(list){array.forEach(list,function(s){_1513.set(this._underlayNode,s,_1513.get(this.target,s));},this);},_fadeIn:function(){var self=this;var _1529=_1516.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:0,end:self.opacity}}});var _152a=_1516.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){self.onShow();delete self._anim;}});this._anim=fx.combine([_1529,_152a]);this._anim.play();},_fadeOut:function(){var self=this;var _152b=_1516.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:self.opacity,end:0}},onEnd:function(){_1513.set(this.node,{"display":"none","zIndex":"-1000"});}});var _152c=_1516.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){_1513.set(this.node,{"display":"none","zIndex":"-1000"});self.onHide();self._enableOverflow();delete self._anim;}});this._anim=fx.combine([_152b,_152c]);this._anim.play();},_ignore:function(e){if(e){event.stop(e);}},_scrollerWidths:function(){var div=_1511.create("div");_1513.set(div,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var iDiv=_1511.create("div");_1513.set(iDiv,{width:"200px",height:"10px"});div.appendChild(iDiv);_1515.body().appendChild(div);var b=_1512.getContentBox(div);_1513.set(div,"overflow","scroll");var a=_1512.getContentBox(div);_1515.body().removeChild(div);return {v:b.w-a.w,h:b.h-a.h};},_setTextAttr:function(text){this._textNode.innerHTML=text;this.text=text;},_setColorAttr:function(c){_1513.set(this._underlayNode,"backgroundColor",c);this.color=c;},_setImageTextAttr:function(text){attr.set(this._imageNode,"alt",text);this.imageText=text;},_setImageAttr:function(url){attr.set(this._imageNode,"src",url);this.image=url;},_setCenterIndicatorAttr:function(_152d){this.centerIndicator=_152d;if(_152d==="image"){this._centerNode=this._imageNode;_1513.set(this._textNode,"display","none");}else{this._centerNode=this._textNode;_1513.set(this._imageNode,"display","none");}},_disableOverflow:function(){if(this.target===_1515.body()||this.target===_1515.doc){this._overflowDisabled=true;var body=_1515.body();if(body.style&&body.style.overflow){this._oldOverflow=_1513.get(body,"overflow");}else{this._oldOverflow="";}if(has("ie")&&!has("quirks")){if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){this._oldBodyParentOverflow=body.parentNode.style.overflow;}else{try{this._oldBodyParentOverflow=_1513.get(body.parentNode,"overflow");}catch(e){this._oldBodyParentOverflow="scroll";}}_1513.set(body.parentNode,"overflow","hidden");}_1513.set(body,"overflow","hidden");}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var body=_1515.body();if(has("ie")&&!has("quirks")){body.parentNode.style.overflow=this._oldBodyParentOverflow;delete this._oldBodyParentOverflow;}_1513.set(body,"overflow",this._oldOverflow);if(has("webkit")){var div=_1511.create("div",{style:{height:"2px"}});body.appendChild(div);setTimeout(function(){body.removeChild(div);},0);}delete this._oldOverflow;}}});});},"url:epi/shell/widget/templates/IframeWithOverlay.html":"<div data-dojo-attach-point=\"containerNode\" class=\"epi-editorViewport\">\r\n    <div data-dojo-attach-point=\"scroller\" class=\"epi-editorViewport-center\">\r\n        <div data-dojo-attach-point=\"previewContainer\" class=\"epi-editorViewport-previewBox\"  data-dojo-props=\"region: 'center'\">\r\n            <iframe data-dojo-attach-point=\"iframe\" data-dojo-type=\"epi/shell/widget/AutoResizingIframe\" data-dojo-props=\"autoFit : false\" name=\"sitePreview\"></iframe>\r\n            <div data-dojo-attach-point=\"overlay\" data-dojo-type=\"epi/shell/widget/overlay/OverlayContainer\"></div>\r\n            <div data-dojo-attach-point=\"scrollSizer\" class=\"epi-editorViewport-scrollSizer\"></div>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/LabeledInput":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./templates/_LabeledInput_Top.htm","dojo/text!./templates/_LabeledInput_Bottom.htm","dojo/text!./templates/_LabeledInput_Left.htm","dojo/text!./templates/_LabeledInput_Right.htm"],function(_152e,lang,_152f,_1530,_1531,_1532,_1533,_1534,_1535){return _152e([_1530,_1531],{templateString:null,postMixInProperties:function(){var _1536=this.params.labelPos;switch(_1536){case 2:this.templateString=_1533;break;case 3:this.templateString=_1534;break;case 4:this.templateString=_1535;break;default:this.templateString=_1532;break;}},postCreate:function(){var _1537=this.params;if(_1537.wrappedDojoType){var _1538=_1537.wrappedDojoType;var _1539=_1537.label;delete _1537.wrappedDojoType;delete _1537.labelPos;require([_1538],lang.hitch(this,function(ctor){var _153a=new ctor(_1537,this.input);_152f.set(this.label,"for",_153a.id);}));this.label.innerHTML=_1539;}}});});},"url:epi/shell/widget/templates/_LabeledInput_Top.htm":"<div>\r\n\t<div class=\"editor-label\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Bottom.htm":"<div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div class=\"editor-label\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Left.htm":"<div>\r\n\t<div class=\"editor-label\" style=\"float:left;\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div style=\"clear: both;\"></div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Right.htm":"<div>\r\n\t<div class=\"editor-label\" style=\"float: right;\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div style=\"clear: both;\"></div>\r\n</div>\r\n","epi/shell/widget/LicenseInformation":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/when","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/Button","epi/dependency","dojo/text!./templates/LicenseInformation.html","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.licenseinformation"],function(_153b,lang,_153c,_153d,topic,when,_153e,_153f,_1540,_1541,_1542,_1543,_1544){return _153b([_153e,_153f,_1540],{templateString:_1543,licenseInformationStore:null,visible:false,_res:_1544,postMixInProperties:function(){this.inherited(arguments);var _1545=_1542.resolve("epi.storeregistry");this.licenseInformationStore=this.licenseInformationStore||_1545.get("epi.shell.licenseinformation");},buildRendering:function(){this.inherited(arguments);when(this.licenseInformationStore.query(),lang.hitch(this,this._bindInformation));},_setVisibleAttr:function(value){if(!value&&value===this.visible){return;}this._set("visible",value);_153d.set(this.domNode,"display",value?"":"none");topic.publish("/epi/shell/globalnavigation/layoutchange");},_onRefreshButtonClick:function(){when(this.licenseInformationStore.refresh("1"),lang.hitch(this,this._bindInformation));},_bindInformation:function(_1546){if(!_1546||_1546.isValid){this.set("visible",false);}else{this.mainInfoNode.innerHTML=_1546.message;this.additionalInfoNode.innerHTML=_1546.additionalInformation;this.set("visible",true);}}});});},"url:epi/shell/widget/templates/LicenseInformation.html":"<div class=\"epi-notificationBar epi-status-bar--error\" style=\"display:none;\">\r\n    <div class=\"epi-notificationBarItem\">\r\n        <div class=\"epi-notificationBarText\">\r\n            <p><strong data-dojo-attach-point=\"mainInfoNode\"></strong></p>\r\n            <p data-dojo-attach-point=\"additionalInfoNode\"></p>\r\n        </div>\r\n        <div class=\"epi-notificationBarButtonContainer\">\r\n            <button data-dojo-type=\"dijit/form/Button\" class=\"epi-chromelessButton\" data-dojo-attach-event=\"onClick: _onRefreshButtonClick\">${_res.refresh}</button>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/MenuGroup":function(){define(["dojo","dijit/MenuSeparator","dojo/text!./templates/MenuGroup.htm"],function(dojo,_1547,_1548){return dojo.declare([_1547],{templateString:_1548,label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"}});});},"url:epi/shell/widget/templates/MenuGroup.htm":"<li class=\"epi-menugGoup\">\r\n    <span data-dojo-attach-point=\"containerNode\"></span>\r\n</li>","epi/shell/widget/overlay/_Base":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-construct","dojo/dom-style","dojo/has","dijit/_Widget"],function(_1549,_154a,_154b,_154c,has,_154d){return _1549([_154d],{disabled:false,sourceItemNode:null,position:null,parent:null,adjustForMargins:true,onResize:function(){},destroy:function(){this.sourceItemNode=null;this.parent=null;this.inherited(arguments);},refresh:function(){this._reset();this.resize();this.onResize();},resize:function(size){size=size||this.get("position");this.updatePosition(size);},updatePosition:function(_154e){if(!this.canUpdatePosition()){return false;}_154c.set(this.domNode,{left:_154e.x+"px",top:_154e.y+"px",width:_154e.w+"px",height:_154e.h+"px"});if(_154e.y<1&&_154e.w<1){_154c.set(this.domNode,{display:"none"});}else{_154c.set(this.domNode,{display:""});}return false;},_getPositionAttr:function(){if(!this.canUpdatePosition()){return {x:0,y:0,w:0,h:0};}var _154f=_154a.position(this.sourceItemNode,false),_1550=this._rawPosition,_1551,_1552,_1553;if(_1550){if(has("ie")){_1551=Math.abs((_1550.x-_154f.x))>1||Math.abs((_1550.y-_154f.y))>1||Math.abs((_1550.w-_154f.w))>1||Math.abs((_1550.h-_154f.h))>1;}else{_1551=_1550.x!==_154f.x||_1550.y!==_154f.y||_1550.w!==_154f.w||_1550.h!==_154f.h;}if(!_1551){this.position.isChanged=false;return this.position;}}this._rawPosition={x:_154f.x,y:_154f.y,w:_154f.w,h:_154f.h};if(this.adjustForMargins){_1552=_154c.getComputedStyle(this.sourceItemNode);if(_1552){_1553=_154a.getMarginExtents(this.sourceItemNode,_1552);if(_1553.l<0){_154f.x-=_1553.l;_154f.w+=_1553.l;}if(_1553.r<0){_154f.w-=_1553.r;}if(_1553.t<0){_154f.x-=_1553.t;_154f.h+=_1553.t;}if(_1553.b<0){_154f.h-=_1553.b;}}}_154f.isChanged=true;this.set("position",_154f);return _154f;},_reset:function(){this._clearPosition();},_clearPosition:function(){this.position=this._rawPosition=null;},_setDisabledAttr:function(_1554){this._set("disabled",_1554);_154c.set(this.domNode,{display:_1554?"none":""});},_setSourceItemNodeAttr:function(value){this._clearPosition();this._set("sourceItemNode",value);},canUpdatePosition:function(){if(this.disabled){return false;}try{if(!this.sourceItemNode||!this.sourceItemNode.ownerDocument){return false;}}catch(ex){return false;}return true;}});});},"epi/shell/widget/overlay/Item":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/mouse","dojo/on","dojo/when","dijit/_CssStateMixin","dijit/_TemplatedMixin","./_Base","epi/shell/dnd/Target"],function(array,_1555,lang,_1556,_1557,mouse,on,when,_1558,_1559,_155a,_155b){return _1555([_155a,_1559,_1558],{baseClass:"epi-overlay-item",name:"",_setDisplayNameAttr:function(value){if(this.informationNode){this.informationNode.textContent=value;}},templateString:"<div data-dojo-attach-point=\"item\">                            <div data-dojo-attach-point=\"containerNode\" class=\"epi-overlay-item-container\">                                <span data-dojo-attach-point=\"informationNode\" class=\"epi-overlay-item-info\"></span>                                <div class=\"epi-overlay-bracket\"></div>                            </div>                        </div>",allowedDndTypes:null,error:false,childItems:null,parent:null,onClick:function(_155c,e){},onDrop:function(_155d,_155e){},onMouseEnter:function(e){},onMouseLeave:function(e){},constructor:function(){this.childItems=[];},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"click",lang.hitch(this,function(e){this.onClick(this,e);})),on(this.domNode,mouse.enter,lang.hitch(this,this.onMouseEnter)),on(this.domNode,mouse.leave,lang.hitch(this,this.onMouseLeave)));this.transferDndControlTo(this);},destroy:function(){if(this.parent&&this.parent.removeChild){this.parent.removeChild(this);}for(var i=0;i<this.childItems.length;i++){this.childItems[i].destroyRecursive();}this.childItems=null;if(this._dropTarget){this._dropTarget.destroy();this._dropTarget=null;}this.inherited(arguments);},resize:function(size){this.inherited(arguments);if(this.childItems){array.forEach(this.childItems,function(item,i){item.resize();});}},updatePosition:function(_155f){var node=this.informationNode;if(node){var _1560=_1557.get(node,"minHeight");_1556.toggle(node,"epi-overlay-item-info--inside",_155f.y<_1560);}return this.inherited(arguments);},transferDndControlTo:function(_1561){var _1562=_1561.allowedDndTypes,_1563=_1561.restrictedDndTypes,_1564=_1561.onDropData,_1565=_1561;if(this._dropDataHandler){this.disconnect(this._dropDataHandler);this._dropDataHandler=null;}if(!this._dropTarget){this._setupDnd(_1565,_1562,_1563,_1564);}else{this.own(this._dropDataHandler=this.connect(this._dropTarget,"onDropData",lang.hitch(_1561,_1564)));var types=_1562;this._dropTarget.accept={};if(types){types.forEach(function(type){this._dropTarget.accept[type]=1;},this);}var _1566=this.reject;if(_1566){for(var i=0;i<_1566.length;++i){this._dropTarget.accept[_1566[i]]=0;}}}},onDropData:function(_1567,_1568,items,copy){var _1569;if(_1567.length>1){_1569=_1567.data;}else{if(_1567.length===1){_1569=_1567[0].data;}}when(_1569,lang.hitch(this,function(_156a){var value;if(this.dndSourcePropertyName){value=_156a[this.dndSourcePropertyName];}else{value=_156a;}this.onDrop(this,value);}));},_setupDnd:function(_156b,_156c,_156d,_156e){if(_156c){this._dropTarget=new _155b(this.domNode,{accept:_156c,reject:_156d,createItemOnDrop:false});this._dropDataHandler=this.connect(this._dropTarget,"onDropData",lang.hitch(_156b,_156e));this.own(this._dropTarget,this._dropDataHandler);}},_setReadOnlyAttr:function(_156f){this._set("readOnly",_156f);if(this._dropTarget){this._dropTarget.readOnly=_156f;}},_setErrorAttr:function(value){this.set("state",value?"Error":"");this._set("error",value);}});});},"epi/shell/widget/PropagatingContainer":function(){define(["epi","dojo","dijit","dijit/_Widget","dijit/_Container","dijit/_Contained"],function(epi,dojo,dijit,_1570,_1571,_1572){return dojo.declare([_1570,_1571,_1572],{buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitContainer");},set:function(_1573,value){this.inherited(arguments);dojo.forEach(this.getChildren(),function(child){child.set(_1573,value);});}});});},"epi/shell/widget/SpaceToolbarSeparator":function(){define(["epi","dojo","dijit","dijit/ToolbarSeparator"],function(epi,dojo,dijit,_1574){return dojo.declare([_1574],{templateString:"<div class=\"epi-spaceToolbarSeparator dijitInline\" role=\"presentation\"></div>"});});},"epi/shell/widget/TabContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/aspect","dojo/dom-class","dijit/layout/ContentPane","dijit/layout/TabContainer","dijit/registry","epi","epi/dependency","epi/shell/widget/layout/ComponentContainer","epi/shell/widget/dialog/Confirmation","epi/shell/widget/TabController","epi/shell/widget/dialog/Alert","epi/shell/widget/_ActionConsumerWidget","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.TabContainer"],function(array,_1575,_1576,lang,_1577,_1578,_1579,_157a,_157b,epi,_157c,_157d,_157e,_157f,Alert,_1580,res){return _1575([_157a,_1580],{controllerWidget:_157f,_selectedPage:null,_componentsController:null,res:res,confirmationBeforeRemoval:true,startup:function(){if(this._started){return;}this.inherited(arguments);this.connect(this.tablist,"onLayoutChanged",this._changeLayout);this.connect(this.tablist,"onTabTitleChanged",this._changeName);this.connect(this.tablist,"onAddNewTab",this._createTab);this._componentsController=_157c.resolve("epi.shell.controller.Components");if(this.getChildren().length<=0){this._createTab();}},postCreate:function(){this.inherited(arguments);_1578.add(this.domNode,"epi-mainApplicationArea");},_makeController:function(){var _1581=this.inherited(arguments);this.connect(_1581,"onSelectChild",this._pageSelected);var _1582=[{label:this.res.addgadget,onClick:lang.hitch(this,this._showComponentDialog)},{label:this.res.createtab,onClick:lang.hitch(this,this._createTab)},{label:this.res.rearrangegadget,onChange:lang.hitch(this,this._rearrangeGadgets),type:"checkedmenuitem",checked:false,rearrangeGadgets:function(_1583){this.set("checked",_1583);}}];array.forEach(_1582,_1581.addAddMenuItem,_1581);return _1581;},_rearrangeGadgets:function(_1584){if(this._selectedPage){this._selectedPage.changeLockButtonState(_1584);}},_showComponentDialog:function(){if(this._selectedPage){this._selectedPage.showComponentSelector();}},_componentSelected:function(){var _1585=this._selectedPage;_1585.addComponent.apply(_1585,arguments);},_pageSelected:function(page){this._selectedPage=page;},_createTab:function(){var _1586=this._componentsController.getComponentDefinition(this.id);this._componentsController.getEmptyComponentDefinition("EPiServer.Shell.ViewComposition.Containers.ComponentContainer",lang.hitch(this,function(_1587){var comp=_1587[0];comp.settings.numberOfColumns=2;comp.settings.containerUnlocked=true;comp.settings.closable=true;this._componentsController.addComponent(this,comp,lang.hitch(this,function(resp){var _1588=this.getChildren();this.selectChild(_1588[_1588.length-1]);}));}));},_changeName:function(page,value){if(this._isEmpty(value)){this._showMessageDialog(this.res.tabnamecannotbeemptymessage).then(function(_1589){if(_1589){page.controlButton.tabName.innerHTML=page.controlButton.tabCurrentName;page.controlButton._setTabTitleEditable(true);}});}else{var _158a=String(page.title);var item=this._componentsController.getComponentDefinition(page.id);page.title=value;page.tabCurrentName=value;if(item){item.settings.personalizableHeading=value;this._componentsController.saveComponents([item],function(){},lang.hitch(this,function(){this._showMessageDialog(this.res.tabnamecouldnotbesaved).then(function(_158b){if(_158b){page.set("title",_158a);page.set("tabCurrentName",_158a);page.controlButton.revertTabTitleChanges(true,_158a,value);}});}));}else{}}},_getNumberOfColumns:function(evt){if(!evt||!evt.target){return 1;}var _158c=_157b.getEnclosingWidget(evt.target);if(!_158c||!_158c.column){return 1;}return _158c.column;},_changeLayout:function(page,evt){var _158d=this._getNumberOfColumns(evt),item=null;if(typeof page.setColumns=="function"){page.setColumns(_158d);}item=this._componentsController.getComponentDefinition(page.id);if(item){item.settings.numberOfColumns=_158d;this._componentsController.saveComponents([item]);}else{}},closeChild:function(page){if(this.getChildren().length===1){return;}if(!this.confirmationBeforeRemoval){this.inherited(arguments);this._removeTab(page);}else{return this._showRemovalConfirmationDialog(lang.hitch(this,function(close){if(close){_157a.prototype.closeChild.apply(this,[page]);this._removeTab(page);}}));}},_removeTab:function(page){var item=this._componentsController.getComponentDefinition(page.id);this._componentsController.removeComponent(item.id);var _158e=this.getChildren().length;if(_158e===1){for(var _158f in this.tablist.pane2button){this.tablist.pane2button[_158f].closeTabMenuItem.set("disabled",true);}}},_showRemovalConfirmationDialog:function(_1590){var _1591=new _157e({description:this.res.removetabquestion,title:epi.resources.header.episerver,onAction:_1590});_1591.show();},_showMessageDialog:function(_1592){var _1593=new _1576();var _1594=new Alert({description:_1592});_1594.show();_1577.after(_1594,"destroy",function(){_1593.resolve(true);});return _1593;},_isEmpty:function(_1595){return (lang.trim(_1595)===""?true:false);}});});},"epi/shell/widget/TabController":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-geometry","dojo/_base/array","dojo/query","dojo/sniff","dijit/layout/ScrollingTabController","dijit/layout/StackController","dijit/layout/utils","dijit/form/DropDownButton","dijit/form/TextBox","dijit/CheckedMenuItem","dijit/InlineEditBox","dijit/Menu","dijit/MenuItem","dijit/PopupMenuItem","dijit/MenuSeparator","dijit/registry","epi/shell/widget/_TabButton","dojo/text!./templates/_TabController.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome"],function(_1596,lang,_1597,_1598,array,query,has,_1599,_159a,_159b,_159c,_159d,_159e,_159f,Menu,_15a0,_15a1,_15a2,_15a3,_15a4,_15a5,res){return _1596(_1599,{buttonWidget:_15a4,res:res,useAddMenu:true,templateString:_15a5,onAddChild:function(page,_15a6){this.inherited(arguments);this.connect(page.controlButton,"onClick",lang.hitch(this,"onButtonClick",page));this.connect(page.controlButton,"onClickCloseButton",lang.hitch(this,"onCloseButtonClick",page));this.connect(page.controlButton,"onCloseMenuItem",lang.hitch(this,"onCloseButtonClick",page));this.connect(page.controlButton,"onLayoutClick",lang.hitch(this,"onLayoutChanged",page));this.connect(page.controlButton,"onTabTitleChanged",lang.hitch(this,"onTabTitleChanged",page));if(!this.isLeftToRight()&&has("ie")&&this._rectifyRtlTabList){this._rectifyRtlTabList();}var _15a7;if(this.useMenu){var _15a8=this.containerId;_15a7=new _15a0({id:page.id+"_stcMi",label:page.title,dir:page.dir,lang:page.lang,onClick:lang.hitch(this,function(){var _15a9=_15a3.byId(_15a8);_15a9.selectChild(page);})});this._menuChildren[page.id]=_15a7;this._menu.addChild(_15a7,_15a6);}_1597.set(this.containerNode,"width",(_1597.get(this.containerNode,"width")+200)+"px");var _15aa=page.params.numberOfColumns||1;var _15ab=page.controlButton.menuLayout.getChildren()[_15aa-1];_15ab&&_15ab.set("checked",true);var _15ac=this.getChildren().length;for(var _15ad in this.pane2button){this.pane2button[_15ad].closeTabMenuItem.set("disabled",(_15ac===1?true:false));}},_initButtons:function(){this._menuChildren={};this._btnWidth=0;this._buttons=query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn===this._menuBtn.domNode)||(this.useAddMenu&&btn===this._addBtn.domNode)||(this.useSlider&&(btn===this._rightBtn.domNode||btn===this._leftBtn.domNode))){this._btnWidth+=_1598.getMarginBox(btn).w;return true;}else{_1597.set(btn,"display","none");return false;}},this);if(this.useMenu){this._menu=new Menu({id:this.id+"_menu",dir:this.dir,lang:this.lang,targetNodeIds:[this._menuBtn.domNode],leftClickToOpen:true,refocus:false});this._supportingWidgets.push(this._menu);}_1597.set(this._addBtn.domNode,"display",this.useAddMenu?"":"none");},addAddMenuItem:function(_15ae){if(!this.useAddMenu){return;}var _15af=null;if(_15ae.type&&_15ae.type==="checkedmenuitem"){_15af=new _159e(_15ae);}else{_15af=new _15a0(_15ae);}if(_15af){this._addMenu.addChild(_15af);}},resize:function(dim){if(this.domNode.offsetWidth===0){return;}this._dim=dim;this.scrollNode.style.height="auto";this._contentBox=_159b.marginBox2contentBox(this.domNode,{h:0,w:dim.w});this._contentBox.h=this.scrollNode.offsetHeight;_1598.setContentSize(this.domNode,this._contentBox);var _15b0=this._enableBtn(this._contentBox.w);this._buttons.style("display",_15b0?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";this._addBtn.layoutAlign=this.isLeftToRight()?"right":"left";_159b.layoutChildren(this.domNode,this._contentBox,[this._addBtn,this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()==="playing"){this._anim.stop();}var w=this.scrollNode,sl=this._convertToScrollLeft(this._getScrollForSelectedTab());w.scrollLeft=sl;}this._setButtonClass(this._getScroll());_1597.set(this._toolbar.domNode,"height",_1598.position(this.domNode).h+"px");this._postResize=true;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){this.pane2button[this._currentChild.id].toggleMenu(false);}this.pane2button[page.id].toggleMenu(true);array.some(this._addMenu.getChildren(),function(menu){if(menu.rearrangeGadgets){menu.rearrangeGadgets(page.containerUnlocked);return;}});this.inherited(arguments);},onLayoutChanged:function(page,evt){},onTabTitleChanged:function(page,value){},onAddGadget:function(evt){}});});},"dijit/InlineEditBox":function(){require({cache:{"url:dijit/templates/InlineEditBox.html":"<span data-dojo-attach-point=\"editNode\" role=\"presentation\" class=\"dijitReset dijitInline dijitOffScreen\"\n\tdata-dojo-attach-event=\"onkeypress: _onKeyPress\"\n\t><span data-dojo-attach-point=\"editorPlaceholder\"></span\n\t><span data-dojo-attach-point=\"buttonContainer\"\n\t\t><button data-dojo-type=\"dijit/form/Button\" data-dojo-props=\"label: '${buttonSave}', 'class': 'saveButton'\"\n\t\t\tdata-dojo-attach-point=\"saveButton\" data-dojo-attach-event=\"onClick:save\"></button\n\t\t><button data-dojo-type=\"dijit/form/Button\"  data-dojo-props=\"label: '${buttonCancel}', 'class': 'cancelButton'\"\n\t\t\tdata-dojo-attach-point=\"cancelButton\" data-dojo-attach-event=\"onClick:cancel\"></button\n\t></span\n></span>\n"}});define("dijit/InlineEditBox",["require","dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/_base/event","dojo/i18n","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/when","./focus","./_Widget","./_TemplatedMixin","./_WidgetsInTemplateMixin","./_Container","./form/Button","./form/_TextBoxMixin","./form/TextBox","dojo/text!./templates/InlineEditBox.html","dojo/i18n!./nls/common"],function(_15b1,array,_15b2,_15b3,_15b4,_15b5,_15b6,event,i18n,_15b7,keys,lang,has,when,fm,_15b8,_15b9,_15ba,_15bb,_15bc,_15bd,_15be,_15bf){var _15c0=_15b2("dijit._InlineEditor",[_15b8,_15b9,_15ba],{templateString:_15bf,postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit","common",this.lang);array.forEach(["buttonSave","buttonCancel"],function(prop){if(!this[prop]){this[prop]=this.messages[prop];}},this);},buildRendering:function(){this.inherited(arguments);var Cls=typeof this.editor=="string"?(lang.getObject(this.editor)||_15b1(this.editor)):this.editor;var _15c1=this.sourceStyle,_15c2="line-height:"+_15c1.lineHeight+";",_15c3=_15b6.getComputedStyle(this.domNode);array.forEach(["Weight","Family","Size","Style"],function(prop){var _15c4=_15c1["font"+prop],_15c5=_15c3["font"+prop];if(_15c5!=_15c4){_15c2+="font-"+prop+":"+_15c1["font"+prop]+";";}},this);array.forEach(["marginTop","marginBottom","marginLeft","marginRight","position","left","top","right","bottom","float","clear","display"],function(prop){this.domNode.style[prop]=_15c1[prop];},this);var width=this.inlineEditBox.width;if(width=="100%"){_15c2+="width:100%;";this.domNode.style.display="block";}else{_15c2+="width:"+(width+(Number(width)==width?"px":""))+";";}var _15c6=lang.delegate(this.inlineEditBox.editorParams,{style:_15c2,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new Cls(_15c6,this.editorPlaceholder);if(this.inlineEditBox.autoSave){_15b5.destroy(this.buttonContainer);}},postCreate:function(){this.inherited(arguments);var ew=this.editWidget;if(this.inlineEditBox.autoSave){this.connect(ew,"onChange","_onChange");this.connect(ew,"onKeyPress","_onKeyPress");}else{if("intermediateChanges" in ew){ew.set("intermediateChanges",true);this.connect(ew,"onChange","_onIntermediateChange");this.saveButton.set("disabled",true);}}},startup:function(){this.editWidget.startup();this.inherited(arguments);},_onIntermediateChange:function(){this.saveButton.set("disabled",(this.getValue()==this._resetValue)||!this.enableSave());},destroy:function(){this.editWidget.destroy(true);this.inherited(arguments);},getValue:function(){var ew=this.editWidget;return String(ew.get(("displayedValue" in ew||"_getDisplayedValueAttr" in ew)?"displayedValue":"value"));},_onKeyPress:function(e){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(e.altKey||e.ctrlKey){return;}if(e.charOrCode==keys.ESCAPE){event.stop(e);this.cancel(true);}else{if(e.charOrCode==keys.ENTER&&e.target.tagName=="INPUT"){event.stop(e);this._onChange();}}}},_onBlur:function(){this.inherited(arguments);if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(this.getValue()==this._resetValue){this.cancel(false);}else{if(this.enableSave()){this.save(false);}}}},_onChange:function(){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&this.enableSave()){fm.focus(this.inlineEditBox.displayNode);}},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():true;},focus:function(){this.editWidget.focus();if(this.editWidget.focusNode){fm._onFocusNode(this.editWidget.focusNode);if(this.editWidget.focusNode.tagName=="INPUT"){this.defer(function(){_15bd.selectInputText(this.editWidget.focusNode);});}}}});var _15c7=_15b2("dijit.InlineEditBox",_15b8,{editing:false,autoSave:true,buttonSave:"",buttonCancel:"",renderAsHtml:false,editor:_15be,editorWrapper:_15c0,editorParams:{},disabled:false,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:has("ie")<=6?"<span style='font-family: wingdings; text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>":"<span style='text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>",constructor:function(){this.editorParams={};},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;var _15c8={ondijitclick:"_onClick",onmouseover:"_onMouseOver",onmouseout:"_onMouseOut",onfocus:"_onMouseOver",onblur:"_onMouseOut"};for(var name in _15c8){this.connect(this.displayNode,name,_15c8[name]);}this.displayNode.setAttribute("role","button");if(!this.displayNode.getAttribute("tabIndex")){this.displayNode.setAttribute("tabIndex",0);}if(!this.value&&!("value" in this.params)){this.value=lang.trim(this.renderAsHtml?this.displayNode.innerHTML:(this.displayNode.innerText||this.displayNode.textContent||""));}if(!this.value){this.displayNode.innerHTML=this.noValueIndicator;}_15b4.add(this.displayNode,"dijitInlineEditBoxDisplayMode");},setDisabled:function(_15c9){_15b7.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_15c9);},_setDisabledAttr:function(_15ca){this.domNode.setAttribute("aria-disabled",_15ca?"true":"false");if(_15ca){this.displayNode.removeAttribute("tabIndex");}else{this.displayNode.setAttribute("tabIndex",0);}_15b4.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",_15ca);this._set("disabled",_15ca);},_onMouseOver:function(){if(!this.disabled){_15b4.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover");}},_onMouseOut:function(){_15b4.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover");},_onClick:function(e){if(this.disabled){return;}if(e){event.stop(e);}this._onMouseOut();this.defer("edit");},edit:function(){if(this.disabled||this.editing){return;}this._set("editing",true);this._savedTabIndex=_15b3.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var _15cb=_15b5.create("span",null,this.domNode,"before");var Ewc=typeof this.editorWrapper=="string"?lang.getObject(this.editorWrapper):this.editorWrapper;this.wrapperWidget=new Ewc({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:_15b6.getComputedStyle(this.displayNode),save:lang.hitch(this,"save"),cancel:lang.hitch(this,"cancel"),textDir:this.textDir},_15cb);if(!this.wrapperWidget._started){this.wrapperWidget.startup();}if(!this._started){this.startup();}}var ww=this.wrapperWidget;_15b4.add(this.displayNode,"dijitOffScreen");_15b4.remove(ww.domNode,"dijitOffScreen");_15b6.set(ww.domNode,{visibility:"visible"});_15b3.set(this.displayNode,"tabIndex","-1");var ew=ww.editWidget;var self=this;when(ew.onLoadDeferred,lang.hitch(ww,function(){ew.set(("displayedValue" in ew||"_setDisplayedValueAttr" in ew)?"displayedValue":"value",self.value);this.defer(function(){ww.saveButton.set("disabled","intermediateChanges" in ew);this.focus();this._resetValue=this.getValue();});}));},_onBlur:function(){this.inherited(arguments);if(!this.editing){}},destroy:function(){if(this.wrapperWidget&&!this.wrapperWidget._destroyed){this.wrapperWidget.destroy();delete this.wrapperWidget;}this.inherited(arguments);},_showText:function(focus){var ww=this.wrapperWidget;_15b6.set(ww.domNode,{visibility:"hidden"});_15b4.add(ww.domNode,"dijitOffScreen");_15b4.remove(this.displayNode,"dijitOffScreen");_15b3.set(this.displayNode,"tabIndex",this._savedTabIndex);if(focus){fm.focus(this.displayNode);}},save:function(focus){if(this.disabled||!this.editing){return;}this._set("editing",false);var ww=this.wrapperWidget;var value=ww.getValue();this.set("value",value);this._showText(focus);},setValue:function(val){_15b7.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(val){val=lang.trim(val);var _15cc=this.renderAsHtml?val:val.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/\n/g,"<br>");this.displayNode.innerHTML=_15cc||this.noValueIndicator;this._set("value",val);if(this._started){this.defer(function(){this.onChange(val);});}if(this.textDir=="auto"){this.applyTextDir(this.displayNode,this.displayNode.innerText);}},getValue:function(){_15b7.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value");},cancel:function(focus){if(this.disabled||!this.editing){return;}this._set("editing",false);this.defer("onCancel");this._showText(focus);},_setTextDirAttr:function(_15cd){if(!this._created||this.textDir!=_15cd){this._set("textDir",_15cd);this.applyTextDir(this.displayNode,this.displayNode.innerText);this.displayNode.align=this.dir=="rtl"?"right":"left";}}});_15c7._InlineEditor=_15c0;return _15c7;});},"url:dijit/templates/InlineEditBox.html":"<span data-dojo-attach-point=\"editNode\" role=\"presentation\" class=\"dijitReset dijitInline dijitOffScreen\"\n\tdata-dojo-attach-event=\"onkeypress: _onKeyPress\"\n\t><span data-dojo-attach-point=\"editorPlaceholder\"></span\n\t><span data-dojo-attach-point=\"buttonContainer\"\n\t\t><button data-dojo-type=\"dijit/form/Button\" data-dojo-props=\"label: '${buttonSave}', 'class': 'saveButton'\"\n\t\t\tdata-dojo-attach-point=\"saveButton\" data-dojo-attach-event=\"onClick:save\"></button\n\t\t><button data-dojo-type=\"dijit/form/Button\"  data-dojo-props=\"label: '${buttonCancel}', 'class': 'cancelButton'\"\n\t\t\tdata-dojo-attach-point=\"cancelButton\" data-dojo-attach-event=\"onClick:cancel\"></button\n\t></span\n></span>\n","url:epi/shell/widget/templates/_TabController.htm":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n    <div data-dojo-type=\"dijit/Toolbar\" class=\"epi-componentToolbar\" data-dojo-attach-point=\"_toolbar\">\r\n        <div data-dojo-type=\"dijit/form/DropDownButton\" id=\"${id}_addBtn\" class=\"epi-componentToolbarButton epi-componentSettingsContainer epi-mediumButton\" iconClass=\"epi-iconSettingsMenu\" data-dojo-attach-point=\"_addBtn\" showLabel=\"false\" title=\"${res.settingsmenutooltip}\">\r\n            <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"_addMenu\"></div>\r\n        </div>\r\n    </div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_menuBtn\" iconClass=\"dijitTabStripMenuIcon\" data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\">&#9660;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_leftBtn\" iconClass=\"dijitTabStripSlideLeftIcon\" data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\" showLabel=\"false\">&#9664;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_rightBtn\" iconClass=\"dijitTabStripSlideRightIcon\" data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\" showLabel=\"false\">&#9654;</div>\r\n    <div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistWrapper\">\r\n        <div wairole=\"tablist\" data-dojo-attach-event=\"onkeypress:onkeypress\" data-dojo-attach-point=\"containerNode\" class=\"nowrapTabStrip\"></div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/dialog/Alert":function(){define(["epi","dojo","dijit/form/Button","epi/shell/widget/dialog/_DialogBase"],function(epi,dojo,_15ce,_15cf){return dojo.declare([_15cf],{acknowledgeActionText:epi.resources.action.ok,closeIconVisible:false,dialogClass:"epi-dialog-alert",buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","alertdialog");this.descriptionNode.setAttribute("role","alert");var _15d0=new _15ce({"class":"Salt",label:this.acknowledgeActionText,onClick:dojo.hitch(this,this._onAcknowledge)});dojo.place(_15d0.domNode,this.actionContainerNode);},_onAcknowledge:function(){this.hide();typeof this.onAction==="function"&&this.onAction();},onAction:function(){}});});},"epi/shell/widget/ValidationTextarea":function(){define(["dojo/_base/declare","dijit/form/Textarea","epi/shell/widget/_ValueRequiredMixin"],function(_15d1,_15d2,_15d3){return _15d1([_15d2,_15d3],{_setPlaceHolderAttr:function(_15d4){this.inherited(arguments);this.set("placeholder",_15d4);},_setValueAttr:function(value){this.inherited(arguments);this._started&&this.validate();}});});},"epi/shell/widget/_ValueRequiredMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_CssStateMixin","dijit/Tooltip"],function(_15d5,lang,_15d6,_15d7){return _15d5([_15d6],{required:null,missingMessage:"",destroy:function(){this.displayMessage(null);this.inherited(arguments);},_onFocus:function(){this.inherited(arguments);this.validate();},_onBlur:function(){this.inherited(arguments);this.validate();},validate:function(_15d8){var _15d9=this.isValid(_15d8);var state=_15d9?"":(_15d8||this._hasBeenBlurred)?"Error":"Incomplete";this.set("state",state);this.set("message",this.getErrorMessage(_15d8));this.displayMessage(_15d9?"":this.getErrorMessage());return _15d9;},isValid:function(_15da){return (!this.required||this.value||this.value===0||(lang.isArray(this.value)&&this.value.length===0));},displayMessage:function(_15db){var _15dc=this.tooltipNode||this.domNode;if(_15db&&this.focused&&!this.isShowingChildDialog){_15d7.show(_15db,_15dc,this.tooltipPosition,!this.isLeftToRight());}else{_15d7.hide(_15dc);}},getErrorMessage:function(_15dd){var _15de=this.get("state")!=="Error";return _15de?"":this.missingMessage;}});});},"epi/shell/widget/WidgetSwitcher":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/Deferred","dojo/topic","dojo/when","epi/shell/_ContextMixin","epi/shell/layout/AnimatedCardContainer","epi/shell/TypeDescriptorManager"],function(array,_15df,_15e0,lang,_15e1,topic,when,_15e2,_15e3,_15e4){return _15df([_15e3,_15e2],{componentConstructorArgs:null,supportedContextTypes:null,constructor:function(){this._viewHistory=[];},postMixInProperties:function(){this.inherited(arguments);if(this.supportedContextTypes){if(!lang.isArray(this.supportedContextTypes)){this.supportedContextTypes=[this.supportedContextTypes];}if(!array.every(this.supportedContextTypes,function(type){return typeof type=="string";})){throw new Error("supportedContextTypes must be string, array of strings or null.");}}},postCreate:function(){this.inherited(arguments);when(this.getCurrentContext(),lang.hitch(this,this.contextChanged));this.own(topic.subscribe("/epi/shell/action/changeview",lang.hitch(this,"viewComponentChangeRequested")),topic.subscribe("/epi/shell/action/changeview/back",lang.hitch(this,"_viewComponentBackRequested")),topic.subscribe("/epi/shell/action/changeview/updatestate",lang.hitch(this,"_changeViewState")));},contextChanged:function(_15e5,data){if(!this._isContextTypeSupported(_15e5)){return;}var view=_15e5.customViewType||(!!data?data.viewType:null);var _15e6=this._getCurrentWidgetInfo();if(data&&data.contextIdSyncChange&&_15e6){view=_15e6.type;data=lang.mixin({},data,{viewName:_15e6.viewName,availableViews:_15e6.availableViews});}if(!view&&_15e5.dataType){view=_15e4.getValue(_15e5.dataType,"mainWidgetType");}if(view){this._getObject(view,null,_15e5,data);}else{var _15e7=_15e4.getValue(_15e5.dataType,"defaultView"),_15e8=this._getAvailableViews(_15e5.dataType),_15e9=data?data.viewName:null;var _15ea=["view","sidebysidecompare","allpropertiescompare"];if(_15e6&&_15ea.indexOf(_15e6.viewName)>=0){array.some(_15e8,function(_15eb){if(_15eb.key===_15e6.viewName){_15e7=_15e6.viewName;return true;}return false;});}var _15ec=this._getViewByKey(_15e9||_15e7,_15e8);if(!_15ec){throw "No default view found for "+_15e5.dataType;}this._loadViewComponentByConfiguration(_15ec,_15e8,null,_15e5,data);}},_getViewByKey:function(key,_15ed){return array.filter(_15ed,function(_15ee){return _15ee.key===key;})[0];},_getAvailableViews:function(_15ef){var _15f0=_15e4.getAndConcatenateValues(_15ef,"availableViews"),_15f1=_15e4.getValue(_15ef,"disabledViews");var _15f2=array.filter(_15f0,function(_15f3){return array.every(_15f1,function(_15f4){return _15f3.key!==_15f4;});});return _15f2.sort(function(x,y){return x.sortOrder<y.sortOrder?-1:1;});},_loadViewComponentByConfiguration:function(view,_15f5,args,_15f6,data){data=lang.mixin({},data,{viewName:view.key,availableViews:_15f5});this._getObject(view.controllerType,args,_15f6,data);},viewComponentChangeRequested:function(type,args,data){when(this.getCurrentContext(),lang.hitch(this,function(_15f7){var _15f8=_15f7?_15f7.dataType:null;if(!type&&_15f8){type=_15e4.getValue(_15f8,"defaultView");}var _15f9=this._getAvailableViews(_15f8),view=this._getViewByKey(type,_15f9);if(view){this._loadViewComponentByConfiguration(view,_15f9,args,_15f7,data);}else{this._getObject(type,args,_15f7,data);}}));},_viewComponentBackRequested:function(_15fa){var _15fb=this._getPreviousWidgetInfo();if(_15fb){if(typeof _15fa==="undefined"){_15fa=false;}var data={skipUpdateView:!_15fa,availableViews:_15fb.availableViews,viewName:_15fb.viewName};when(this.getCurrentContext(),lang.hitch(this,function(_15fc){this._getObject(_15fb.type,null,_15fc,data);}));}},_changeViewState:function(state){var _15fd=this._getCurrentWidgetInfo();if(_15fd){lang.mixin(_15fd,state);}},_getPreviousWidgetInfo:function(){var _15fe=this._viewHistory.length;var _15ff=this._viewHistory;var _1600=(_15ff.length>1)?_15ff[_15ff.length-2]:null;this._viewHistory.splice(_15fe-1,1);return _1600;},_getCurrentWidgetInfo:function(){var _1601=this._viewHistory;return (_1601.length>0)?_1601[_1601.length-1]:null;},_isContextTypeSupported:function(_1602){if(!_1602){return false;}if(!this.supportedContextTypes){return true;}return array.some(this.supportedContextTypes,function(type){return _1602.type===type;});},_getObject:function(type,args,_1603,data){if(!type){return;}var _1604=this.selectedChildWidget;var func=lang.hitch(this,function(){when(this._testComponentInstanceOf(_1604,type),lang.hitch(this,function(_1605){if(_1605){this._updateHistory(type,data,_1603);this._updateView(_1604,_1603,data);this._onViewChanged(type,args,data);}else{this._changeViewComponent(type,args,_1603,data);}}));});if(_1604&&_1604.savePendingChanges){when(_1604.savePendingChanges(),func);}else{func();}},_changeViewComponent:function(type,args,_1606,data){when(this._getChildByType(type),lang.hitch(this,function(_1607){var _1608=this.selectedChildWidget;if(_1608){_1608.set("isActive",false);}if(_1607){_1607.set("isActive",true);if(data&&data.treatAsSecondaryView){this.selectSecondaryChild(_1607);}else{this.selectChild(_1607);}this._updateHistory(type,data,_1606);this._updateView(_1607,_1606,data,true);this._onViewChanged(type,args,data);}else{require([type],lang.hitch(this,function(_1609){var _160a=lang.mixin(lang.mixin({},this.componentConstructorArgs),args);_1607=new _1609(_160a);_1607.fitContainer=true;this.addChild(_1607);var _160b;if(data&&data.treatAsSecondaryView){_160b=this.selectSecondaryChild(_1607);}else{_160b=this.selectChild(_1607);}when(_160b,lang.hitch(this,function(){this._updateHistory(type,data,_1606);this._updateView(_1607,_1606,data,true);this._onViewChanged(type,args,data);}));}));}}));},_updateView:function(_160c,_160d,data,_160e){if(_160c&&!_160c._started&&typeof _160c.startup==="function"){_160c.startup();}if(_160c&&typeof _160c.updateView==="function"){_160c.updateView(data,_160d,{widgetResumed:_160e});}},_getChildByType:function(type){var def=new _15e1();require([type],lang.hitch(this,function(_160f){var _1610=array.filter(this.getChildren(),function(child){return child.constructor===_160f;},this);def.resolve(_1610.length?_1610[0]:null);}));return def;},_testComponentInstanceOf:function(_1611,type){var def=new _15e1();if(_1611){if(typeof type==="string"){require([type],function(_1612){def.resolve(_1611&&_1611.constructor===_1612);});}else{def.resolve(_1611&&_1611.constructor===type.constructor);}}else{def.resolve(false);}return def;},_onViewChanged:function(type,args,data){topic.publish("/epi/shell/action/viewchanged",type,args,data);},_updateHistory:function(type,data,_1613){var _1614=this._viewHistory,_1615=_1614.length,item=this.createStoreItem(type,data,_1613);if(_1615&&_1614[_1615-1].id===item.id){return;}if(_1615===9){_1614.shift();}_1614.push(item);},createStoreItem:function(type,data,_1616){var _1617={type:type,id:type};if(data){var _1618=data.availableViews||(_1616&&this._getAvailableViews(_1616.dataType));var _1619=data.viewName||this._getViewName(_1618,_1616);_1617=lang.mixin(_1617,{availableViews:_1618,viewName:_1619});_1617.id+="#"+_1619;}return _1617;},_getViewName:function(_161a,_161b){if(!_161b){return null;}var _161c=this._getViewByKey(_15e4.getValue(_161b.dataType,"defaultView"),_161a);if(!_161c){return null;}return _161c.key;}});});},"epi/shell/layout/AnimatedCardContainer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/fx","dojo/aspect","dojo/has","dojo/on","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/Deferred","dojo/query","dojo/when","dijit/_TemplatedMixin","dijit/layout/StackContainer","dgrid/util/has-css3"],function(_161d,lang,fx,_161e,has,on,_161f,_1620,_1621,_1622,query,when,_1623,_1624,_1625){return _161d([_1624,_1623],{doLayout:true,templateString:"<div><div class='dijitContainer' style='position: relative; width: 100%; height: 100%' data-dojo-attach-point='containerNode'></div></div>",cssClasses:{animationNode:"epi-animation-node",child:"epi-cardContainer-child",primary:"epi-cardContainer-child--primary",secondary:"epi-cardContainer-child--secondary",secondaryOut:"epi-cardContainer-child--secondary-out",visible:"dijitVisible",hidden:"dijitHidden"},addChild:function(child){var r=this.inherited(arguments);_161f.add(child.domNode,this.cssClasses.child);return r;},selectSecondaryChild:function(page){return this.selectChild(page,has("css-transitions"));},_transition:function(_1626,_1627,_1628){var d;if(_1628&&_1627){d=this._showChild(_1626);if(_1626.resize){if(this.doLayout){_1626.resize(this._containerContentBox||this._contentBox);}else{_1626.resize();}}_161f.add(_1627.domNode,this.cssClasses.primary);_1627.onHide&&_1627.onHide();when(this._executeTransition(_1626,this.cssClasses.secondary),lang.hitch(this,function(_1629){if(this.selectedPreviousChild&&this.selectedPreviousChild!==_1626){_161f.add(_1627.domNode,this.cssClasses.hidden);_161f.remove(_1627.domNode,this.cssClasses.visible);}}));this.selectedPreviousChild=_1627;}else{if(this.selectedPreviousChild===_1626){_161f.add(this.selectedPreviousChild.domNode,this.cssClasses.visible);_161f.remove(this.selectedPreviousChild.domNode,this.cssClasses.hidden);_161f.remove(this.selectedPreviousChild.domNode,this.cssClasses.primary);_161f.remove(this.selectedChildWidget.domNode,this.cssClasses.secondary);when(this._executeTransition(this.selectedChildWidget,this.cssClasses.secondaryOut),lang.hitch(this,function(_162a){_161f.remove(_162a.domNode,this.cssClasses.visible);_161f.add(_162a.domNode,this.cssClasses.hidden);_161f.remove(_162a.domNode,this.cssClasses.secondaryOut);}),lang.hitch(this,function(_162b){_161f.remove(_162b.domNode,this.cssClasses.visible);_161f.add(_162b.domNode,this.cssClasses.hidden);}));if(_1626!==this.selectedPreviousChild){_161f.replace(this.selectedPreviousChild.domNode,this.cssClasses.hidden,this.cssClasses.visible);}this.selectedPreviousChild=null;}else{if(_1627){this._hideChild(_1627);_161f.remove(_1627.domNode,this.cssClasses.primary);}}d=this._showChild(_1626);_161f.add(_1626.domNode,this.cssClasses.primary);if(_1626.resize){if(this.doLayout){_1626.resize(this._containerContentBox||this._contentBox);}else{_1626.resize();}}}return d;},_executeTransition:function(_162c,_162d){var d=new _1622();var _162e=_162c.domNode;var _162f=query("."+this.cssClasses.animationNode,_162e);var _1630=_162f.length>0?_162f[0]:null;if(_1630&&_162e&&has("css-transitions")){_161f.add(_162e,_162d);this.own(this.defer(function(){on.once(_1630,has("transitionend"),function(){d.resolve(_162c);});},1));}else{d.reject(_162c);}return d;}});});},"xstyle/core/load-css":function(){define([],function(){"use strict";var cache=typeof _css_cache=="undefined"?{}:_css_cache;var doc=document;function has(){return !doc.createStyleSheet;};var head=doc.head;function _1631(css){if(has("dom-create-style-element")){_1632=doc.createElement("style");_1632.setAttribute("type","text/css");_1632.appendChild(doc.createTextNode(css));head.insertBefore(_1632,head.firstChild);return _1632;}else{var _1632=doc.createStyleSheet();_1632.cssText=css;return _1632.owningElement;}};function load(_1633,_1634,_1635){var _1636=cache[_1633];if(_1636){link=_1631(_1636);return _1634(link);}var link=doc.createElement("link");link.type="text/css";link.rel="stylesheet";link.href=_1633;var wait=!_1635||_1635.wait!==false;var _1637=navigator.userAgent.match(/AppleWebKit\/(\d+\.?\d*)/);_1637=_1637&&+_1637[1];if(link.onload===null&&!(_1637<536)){link.onload=function(){link.onload=null;link.onerror=null;wait&&_1634(link);};link.onerror=function(){console.error("Error loading stylesheet "+_1633);wait&&_1634(link);};}else{if(wait){var _1638=setInterval(function(){if(link.style){clearInterval(_1638);_1634(link);}},15);}}(head||doc.getElementsByTagName("head")[0]).appendChild(link);if(!wait){_1634(link);}};load.insertCss=_1631;return load;});},"*now":function(r){r(["dojo/i18n!*preload*epi/shell/nls/widgets*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});