//>>built
define("epi/username",["dojox/html/entities","epi/dependency","epi/i18n!epi/shell/ui/nls/episerver.shared.text"],function(_1,_2,_3){return {toUserFriendlyString:function(_4,_5,_6,_7,_8){if(!_5){_5=this._getCurrentUsername();}var _9=_7?"":_3.installer,_a=_8?_3.yousubject:_3.youobject,_b=_4&&_5.toLowerCase()===_4.toLowerCase()?_a:_4||_9;if(_6){_b=_b.charAt(0).toUpperCase()+_b.slice(1);}return _b;},toUserFriendlyHtml:function(_c,_d,_e,_f,_10){var _11=this.toUserFriendlyString(_c,_d,_e,_f,_10);if(_11===""){return _11;}return "<span class='epi-username'>"+_1.encode(_11)+"</span>";},_getCurrentUsername:function(){if(!this.currentUsername){var _12=_2.resolve("epi.shell.Profile");this.currentUsername=_12.get("userName");}return this.currentUsername;}};});